{"version":3,"sources":["assets/images/logo_dark_transparent.png","components/Login.js","components/Signup.js","pages/LandingPage.jsx","config.js","contexts/UserContext.js","components/CategoryCard.js","pages/SignupCategoryPage.js","components/GroupCard.js","components/Animation.js","pages/SignupGroupPage.js","components/Navbar.js","components/Pagination.js","components/AddGroup.js","pages/ExploreGroupPage.js","components/CommentCard.js","components/PostCard.js","pages/HomePage.js","components/AddPost.js","components/EditGroup.js","components/FlashMessage.js","components/AddEvent.js","components/EventCard.js","pages/GroupPage.js","components/ProfileInfo.js","components/UpdateProfile.js","pages/UserPage.js","assets/images/profile.png","components/UserCard.js","pages/PeoplePage.js","components/NotificationBoard.js","pages/FriendsPage.js","pages/ChatPage.js","pages/EventPage.js","pages/NotFound.js","contexts/DefaultTheme.js","contexts/DarkTheme.js","pages/VideoChatPage.js","App.js","index.js"],"names":["Login","props","Container","maxWidth","Paper","className","style","display","flexDirection","alignItems","position","IconButton","onClick","onLoginPopUp","top","right","src","logo","alt","width","autocomplete","onSubmit","onLogin","TextField","id","label","type","variant","name","marginTop","Button","color","Signup","onSignUpPopUp","onSignUp","novalidate","LandingPage","useState","signup","setSignUp","location","state","login","setLogin","handleSignUpPopUp","handleLoginPopUp","align","Typography","gutterBottom","API_URL","process","userContext","React","createContext","user","onUpdateUser","onLogout","CategoryCard","image","onUpdateCategories","selected","setSelected","classes","makeStyles","theme","root","flexWrap","minWidth","height","marginLeft","breakpoints","down","zIndex","opacity","border","focusVisible","imageButton","left","bottom","justifyContent","palette","common","white","borderRadius","boxShadow","imageSrc","backgroundSize","backgroundPosition","imageBackdrop","backgroundColor","black","transition","transitions","create","imageTitle","padding","spacing","imageMarked","useStyles","ButtonBase","focusRipple","focusVisibleClassName","category","title","backgroundImage","url","component","SignupCategoryPage","history","categories","setCategories","useContext","UserContext","btn","to","pathname","renderLogin","handleUpdateCategoriesState","newCategory","toLowerCase","newCategories","JSON","parse","stringify","includes","filter","oldCategory","push","handleUpdateCategoriesUser","a","categoryInfo","_id","axios","post","response","console","log","data","marginBottom","length","size","Grid","container","direction","alignContent","categoryData","map","index","item","xs","sm","md","GroupCard","group","media","paddingTop","Card","CardMedia","image_url","CardContent","description","CardActions","startIcon","users","postCount","Animation","defaultOptions","loop","autoplay","animationData","animation","rendererSettings","preserveAspectRatio","options","SignupGroupPage","groups","setGroups","useEffect","get","params","getGroupData","endIcon","textDecoration","loading","NavBar","onChangeThemeColor","groupNames","setGroupNames","menuIndex","setMenuIndex","selectedGroup","useLocation","replace","mobileOpen","setMobileOpen","setValue","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","selectedMenu","setSelectedMenu","drawer","up","flexShrink","appBar","menuButton","marginRight","toolbar","mixins","drawerPaper","content","flexGrow","appBarHeight","moveDrawerDown","grow","inputInput","paddingLeft","sectionDesktop","sectionMobile","withCredentials","groupNamesTemporary","indexOf","getGroupNames","useTheme","useHistory","handleDrawerToggle","Tabs","orientation","value","onChange","event","newValue","tabs","textAlign","Tab","onNavBarChange","groupName","handleProfileMenuOpen","menuType","currentTarget","handleMobileMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","mobileMenuId","renderMobileMenu","Badge","badgeContent","friendRequests","CssBaseline","AppBar","elevation","Toolbar","showDrawer","edge","Tooltip","TransitionComponent","Zoom","Avatar","username","Hidden","smUp","implementation","Drawer","anchor","paper","ModalProps","xsDown","children","Pagination","RenderComponent","dataLimit","Math","ceil","pages","currentPage","setCurrentPage","startIndex","endIndex","slice","getPaginatedData","idx","count","page","AddGroup","setCategory","onAddGroupPopUp","encType","onAddGroup","placeholder","multiline","rows","maxRows","FormControl","InputLabel","Select","labelId","target","accept","ExploreGroupPage","onError","onSuccess","filteredGroups","setFilteredGroups","addGroup","setAddGroup","getGroups","handleCreateGroup","preventDefault","tags","imgResponse","imageUrl","formData","FormData","append","files","groupData","trim","split","admin","successMessage","errorMessage","handleAddGroupPopUp","Navbar","transform","lcTags","tag","CommentCard","onHandleLikesAndDislikes","comment","createdAt","likes","dislikes","owner","moment","format","wordBreak","PostCard","postData","setPost","commentContent","setCommentContent","showLikeAnimation","setShowLikeAnimation","showMessageAnimation","setShowMessageAnimation","expand","duration","shortest","expandOpen","avatar","red","expanded","setExpanded","handleAddComment","commentData","postId","Date","temporaryShowAnimation","updateLikesAndDislikes","likeAndDislikeData","handleLikesAndDislikes","action","postOrCommentId","userId","animationFunction","setTimeout","CardHeader","creator","subheader","disableSpacing","LikeAnimation","MessageAnimation","comments","Collapse","in","timeout","unmountOnExit","rowsMax","HomePage","posts","setPosts","navBarChanged","setNavBarChanged","getPosts","AddPost","onCloseAddPost","onAddPost","margin","EditGroup","onCloseEditGroup","onEditGroup","temporaryGroup","setTemporaryGroup","changeInputData","FlashMessage","trigger","messageType","setOpen","handleClose","reason","Snackbar","autoHideDuration","severity","AddEvent","onCloseAddEvent","onAddEvent","currentDate","currentDateOneHourLater","defaultValue","InputLabelProps","shrink","EventCard","eventData","onEventStatusChanged","setEvent","handleEventParticipation","eventInfo","eventId","newEvent","CardActionArea","start","end","AvatarGroup","max","GroupPage","match","setGroup","events","setEvents","showAddPost","setShowAddPost","showAddEvent","setShowAddEvent","showEditGroup","setShowEditGroup","showFlashMessage","setShowFlashMessage","setSuccessMessage","snackbar","setSnackbar","groupInfo","postResponse","eventResponse","sort","b","handleAddPost","random","newPost","groupOrigin","createdPost","handleAddEvent","handleEditGroup","newGroup","patch","handleJoinGroup","joinInfo","groupId","handleLeaveGroup","leaveInfo","oldGroupName","oldGroupId","ButtonGroup","ProfileInfo","isLoggedInUser","onEditProfilePopUp","profile","requested","friends","onFriend","onUnfriend","large","UpdateProfile","background","onEditProfile","noValidate","email","UserPage","editProfile","setEditProfile","setProfile","setRequested","setFriends","urlId","getUser","handleSendRequest","userData","handleUnfriendRequest","handleEditProfile","imgData","newUserData","handleEditProfilePopUp","bullet","fontSize","pos","UserCard","interests","elem","toUpperCase","join","handleChat","obj","participants","Logo","PeoplePage","setUsers","filteredUsers","setFilteredUsers","getUsers","i","inline","NotificationBoard","onSendResponse","loggedusername","responded","requestComplete","setRequestCompleted","handleRequestToggle","ListItem","ListItemAvatar","ListItemText","primary","secondary","Fragment","Divider","overflowY","FriendsPage","requests","setRequests","notificationPopUp","setNotificationsPopup","updatedUser","setUpdatedUser","setResponded","handleNotificationToggle","handleResponse","request","res","handleRefresh","List","person","socket","ChatPage","messagesEnd","createRef","messageList","currentMessage","scrollToBottom","scrollIntoView","behavior","handleMessageInput","e","setState","onSendMessage","sendMessage","messageContent","chatId","sender","message","emit","io","conversationId","this","then","catch","err","on","Box","val","float","clear","ref","el","Component","EventPage","calendarEvents","setCalendarEvents","filteredCalendarEvents","setFilteredCalendarEvents","showEvent","setShowEvent","selectedEvent","setSelectedEvent","formatEvents","calendarRef","useRef","eventGroupOriginId","eventUserIds","userGroupIds","main","info","handleMyEvents","eventsFiltered","calendarEvent","groupOriginId","changedEvent","newEvents","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","initialView","showNonCurrentDates","date","headerToolbar","center","editable","selectable","eventClick","selectedEventId","_def","publicId","customButtons","ChangeViewMonth","text","click","calendar","current","getApi","changeView","ChangeViewWeek","NotFound","notFoundAnimation","defaultTheme","createTheme","dark","light","responsiveFontSizes","darkTheme","connect","VideoChatPage","me","setMe","stream","setStream","receivingCall","setReceivingCall","caller","setCaller","callerSignal","setCallerSignal","callAccepted","setCallAccepted","idToCall","setIdToCall","callEnded","setCallEnded","setName","myVideo","userVideo","connectionRef","navigator","mediaDevices","getUserMedia","video","audio","srcObject","notify","from","signal","playsInline","muted","autoPlay","destroy","peer","Peer","initiator","trickle","userToCall","signalData","callUser","App","setUser","fetchingUser","setFetchingUser","setErrorMessage","randomNumber","setRandomNumber","showDarkTheme","setShowDarkTheme","handleLogin","password","myUser","handleSignUp","newUser","handleUpdateUser","handleSuccessMessage","success","handleErrorMessage","error","handleLogout","ThemeProvider","Provider","prevShowDarkThem","exact","path","render","routeProps","ReactDOM","StrictMode","document","getElementById"],"mappings":"4oifAAe,2wK,iCC0CAA,MAjCf,SAAeC,GACX,OACI,cAACC,EAAA,EAAD,CAAWC,SAAS,KAApB,SACI,eAACC,EAAA,EAAD,CAAOC,UAAU,iBAAiBC,MAAO,CAACC,QAAS,OAAQC,cAAe,SAAUC,WAAY,SAAUC,SAAU,YAApH,UACI,cAACC,EAAA,EAAD,CAAYC,QAASX,EAAMY,aAAcP,MAAO,CAACI,SAAU,WAAYI,IAAK,IAAKC,MAAO,KAAxF,SACI,cAAC,IAAD,MAEJ,qBAAKC,IAAKC,EAAMC,IAAI,aAAaZ,MAAO,CAACa,MAAO,SAChD,uBAAMC,aAAa,MAAMC,SAAUpB,EAAMqB,QAAShB,MAAO,CAACC,QAAS,OAAQC,cAAe,SAAUC,WAAY,UAAhH,UACI,cAACc,EAAA,EAAD,CACIC,GAAG,0BACHC,MAAM,WACNC,KAAK,OACLC,QAAQ,WACRC,KAAK,WACLtB,MAAO,CAACuB,UAAW,WAEvB,cAACN,EAAA,EAAD,CACIC,GAAG,0BACHC,MAAM,WACNC,KAAK,WACLC,QAAQ,WACRC,KAAK,WACLtB,MAAO,CAACuB,UAAW,UAEvB,cAACC,EAAA,EAAD,CAAQJ,KAAK,SAASC,QAAQ,WAAWI,MAAM,UAAUzB,MAAO,CAACuB,UAAW,QAA5E,4BCkBLG,MA3Cf,SAAgB/B,GACZ,OACI,cAACC,EAAA,EAAD,CAAWC,SAAS,KAApB,SACA,eAACC,EAAA,EAAD,CAAOC,UAAU,iBAAiBC,MAAO,CAACC,QAAS,OAAQC,cAAe,SAAUC,WAAY,SAAUC,SAAU,YAApH,UACI,cAACC,EAAA,EAAD,CAAYC,QAASX,EAAMgC,cAAe3B,MAAO,CAACI,SAAU,WAAYI,IAAK,IAAKC,MAAO,KAAzF,SACI,cAAC,IAAD,MAGR,qBAAKC,IAAKC,EAAMC,IAAI,aAAaZ,MAAO,CAACa,MAAO,SAChD,uBAAMC,aAAa,MAAMd,MAAO,CAACC,QAAS,OAAQC,cAAe,SAAUC,WAAY,UAAWY,SAAUpB,EAAMiC,SAAUC,YAAU,EAAtI,UACI,cAACZ,EAAA,EAAD,CACAC,GAAG,0BACHC,MAAM,WACNC,KAAK,OACLC,QAAQ,WACRC,KAAK,WACLtB,MAAO,CAACuB,UAAW,WAEnB,cAACN,EAAA,EAAD,CACAC,GAAG,0BACHC,MAAM,QACNC,KAAK,OACLC,QAAQ,WACRC,KAAK,QACLtB,MAAO,CAACuB,UAAW,UAEnB,cAACN,EAAA,EAAD,CACAC,GAAG,0BACHC,MAAM,WACNC,KAAK,WACLC,QAAQ,WACRC,KAAK,WACLtB,MAAO,CAACuB,UAAW,UAEnB,cAACC,EAAA,EAAD,CAAQJ,KAAK,SAASC,QAAQ,WAAWI,MAAM,UAAUzB,MAAO,CAACuB,UAAW,QAA5E,8BCsBGO,MAxDf,SAAqBnC,GACnB,MAA4BoC,oBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KAGA,EAA0BF,qBAASpC,EAAMuC,SAASC,OAAlD,mBAAOC,EAAP,KAAcC,EAAd,KAEIC,EAAoB,kBAAML,GAAWD,IACrCO,EAAmB,kBAAMF,GAAUD,IAEvC,OACE,sBAAKrC,UAAU,qBAAf,UACE,eAACH,EAAA,EAAD,WACE,sBAAKG,UAAU,yBAAyByC,MAAM,SAA9C,UACE,qBAAK9B,IAAKC,EAAME,MAAM,QAAQD,IAAKD,IACnC,cAAC8B,EAAA,EAAD,CACEpB,QAAQ,KACRqB,cAAY,EACZF,MAAM,SACNf,MAAM,YAJR,gEASF,sBAAK1B,UAAU,qBAAqByC,MAAM,SAA1C,UACE,cAAChB,EAAA,EAAD,CACElB,QAASiC,EACTnB,KAAK,SACLC,QAAQ,WACRI,MAAM,UAJR,mBAQA,cAACD,EAAA,EAAD,CACElB,QAASgC,EACTlB,KAAK,SACLC,QAAQ,WACRI,MAAM,UAJR,2BAUHO,GACC,qBAAKjC,UAAU,eAAf,SACE,cAAC,EAAD,CAAQ4B,cAAeW,EAAmBV,SAAUjC,EAAMiC,aAE3D,IACFQ,GACC,qBAAKrC,UAAU,eAAf,SACE,cAAC,EAAD,CAAOQ,aAAcgC,EAAkBvB,QAASrB,EAAMqB,gB,0BCxDjD2B,EAFDC,kC,QCICC,EAFKC,IAAMC,cAAc,CAACC,KAAM,GAAIC,aAAc,aAAUC,SAAU,e,kBCgItEC,MA7Hf,YAAoD,IAA7BC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,mBAC1B,EAAkCtB,oBAAS,GAA3C,mBAAQuB,EAAR,KAAkBC,EAAlB,KAqFMC,EAnFYC,aAAW,SAACC,GAAD,YAAY,CACrCC,KAAM,CACJ1D,QAAS,OACT2D,SAAU,OACVC,SAAU,IACVhD,MAAO,QAETuC,OAAK,GACHhD,SAAU,WACV0D,OAAQ,IACRC,WAAY,MACZlD,MAAO,OAJJ,cAKF6C,EAAMM,YAAYC,KAAK,MAAQ,CAC9BpD,MAAO,kBACPiD,OAAQ,IACRC,WAAY,OARX,cAUH,0BAA2B,CACzBG,OAAQ,EACR,mBAAoB,CAClBC,QAAS,IAEX,iBAAkB,CAChBA,QAAS,IAEX,gBAAiB,CACfC,OAAQ,4BAnBT,GAuBLC,aAAc,GACdC,YAAa,CACXlE,SAAU,WACVmE,KAAM,EACN9D,MAAO,EACPD,IAAK,EACLgE,OAAQ,EACRvE,QAAS,OACTE,WAAY,SACZsE,eAAgB,SAChBhD,MAAOiC,EAAMgB,QAAQC,OAAOC,MAC5BC,aAAc,OACdC,UAAW,sCAEbC,SAAU,CACR3E,SAAU,WACVmE,KAAM,EACN9D,MAAO,EACPD,IAAK,EACLgE,OAAQ,EACRQ,eAAgB,QAChBC,mBAAoB,aACpBJ,aAAc,OACdC,UAAW,uCAEbI,cAAe,CACb9E,SAAU,WACVmE,KAAM,EACN9D,MAAO,EACPD,IAAK,EACLgE,OAAQ,EACRW,gBAAiBzB,EAAMgB,QAAQC,OAAOS,MACtCjB,QAASb,EAAW,EAAI,EACxB+B,WAAY3B,EAAM4B,YAAYC,OAAO,WACrCV,aAAc,OACdC,UAAW,uCAEbU,WAAY,CACVpF,SAAU,WACVqF,QAAQ,GAAD,OAAK/B,EAAMgC,QAAQ,GAAnB,cAA2BhC,EAAMgC,QAAQ,GAAzC,cAAiDhC,EAAMgC,QAAQ,GAAK,EAApE,OAETC,YAAa,CACX7B,OAAQ,EACRjD,MAAO,GACPsE,gBAAiBzB,EAAMgB,QAAQC,OAAOC,MACtCxE,SAAU,WACVoE,QAAS,EACTD,KAAM,kBACNc,WAAY3B,EAAM4B,YAAYC,OAAO,WACrCV,aAAc,WAIJe,GAOhB,OACI,8BACI,eAACC,EAAA,EAAD,CACIC,aAAW,EAEX/F,UAAWyD,EAAQJ,MACnB2C,sBAAuBvC,EAAQa,aAC/B/D,QAAS,kBAZG0F,EAYkB5C,EAAM6C,MAX5C1C,GAAaD,QACbD,EAAmB2C,GAFA,IAACA,GAOhB,UAOF,sBACEjG,UAAWyD,EAAQuB,SACnB/E,MAAO,CACLkG,gBAAgB,OAAD,OAAS9C,EAAM+C,IAAf,QAGnB,sBAAMpG,UAAWyD,EAAQ0B,gBACzB,sBAAMnF,UAAWyD,EAAQc,YAAzB,SACE,eAAC7B,EAAA,EAAD,CACE2D,UAAU,OACV/E,QAAQ,YACRI,MAAM,UACN1B,UAAWyD,EAAQgC,WAJrB,UAMGpC,EAAM6C,MACP,sBAAMlG,UAAWyD,EAAQmC,qBApBlBvC,EAAM6C,U,oCCYZI,MAvGf,YAA2C,IAAZC,EAAW,EAAXA,QAE3B,EAAsCvE,mBAAS,IAA/C,mBAAQwE,EAAR,KAAoBC,EAApB,KACA,EAA6BC,qBAAWC,GAAjC1D,EAAP,EAAOA,KAAMC,EAAb,EAAaA,aAaPO,EAXYC,aAAW,SAACC,GAAD,MAAY,CACrCiD,IAAI,aACAvG,SAAU,WACVI,IAAK,MACLC,MAAO,OACNiD,EAAMM,YAAYC,KAAK,MAAQ,CAC5BM,KAAM,SAKFqB,GAEhB,IAAK5C,EACD,OAAO,cAAC,IAAD,CAAU4D,GAAI,CACjBC,SAAU,IACV1E,MAAO,CAAE2E,aAAa,MAI9B,IAAMC,EAA8B,SAACf,GAIjC,IAAIgB,EAAchB,EAASiB,cACvBC,EAAgBC,KAAKC,MAAMD,KAAKE,UAAUd,IAC1CW,EAAcI,SAASN,GACvBE,EAAgBA,EAAcK,QAAO,SAAAC,GAAW,OAAIA,IAAgBR,KAGpEE,EAAcO,KAAKT,GAEvBR,EAAcU,IAGZQ,EAA0B,uCAAG,8BAAAC,EAAA,sEAEvBC,EAAe,CACfC,IAAK7E,EAAK6E,IACVtB,cAJuB,SAMNuB,IAAMC,KAAN,UAAcpF,EAAd,wBAA6CiF,GANvC,cAMvBI,EANuB,OAS3BC,QAAQC,IAAI,gCAAiCF,EAASG,MAT3B,SAUrBlF,EAAa+E,EAASG,MAVD,OAW3B7B,EAAQmB,KAAK,iBAXc,4GAAH,qDAkBhC,OACI,mCACA,eAAC7H,EAAA,EAAD,CAAWI,MAAO,CAAEuB,UAAW,QAA/B,UACI,sBAAKvB,MAAO,CAAEI,SAAU,YAAaL,UAAU,UAA/C,UACI,cAAC0C,EAAA,EAAD,CAAYpB,QAAQ,KAAKqB,cAAY,EAACF,MAAM,SAASf,MAAM,UAAUzB,MAAO,CAACoI,aAAc,QAA3F,sCAII7B,EAAW8B,OAAS,GAChB,cAAC7G,EAAA,EAAD,CACIC,MAAM,UACN6G,KAAK,QACLjH,QAAQ,YACRtB,UAAWyD,EAAQmD,IACnBrG,QAASoH,EALb,SAOKnB,EAAW8B,OAAS,EAAI,cAAC,IAAD,IAAwB,QAIjE,cAACE,EAAA,EAAD,CACIC,WAAS,EACTC,UAAU,MACVhE,eAAe,SACftE,WAAW,SACXuI,aAAa,SACbhD,QAAS,EANb,SASYiD,EAAaC,KAAI,SAACxF,EAAOyF,GACrB,OACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAA9B,SACI,qBAAKlJ,UAAW8I,EAAQ,GAAKA,EAAQ,EAAI,WAAa,YAAtD,SACI,cAAC,EAAD,CAA0BzF,MAAOA,EAAOC,mBAAoB0D,GAAzC8B,kB,wEC1D5CK,MAtCf,YAA6B,IAATC,EAAQ,EAARA,MAWV3F,EAVYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ9D,SAAU,KAEZuJ,MAAO,CACLtF,OAAQ,EACRuF,WAAY,UAIAzD,GAEhB,OACA,eAAC0D,EAAA,EAAD,CAAMvJ,UAAWyD,EAAQG,KAAzB,UACI,cAAC4F,EAAA,EAAD,CACAxJ,UAAWyD,EAAQ4F,MACnBhG,MAAO+F,EAAMK,UACbvD,MAAOkD,EAAM7H,OAEjB,eAACmI,EAAA,EAAD,WACI,cAAChH,EAAA,EAAD,CAAYpB,QAAQ,YAApB,SAAiC8H,EAAM7H,OACvC,cAACmB,EAAA,EAAD,CAAYpB,QAAQ,QAAQI,MAAM,gBAAgB2E,UAAU,IAA5D,SACC+C,EAAMO,iBAGX,eAACC,EAAA,EAAD,CAAa3J,MAAO,CAACC,QAAS,OAAQwE,eAAgB,iBAAtD,UACI,eAACjD,EAAA,EAAD,CAASC,MAAM,UAAUmI,UAAW,cAAC,IAAD,IAApC,UACKT,EAAMU,MAAMxB,OADjB,cAGA,eAAC7G,EAAA,EAAD,CAASC,MAAM,UAAUmI,UAAW,cAAC,IAAD,IAApC,UACKT,EAAMW,UADX,mB,4CCZOC,OArBf,YAAiD,IAA5BjG,EAA2B,EAA3BA,OAAQjD,EAAmB,EAAnBA,MAEtBmJ,EAAiB,CACtBC,MAAM,EACNC,UAAU,EACVC,cAL8C,EAAZC,UAMlCC,iBAAkB,CACjBC,oBAAqB,mBAIvB,OACC,8BACC,cAAC,IAAD,CACCC,QAASP,EACTlG,OAAQA,EACRjD,MAAOA,O,SC8EI2J,OApFf,YAAqC,IAAXlE,EAAU,EAAVA,QAEtB,EAA8BvE,mBAAS,IAAvC,mBAAQ0I,EAAR,KAAgBC,EAAhB,KACO1H,EAAQyD,qBAAWC,GAAnB1D,KAwBP,OArBA2H,qBAAU,YACY,uCAAG,8BAAAhD,EAAA,sEAETC,EAAe,CACfrB,WAAYvD,EAAKuD,YAHR,SAMQuB,IAAM8C,IAAN,UAAajI,EAAb,qBAAyC,CAAEkI,OAAQjD,IAN3D,OAMTI,EANS,OAOb0C,EAAU1C,EAASG,MAPN,yGAAH,qDAclB2C,KACD,CAAC9H,IAKCA,EASAyH,EAAOpC,OAMR,eAACzI,EAAA,EAAD,CAAWI,MAAO,CAAEuB,UAAW,QAA/B,UAEI,qBAAKvB,MAAO,CAAEC,QAAS,OAAQC,cAAe,SAAUC,WAAY,UAAWJ,UAAU,UAAzF,SACI,eAAC0C,EAAA,EAAD,CAAYpB,QAAQ,KAAKqB,cAAY,EAACF,MAAM,SAASf,MAAM,UAAUzB,MAAO,CAACoI,aAAc,QAA3F,4CAEI,cAAC5G,EAAA,EAAD,CACIxB,MAAO,CAAE+D,WAAY,QACrBgH,QAAS,cAAC,IAAD,IACT1J,QAAQ,WACRf,QAAS,WAAOgG,EAAQmB,KAAK,UAJjC,uBAWR,cAACc,EAAA,EAAD,CACIC,WAAS,EACTC,UAAU,MACVhE,eAAe,SACftE,WAAW,SACXuI,aAAa,SACbhD,QAAS,EANb,SASQ+E,EAAO7B,KAAI,SAACO,EAAON,GACf,OACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACI,qBAAKjJ,UAAW8I,EAAQ,IAAM,EAAI,WAAa,YAA/C,SACI,cAAC,IAAD,CAAMjC,GAAE,iBAAYuC,EAAM7H,MAAQtB,MAAO,CAAEgL,eAAgB,QAA3D,SACI,cAAC,EAAD,CAAW7B,MAAOA,EAAON,MAAOA,SAHbA,WAhC5C,cAAC,GAAD,CAAWhI,MAAO,IAAKiD,OAAQ,IAAKsG,UAAWa,KAT/C,cAAC,IAAD,CAAUrE,GAAI,CACjBC,SAAU,IACV1E,MAAO,CAAE2E,aAAa,O,sSCmXnBoE,OA9Yf,SAAgBvL,GACd,MAA6C8G,qBAAWC,GAAjD1D,EAAP,EAAOA,KAAME,EAAb,EAAaA,SAAUiI,EAAvB,EAAuBA,mBACvB,EAAoCpJ,mBAAS,IAA7C,mBAAOqJ,EAAP,KAAmBC,EAAnB,KACA,EAAkCtJ,mBAAS,MAA3C,mBAAOuJ,EAAP,KAAkBC,EAAlB,KAIIC,EADWC,cACc5E,SAAS6E,QAAQ,UAAW,IAQzD,EAAoC3J,oBAAS,GAA7C,mBAAO4J,EAAP,KAAmBC,EAAnB,KACA,EAA0B7J,mBAAS,GAAnC,mBAAc8J,GAAd,WAKA,EAAgC9J,mBAAS,MAAzC,mBAAO+J,EAAP,KAAiBC,EAAjB,KACA,EAAoDhK,mBAAS,MAA7D,mBAAOiK,EAAP,KAA2BC,EAA3B,KAIMC,EAAaC,QAAQL,GACrBM,EAAmBD,QAAQH,GAGjC,EAAwCjK,mBAAS,MAAjD,mBAAOsK,EAAP,KAAqBC,EAArB,KAEM1G,EAAYnC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ1D,QAAS,QAEXsM,OAAO,eACJ7I,EAAMM,YAAYwI,GAAG,MAAQ,CAC5B3L,MA3Bc,IA4Bd4L,WAAY,IAGhBC,OAAO,aACL5I,OA/BiB,IAgChBJ,EAAMM,YAAYwI,GAAG,MAAQ,IAIhCG,WAAW,aACTC,YAAalJ,EAAMgC,QAAQ,IAC1BhC,EAAMM,YAAYwI,GAAG,MAAQ,CAC5BvM,QAAS,SAIb4M,QAASnJ,EAAMoJ,OAAOD,QACtBE,YAAa,CACXxL,UA7CiB,GA8CjBV,MA/CgB,KAiDlBmM,QAAS,CACPC,SAAU,EAEV1L,UAAW2L,IAEbC,eAAgB,CACZ5L,UAAW,MAGf6L,KAAM,CACJH,SAAU,GAEZhH,MAAM,aACJhG,QAAS,QACRyD,EAAMM,YAAYwI,GAAG,MAAQ,CAC5BvM,QAAS,UAMboN,WAAW,aACT5H,QAAS/B,EAAMgC,QAAQ,EAAG,EAAG,EAAG,GAEhC4H,YAAY,cAAD,OAAgB5J,EAAMgC,QAAQ,GAA9B,OACXL,WAAY3B,EAAM4B,YAAYC,OAAO,SACrC1E,MAAO,QACN6C,EAAMM,YAAYwI,GAAG,MAAQ,CAC5B3L,MAAO,SAGX0M,eAAe,aACbtN,QAAS,QACRyD,EAAMM,YAAYwI,GAAG,MAAQ,CAC5BvM,QAAS,SAGbuN,cAAc,aACZvN,QAAS,QACRyD,EAAMM,YAAYwI,GAAG,MAAQ,CAC5BvM,QAAS,aAKf0K,qBAAU,YACW,uCAAG,8BAAAhD,EAAA,+EAEGG,IAAM8C,IAAN,UAAajI,EAAb,kCAA8CK,EAAK6E,KAAO,CAAC4F,iBAAiB,IAF/E,OAEdzF,EAFc,OAGd0F,EAAsB1F,EAASG,KAAKS,KAAI,SAAAO,GAAK,OAAIA,EAAM7H,QAC3DiK,EAAamC,EAAoBC,QAAQnC,GAAiB,GAC1DH,EAAcqC,GALI,yGAAH,qDAUnBE,KACC,CAAC5K,IAEJ,IAAMQ,EAAUoC,IACVlC,EAAQmK,eACVvH,EAAUwH,cAGRC,EAAqB,WACvBnC,GAAeD,IAebY,GACF,8BACI,eAACyB,GAAA,EAAD,CACAC,YAAY,WACZ5M,QAAQ,aACR6M,MAAO5C,EACP6C,SAlBa,SAACC,EAAOC,GACzBxC,EAASwC,IAkBL,aAAW,wBACXtO,UAAWyD,EAAQ8K,KANnB,UAQA,cAAC,IAAD,CAAM1H,GAAE,QAAW5G,MAAO,CAAEgL,eAAgB,OAAQvJ,MAAO,QAAS8M,UAAW,UAA/E,SACE,cAACC,GAAA,EAAD,CAAKrN,MAAM,OAAOb,QAASX,EAAM8O,mBAGjCrD,GACAA,EAAWxC,KAAI,SAAA8F,GACb,OACE,cAAC,IAAD,CAAM9H,GAAE,iBAAY8H,GAAa1O,MAAO,CAAEgL,eAAgB,OAAQvJ,MAAO,QAAS8M,UAAW,UAA7F,SAEE,cAACC,GAAA,EAAD,CAAKrN,MAAOuN,EAAWpO,QAAS,kBA3BtBgB,EA2B6CoN,EA1BhEtD,EAAW9D,SAAShG,IACvBiK,EAAa,GAEfA,EAAaH,EAAWuC,QAAQrM,GAAQ,QACxC3B,EAAM8O,iBALiB,IAACnN,GA2ByDA,KAAMoN,cAUnFC,GAAwB,SAACP,EAAOQ,GACpC7C,EAAYqC,EAAMS,eAClBvC,EAAgBsC,IAGZE,GAAwB,WAC5B7C,EAAsB,OAelB8C,GAAS,8BACTC,GACJ,cAACC,GAAA,EAAD,CACEnD,SAAUA,EACVoD,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7ClO,GAAI6N,GACJM,aAAW,EACXC,gBAAiB,CAAEH,SAAU,MAAOC,WAAY,SAChDG,KAAMrD,EACNsD,QArBoB,WACtBzD,EAAY,MACZ+C,MAYA,SAUuB,SAAjBzC,EACI,gCACI,cAACoD,GAAA,EAAD,CAAUnP,QAAS,WAAOgG,EAAQmB,KAAR,mBAAyBzE,EAAK6E,OAAxD,qBACA,cAAC4H,GAAA,EAAD,CAAUnP,QAAS4C,EAAnB,uBAKJ,gCACI,cAACuM,GAAA,EAAD,CAAUnP,QAAS,WAAOgG,EAAQmB,KAAK,aAAvC,wBACA,cAACgI,GAAA,EAAD,CAAUnP,QAAS,WAAOgG,EAAQmB,KAAK,YAAvC,iCAOViI,GAAe,qCACfC,GACJ,eAACV,GAAA,EAAD,CACEnD,SAAUE,EACVkD,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7ClO,GAAIwO,GACJL,aAAW,EACXC,gBAAiB,CAAEH,SAAU,MAAOC,WAAY,SAChDG,KAAMnD,EACNoD,QAASV,GAPX,UASE,eAACW,GAAA,EAAD,CAAUnP,QAAS,WAAOgG,EAAQmB,KAAK,aAAvC,UACE,cAACpH,EAAA,EAAD,CAAY,aAAW,mBAAmBoB,MAAM,UAAhD,SACI,cAAC,KAAD,MAEJ,2CAEF,eAACgO,GAAA,EAAD,CAAUnP,QAAS,SAAC8N,GAAD,OAAWO,GAAsBP,EAAO,WAA3D,UACE,cAAC/N,EAAA,EAAD,CAAY,aAAW,4BAA4BoB,MAAM,UAAzD,SACE,cAACmO,GAAA,EAAD,CAAOC,aAAc7M,EAAK8M,eAAezH,OAAQ5G,MAAM,YAAvD,SACE,cAAC,KAAD,QAGJ,2CAEF,eAACgO,GAAA,EAAD,CAAUnP,QAAS,WAAOgG,EAAQmB,KAAK,YAAvC,UACE,cAACpH,EAAA,EAAD,CAAY,aAAW,mBAAmBoB,MAAM,UAAhD,SACI,cAAC,KAAD,MAEJ,0CAEF,eAACgO,GAAA,EAAD,CAAUnP,QAAS6K,EAAnB,UACE,cAAC9K,EAAA,EAAD,CAAY,aAAW,mBAAmBoB,MAAM,UAAhD,SACI,cAAC,KAAD,MAEJ,gDAEF,eAACgO,GAAA,EAAD,CAAUnP,QAAS,SAAC8N,GAAD,OAAWO,GAAsBP,EAAO,SAA3D,UACE,cAAC/N,EAAA,EAAD,CACE,aAAW,0BACX,gBAAc,8BACd,gBAAc,OACdoB,MAAM,UAJR,SAME,cAAC,KAAD,MAEF,8CAKN,OACE,sBAAK1B,UAAWyD,EAAQG,KAAxB,UACE,cAACoM,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAQ5P,SAAS,QAAQL,UAAWyD,EAAQkJ,OAAQuD,UAAW,EAA/D,SACE,eAACC,GAAA,EAAD,CAASlQ,MAAO,CAAEC,QAAS,OAAQE,WAAY,UAA/C,UAGQR,EAAMwQ,YACF,cAAC9P,EAAA,EAAD,CACIoB,MAAM,UACN,aAAW,cACX2O,KAAK,QACL9P,QAASyN,EACThO,UAAWyD,EAAQmJ,WALvB,SAOI,cAAC,KAAD,MAGZ,cAAC0D,GAAA,EAAD,CAASC,oBAAqBC,KAAMtK,MAAM,uBAA1C,SACI,cAAC,IAAD,CAAMW,GAAG,QAAT,SACI,qBAAKlG,IAAI,yBAAyBV,MAAO,CAAC8D,OAtRvC,UAyRX,qBAAK/D,UAAWyD,EAAQ4J,OACpB,sBAAKrN,UAAWyD,EAAQ+J,eAAxB,UACQ,cAAC8C,GAAA,EAAD,CAASC,oBAAqBC,KAAMtK,MAAM,4BAA1C,SACI,cAACzE,EAAA,EAAD,CAAQxB,MAAO,CAAC4M,YAAa,QAAStM,QAAS,WAAOgG,EAAQmB,KAAK,aAAchG,MAAM,UAAUmI,UAC3F,cAAC,KAAD,IADN,wBAKJ,cAACyG,GAAA,EAAD,CAASC,oBAAqBC,KAAMtK,MAAM,wCAA1C,SACI,cAACzE,EAAA,EAAD,CACQxB,MAAO,CAAC4M,YAAa,QACrBnL,MAAM,UACNmI,UACI,cAACgG,GAAA,EAAD,CAAOC,aAAc7M,EAAK8M,eAAezH,OAAQ5G,MAAM,YAAYyN,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAAhH,SACI,cAAC,KAAD,MAGR9O,QAAS,SAAC8N,GAAD,OAAWO,GAAsBP,EAAO,WARzD,wBAYJ,cAACiC,GAAA,EAAD,CAASC,oBAAqBC,KAAMtK,MAAM,2BAA1C,SACI,cAACzE,EAAA,EAAD,CAAQxB,MAAO,CAAC4M,YAAa,QAAStM,QAAS,WAAOgG,EAAQmB,KAAK,YAAahG,MAAM,UAAUmI,UAC1F,cAAC,KAAD,IADN,uBAKJ,cAACyG,GAAA,EAAD,CAASC,oBAAqBC,KAAMtK,MAAM,+BAA1C,SACI,cAACzE,EAAA,EAAD,CAAQlB,QAAS6K,EAAoB1J,MAAM,UAAUmI,UAC/C,cAAC,KAAD,QAIV,cAACyG,GAAA,EAAD,CAASC,oBAAqBC,KAAMtK,MAAM,qBAA1C,SACI,cAAC5F,EAAA,EAAD,CACI+P,KAAK,MACL,aAAW,0BACX,gBAAerB,GACf,gBAAc,OACdzO,QAAS,SAAC8N,GAAD,OAAWO,GAAsBP,EAAO,SACjD3M,MAAM,UANV,SAQI,cAAC+O,GAAA,EAAD,CAAQ5P,IAAKoC,EAAKyN,SAAU/P,IAAKsC,EAAKwG,mBAI5D,qBAAKzJ,UAAWyD,EAAQgK,cAAxB,SACE,cAACnN,EAAA,EAAD,CACE,aAAW,YACX,gBAAeqP,GACf,gBAAc,OACdpP,QAjKiB,SAAC8N,GAC5BnC,EAAsBmC,EAAMS,gBAiKlBpN,MAAM,UALR,SAOE,cAAC,KAAD,aAQPkO,GACAX,GAGCrP,EAAMwQ,YACN,sBAAKpQ,UAAWyD,EAAQ+I,OAAQ,aAAW,kBAA3C,UAEI,cAACmE,GAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,MAA5B,SACA,cAACC,GAAA,EAAD,CACIxP,QAAQ,YACRyP,OAA4B,QAApBpN,EAAM+E,UAAsB,QAAU,OAC9C8G,KAAM5D,EACN6D,QAASzB,EACTvK,QAAS,CACTuN,MAAOvN,EAAQuJ,aAEfiE,WAAY,CACZ3B,aAAa,GATjB,SAYK9C,OAGL,cAACmE,GAAA,EAAD,CAAQO,QAAM,EAACL,eAAe,MAA9B,SACA,cAACC,GAAA,EAAD,CACIrN,QAAS,CACTuN,MAAOvN,EAAQuJ,aAEf1L,QAAQ,YACRkO,MAAI,EALR,SAOKhD,UAKX,sBAAMxM,UAAWyD,EAAQwJ,QAAzB,SACIrN,EAAMuR,e,UC3WDC,OAxCf,YAA0D,IAApChJ,EAAmC,EAAnCA,KAAMiJ,EAA6B,EAA7BA,gBAAiBC,EAAY,EAAZA,UAEzC,EAAgBtP,mBAASuP,KAAKC,KAAKpJ,EAAKE,OAASgJ,IAA1CG,EAAP,oBACA,EAAsCzP,mBAAS,GAA/C,mBAAO0P,EAAP,KAAoBC,EAApB,KAaA,OACI,gCACI,cAACnJ,EAAA,EAAD,CAAQC,WAAS,EACTC,UAAU,MACVhE,eAAe,SACftE,WAAW,SACXuI,aAAa,SACbhD,QAAS,EALjB,SATiB,WACrB,IAAMiM,EAAaF,EAAcJ,EAAYA,EACvCO,EAAWD,EAAaN,EAC9B,OAAOlJ,EAAK0J,MAAMF,EAAYC,GAajBE,GAAmBlJ,KAAI,SAACO,EAAO4I,GAAR,OACrB,cAACxJ,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACE,qBAAKjJ,UAAWgS,EAAM,IAAM,EAAI,WAAa,YAA7C,SACG,cAAC,IAAD,CAAMnL,GAAE,iBAAYuC,EAAM7H,MAAQtB,MAAO,CAAEgL,eAAgB,QAA3D,SACI,cAACoG,EAAD,CAAiBjI,MAAOA,SAHF4I,QAS3C,cAAC,KAAD,CAAaC,MAAOR,EAAOS,KAAMR,EAAatD,SA9BlC,SAACC,EAAOF,GACvBwD,EAAexD,IA6BwDlO,MAAO,CAACuB,UAAW,c,mDC+BnF2Q,OAxDf,SAAkBvS,GACd,MAAgCoC,mBAAS,IAAzC,mBAAOiE,EAAP,KAAiBmM,EAAjB,KACA,OACI,cAACvS,EAAA,EAAD,CAAWC,SAAS,KAApB,SACA,eAACC,EAAA,EAAD,CAAOC,UAAU,iBAAjB,UACQ,sBAAKC,MAAO,CAACC,QAAS,OAAQwE,eAAgB,iBAA9C,UACI,cAAChC,EAAA,EAAD,CAAYpB,QAAQ,KAAKrB,MAAO,CAACuB,UAAW,QAA5C,+BACA,cAAClB,EAAA,EAAD,CAAYC,QAASX,EAAMyS,gBAA3B,SACI,cAAC,IAAD,SAGV,uBAAMtR,aAAa,MAAMuR,QAAQ,sBAAsBrS,MAAO,CAACC,QAAS,OAAQC,cAAe,UAAWa,SAAUpB,EAAM2S,WAAYzQ,YAAU,EAAhJ,6EACE,cAACZ,EAAA,EAAD,CAAWsR,YAAY,OAAOlR,QAAQ,SAASF,MAAM,OAAOC,KAAK,OAAOE,KAAK,SAD/E,mEAEE,cAACL,EAAA,EAAD,CACIE,MAAM,cACNoR,YAAY,oCACZjR,KAAK,cACLkR,WAAS,EACTC,KAAM,EACNC,QAAS,GACTrR,QAAQ,SAPZ,8EAUA,cAACJ,EAAA,EAAD,CAAWjB,MAAO,CAACuB,UAAW,QAASgR,YAAY,gDAAgDlR,QAAQ,SAASF,MAAM,OAAOC,KAAK,OAAOE,KAAK,SAClJ,eAACqR,GAAA,EAAD,CAAatR,QAAQ,WAAWrB,MAAO,CAACuB,UAAW,QAAnD,UACI,cAACqR,GAAA,EAAD,CAAY1R,GAAG,oCAAf,sBACA,eAAC2R,GAAA,EAAD,CACAC,QAAQ,oCACR5R,GAAG,8BACHI,KAAK,WACL4M,MAAOlI,EACPmI,SAAU,SAACC,GAAW+D,EAAY/D,EAAM2E,OAAO7E,QAC/C/M,MAAM,WANN,UAQA,cAACsO,GAAA,EAAD,CAAUvB,MAAM,GAAhB,SACI,4CAEJ,cAACuB,GAAA,EAAD,CAAUvB,MAAM,QAAhB,mBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,QAAhB,mBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,MAAhB,iBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,SAAhB,oBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,UAAhB,qBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,YAAhB,uBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,SAAhB,oBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,WAAhB,sBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,gBAAhB,iCAGJ,uBAAO9M,KAAK,OAAOE,KAAK,WAAW0R,OAAO,yBArC5C,mEAsCE,cAACxR,EAAA,EAAD,CAAQJ,KAAK,SAASC,QAAQ,YAAYI,MAAM,UAAhD,sCC2EDwR,OA3Hf,YAA0D,IAA/BC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,UAAW7M,EAAU,EAAVA,QAE3C,EAA4BvE,mBAAS,IAArC,mBAAO0I,EAAP,KAAeC,EAAf,KACA,EAA4C3I,mBAAS,IAArD,mBAAOqR,EAAP,KAAuBC,EAAvB,KACA,EAAgCtR,oBAAS,GAAzC,mBAAOuR,EAAP,KAAiBC,EAAjB,KACA,EAA6B9M,qBAAWC,GAAjC1D,EAAP,EAAOA,KAAMC,EAAb,EAAaA,aAEb0H,qBAAU,YACO,uCAAG,4BAAAhD,EAAA,sEACSG,IAAM8C,IAAN,UAAajI,EAAb,eAAmC,CAAC8K,iBAAiB,IAD9D,OACRzF,EADQ,OAEZ0C,EAAU1C,EAASG,MACnBkL,EAAkBrL,EAASG,MAHf,2CAAH,qDAKbqL,KACD,IAEH,IAAIC,EAAiB,uCAAG,WAAOrF,GAAP,+BAAAzG,EAAA,yDACpByG,EAAMsF,iBADc,EAGwBtF,EAAM2E,OAA3CzR,EAHa,EAGbA,KAAMoI,EAHO,EAGPA,YAAa1D,EAHN,EAGMA,SAAU2N,EAHhB,EAGgBA,KAHhB,SAOZC,EAAc,IACdxF,EAAM2E,OAAOc,SAAS3F,MARV,wBASR4F,EAAW,IAAIC,UACVC,OAAO,WAAY5F,EAAM2E,OAAOc,SAASI,MAAM,IAV5C,SAWQnM,IAAMC,KAAN,UAAcpF,EAAd,eAAoCmR,GAX5C,OAWZF,EAXY,sBAcZM,EAAY,CACZ5S,KAAMA,EAAK4M,MAAMiG,OACjB3K,UAAWoK,EAAYzL,KAAOyL,EAAYzL,KAAKqB,UAAY,GAC3DE,YAAaA,EAAYwE,MACzBlI,SAAUA,EAASkI,MACnByF,KAAMA,EAAKzF,MAAMkG,MAAM,KACvBC,MAAOrR,EAAK6E,IACZgC,MAAO,CAAC7G,EAAK6E,MArBD,UAyBGC,IAAMC,KAAN,UAAcpF,EAAd,kBAAuCuR,EAAW,CAACzG,iBAAiB,IAzBvE,QAyBdzF,EAzBc,OA0BlBmL,EAAUnL,EAASG,KAAKmM,gBACxB5J,EAAU,CAAC1C,EAASG,KAAKgB,OAAhB,oBAAyBsB,KAClCxH,EAAa,2BACND,GADK,IAERoI,WAAW,GAAD,oBAAMpI,EAAKoI,YAAX,CAAuBpD,EAASG,KAAKgB,MAAM7H,OACrDmJ,OAAO,GAAD,oBAAMzH,EAAKyH,QAAX,CAAmBzC,EAASG,KAAKgB,MAAMtB,SAEjDvB,EAAQmB,KAAR,iBAAuBO,EAASG,KAAKgB,MAAM7H,OAjCzB,kDAmClB4R,EAAQ,KAAMlL,SAASG,KAAKoM,cAnCV,0DAAH,sDAuCfC,EAAsB,WACpBjB,GAAaD,IAerB,OAZArL,QAAQC,IAAIuC,GAYS,IAAlBA,EAAOpC,OACE,cAAC,GAAD,CAAWxH,MAAO,IAAKiD,OAAQ,IAAKsG,UAAWa,KAIvD,gCACI,eAACwJ,GAAD,CAAQzR,KAAMA,EAAMC,aAAcA,EAAlC,UAEG,cAAC5C,EAAA,EAAD,CAAYC,QAASkU,EACpBxU,MAAO,CAACI,SAAU,QAASK,MAAO,MAAOD,IAAK,MAAOe,UAAW,OAAQqL,YAAa,QADtF,SAGC,sBAAK5M,MAAO,CACR6E,aAAc,MACdhE,MAAO,QACPiD,OAAQ,QACR7D,QAAS,OACTC,cAAe,SACfC,WAAY,SACZsE,eAAgB,SAChBU,gBAAiB,WARrB,UAUI,cAAC,KAAD,CAAenF,MAAO,CAACyB,MAAO,WAVlC,IAU8C,cAAC,KAAD,CAASzB,MAAO,CAACyB,MAAO,gBAGtE,eAAC7B,EAAA,EAAD,CAAWI,MAAO,CAAEuB,UAAW,QAA/B,UACI,qBAAKvB,MAAO,CAAEC,QAAS,OAAQC,cAAe,SAAUC,WAAY,UAAWJ,UAAU,UAAzF,SACI,cAAC0C,EAAA,EAAD,CAAYpB,QAAQ,KAAKqB,cAAY,EAACF,MAAM,SAASf,MAAM,UAAUzB,MAAO,CAACoI,aAAc,QAA3F,kCAIJ,cAACnH,EAAA,EAAD,CACIjB,MAAO,CAACa,MAAO,QAAS6T,UAAW,oBAAqBtU,SAAU,YAClEiB,QAAQ,WACR8M,SA3CM,SAACC,GACvB,IAAI7G,EAASkD,EAAOlD,QAAO,SAAA4B,GACvB,IAAIwL,EAASxL,EAAMwK,KAAK/K,KAAI,SAAAgM,GAAG,OAAIA,EAAI3N,iBAAe,GACtD,OACIkC,EAAM7H,KAAK2F,cAAcK,SAAS8G,EAAM2E,OAAO7E,MAAMjH,gBACrD0N,EAAOrN,SAAS8G,EAAM2E,OAAO7E,MAAMjH,kBAE3CoM,EAAkB9L,IAqCFpG,MAAM,SACNmH,KAAK,YAGPgL,GAAY,cAAC,GAAD,CAAYnL,KAAMiL,EAAgBhC,gBAAiBlI,EAAWmI,UAAW,WAjCnG,IAqCIiC,GACQ,qBAAKvT,UAAU,eAAf,SACI,cAAC,GAAD,CAAUqS,gBAAiBoC,EAAqBlC,WAAYmB,U,sIC5HrE,SAASoB,GAAT,GAAoH,IAA9F7R,EAA6F,EAA7FA,KAAM8R,EAAuF,EAAvFA,yBAAuF,IAA7DC,QAAUC,EAAmD,EAAnDA,UAAWhI,EAAwC,EAAxCA,QAASiI,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,MAAOtN,EAAO,EAAPA,IACvH,OACI,sBAAK7H,MAAO,CAACC,QAAS,OAAQsB,UAAW,QAAzC,UACI,cAACiP,GAAA,EAAD,CAAQ5P,IAAKoC,EAAKyN,SAAU/P,IAAKsC,EAAKwG,UAAWxJ,MAAO,CAAC4M,YAAa,UACtE,sBAAK5M,MAAO,CAAEa,MAAO,QAArB,UACI,sBAAKb,MAAO,CAACC,QAAS,OAAQwE,eAAgB,gBAAiB5D,MAAO,QAAtE,UACI,cAAC4B,EAAA,EAAD,CACIC,cAAY,EACZrB,QAAQ,QACRrB,MAAO,CAACiN,SAAU,KAHtB,SAIKkI,EAAM1E,WAEX,cAAChO,EAAA,EAAD,CACIpB,QAAQ,QADZ,SAGK+T,KAAOJ,GAAWK,OAAO,YAGlC,cAAC5S,EAAA,EAAD,CACIpB,QAAQ,QACRrB,MAAO,CAACsV,UAAW,cAFvB,SAGEtI,IAEF,sBAAKhN,MAAO,CAACC,QAAS,OAAQE,WAAY,UAA1C,UACI,cAACE,EAAA,EAAD,CACIC,QAAS,kBAAMwU,EAAyB,UAAW,QAASjN,IAC5DpG,MAAOwT,EAAM3N,SAAStE,EAAK6E,KAAO,UAAY,GAFlD,SAII,cAAC,KAAD,MAEJ,cAACpF,EAAA,EAAD,UAAawS,EAAM5M,SACnB,cAAChI,EAAA,EAAD,CACIC,QAAS,kBAAMwU,EAAyB,UAAW,WAAYjN,IAC/DpG,MAAOyT,EAAS5N,SAAStE,EAAK6E,KAAO,UAAY,GAFrD,SAII,cAAC,KAAD,MAEJ,cAACpF,EAAA,EAAD,UAAayS,EAAS7M,kB,wBCoL3BkN,OAtMf,YAAqC,IAAlBC,EAAiB,EAAjBA,SAAUxS,EAAO,EAAPA,KAIzB,EAAwBjB,mBAASyT,GAAjC,mBAAOzN,EAAP,KAAa0N,EAAb,KACA,EAA4C1T,mBAAS,IAArD,mBAAO2T,EAAP,KAAuBC,EAAvB,KACA,EAAkD5T,oBAAS,GAA3D,mBAAO6T,EAAP,KAA0BC,EAA1B,KACA,EAAwD9T,oBAAS,GAAjE,mBAAO+T,EAAP,KAA6BC,EAA7B,KA4BMvS,EA1BYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF9D,SAAU,IACVgB,MAAO,KAEXuI,MAAO,CACHtF,OAAQ,KAEZkS,OAAQ,CACNtB,UAAW,eACX3Q,WAAY,OACZsB,WAAY3B,EAAM4B,YAAYC,OAAO,YAAa,CAChD0Q,SAAUvS,EAAM4B,YAAY2Q,SAASC,YAGzCC,WAAY,CACVzB,UAAW,kBAEb0B,OAAQ,CACNjR,gBAAiBkR,KAAI,MAEvBtB,QAAS,MAKGnP,GAChB,EAAgC9C,IAAMf,UAAS,GAA/C,mBAAOuU,EAAP,KAAiBC,EAAjB,KAMMC,EAAgB,uCAAG,WAAOpI,GAAP,iBAAAzG,EAAA,yDACrByG,EAAMsF,iBAEDgC,EAAerN,OAHC,yCAIV,GAJU,uBAQboO,EAAc,CACdC,OAAQ3O,EAAKF,IACbkN,QAAS,CACL/H,QAAS0I,EACTP,MAAOnS,EAAK6E,IACZoN,MAAO,GACPC,SAAU,GACVF,UAAW,IAAI2B,OAfN,SAkBI7O,IAAMC,KAAN,UAAcpF,EAAd,qBAA0C8T,EAAa,CAAChJ,iBAAiB,IAlB7E,OAkBbzF,EAlBa,OAmBjB2N,EAAkB,IAClBF,EAAQzN,EAASG,MACjByO,EAAuBb,EAAyB,MArB/B,kDAwBjB9N,QAAQC,IAAR,MAxBiB,0DAAH,sDA4BhB2O,EAAsB,uCAAG,WAAOC,GAAP,eAAAnP,EAAA,+EAEFG,IAAMC,KAAN,UAAcpF,EAAd,mBAAwCmU,EAAoB,CAACrJ,iBAAiB,IAF5E,OAEnBzF,EAFmB,OAGvByN,EAAQzN,EAASG,MAHM,gDAMvBF,QAAQC,IAAR,MANuB,yDAAH,sDAUtB6O,EAAsB,uCAAG,WAAO3V,EAAM4V,EAAQC,GAArB,eAAAtP,EAAA,sDACd,SAATvG,GAA6B,UAAV4V,GACnBJ,EAAuBf,EAAsB,KAG7CiB,EAAqB,CACrB1V,OACA4V,SACAC,kBACAC,OAAQlU,EAAK6E,KAEjBgP,EAAuBC,GAXI,2CAAH,0DActBF,EAAyB,SAACO,EAAmBlB,GAC/CkB,GAAkB,GAClBC,YAAW,WACPD,GAAkB,KACnBlB,IAOP,OACQ,eAAC3M,EAAA,EAAD,CAAMvJ,UAAWyD,EAAQG,KAAzB,UACA,cAAC0T,GAAA,EAAD,CACIjB,OACI,cAAC5F,GAAA,EAAD,CAAQ5P,IAAK4U,EAAS8B,QAAQ7G,SAAU/P,IAAK8U,EAAS8B,QAAQ9N,YAElEwN,OACI,cAACvU,EAAA,EAAD,CAAYpB,QAAQ,QAApB,SAA6B+T,KAAOrN,EAAKiN,WAAWK,OAAO,eAE/DpP,MAAO8B,EAAK9B,MACZsR,UAAWxP,EAAKuP,QAAQ7G,WAE5B,eAAChH,EAAA,EAAD,WACI,cAAChH,EAAA,EAAD,CAAYpB,QAAQ,QAAQI,MAAM,gBAAgB2E,UAAU,IAA5D,SACC2B,EAAKiF,UAEN,qBAAKhN,MAAO,CAACC,QAAS,OAAQwE,eAAgB,UAA9C,SACI,qBAAK/D,IAAKqH,EAAKyB,UAAWxJ,MAAO,CAACH,SAAU,gBAGpD,eAAC8J,EAAA,EAAD,CAAa6N,gBAAc,EAA3B,WAEiB5B,GACD,cAACvV,EAAA,EAAD,CACIC,QAAS,kBAAMyW,EAAuB,OAAQ,QAAShP,EAAKF,MAC5DvG,KAAK,QACLG,MAAOsG,EAAKkN,MAAM3N,SAAStE,EAAK6E,KAAO,UAAY,GAHvD,SAKI,cAAC,KAAD,MAIJ+N,GACA,cAAC,GAAD,CAAW/U,MAAO,GAAIiD,OAAQ,GAAIsG,UAAWqN,KAEjD,cAAChV,EAAA,EAAD,UAAasF,EAAKkN,MAAM5M,SACxB,cAAChI,EAAA,EAAD,CACIC,QAAS,kBAAMyW,EAAuB,OAAQ,WAAYhP,EAAKF,MAC/DvG,KAAK,WACLG,MAAOsG,EAAKmN,SAAS5N,SAAStE,EAAK6E,KAAO,UAAY,GAH1D,SAKI,cAAC,KAAD,MAEJ,cAACpF,EAAA,EAAD,CAAYzC,MAAO,CAACiN,SAAU,KAA9B,SAAqClF,EAAKmN,SAAS7M,SAE/CyN,GACA,cAAC,GAAD,CAAWjV,MAAO,IAAKiD,OAAQ,IAAKsG,UAAWsN,KAEnD,cAACjV,EAAA,EAAD,UAAasF,EAAK4P,SAAStP,SAC3B,cAAChI,EAAA,EAAD,CACIC,QArHE,WACxBiW,GAAaD,IAqHS,aAAW,YAFf,SAII,cAAC,KAAD,MAEJ,cAACjW,EAAA,EAAD,CAAY,aAAW,QAAvB,SACI,cAAC,KAAD,SAIhB,cAACuX,GAAA,EAAD,CAAUC,GAAIvB,EAAUwB,QAAQ,OAAOC,eAAa,EAApD,SACI,cAACtO,EAAA,EAAD,UAEQ1B,EAAK4P,SAAS/O,KAAI,SAACmM,EAASlM,GACzB,OAAO,cAACgM,GAAD,CAAyB7R,KAAMA,EAAM+R,QAASA,EAASD,yBAA0BiC,GAA/DlO,UAKxC,qBAAK7I,MAAO,CAACC,QAAS,OAAQE,WAAY,UAA1C,SACA,cAACsJ,EAAA,EAAD,UACI,uBAAM1I,SAAUyV,EAAhB,UACI,cAACvV,EAAA,EAAD,CACIE,MAAM,UACNE,QAAQ,WACRiH,KAAK,QACLvI,UAAWyD,EAAQuR,QACnBiD,QAAQ,KACRxF,WAAS,EACTlR,KAAK,UACL6M,SApFS,SAAAC,GACzBuH,EAAkBvH,EAAM2E,OAAO7E,QAoFfA,MAAOwH,IAEX,cAACrV,EAAA,EAAD,CAAYe,KAAK,SAAjB,SACI,cAAC,KAAD,iBCnJT6W,OA1Df,WAEI,MAA0BlW,mBAAS,IAAnC,mBAAOmW,EAAP,KAAcC,EAAd,KACA,EAA6B1R,qBAAWC,GAAjC1D,EAAP,EAAOA,KACP,GADA,EAAaC,aAC6BlB,oBAAS,IAAnD,mBAAOqW,EAAP,KAAsBC,EAAtB,KAiBA,OAfA1N,qBAAU,YAEQ,uCAAG,4BAAAhD,EAAA,+EAEYG,IAAM8C,IAAN,UAAajI,EAAb,cAFZ,OAELqF,EAFK,OAGTmQ,EAASnQ,EAASG,MAHT,gDAMTF,QAAQC,IAAR,MANS,yDAAH,qDAUdoQ,KACD,IAEEtV,EAaD,cAACyR,GAAD,CAAQtE,YAAU,EAAC1B,eALI,WACvB4J,GAAkBD,IAIlB,SACI,cAACxY,EAAA,EAAD,UACI,cAAC2I,EAAA,EAAD,CACIC,WAAS,EACT9C,QAAS,EACT1F,MAAO,CAACuB,UAAW,QAHvB,SAMQ2W,EAAMtP,KAAI,SAAC4M,EAAU3M,GACjB,OACQ,cAACN,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACI,qBAAKjJ,UAAW8I,EAAQ,IAAM,EAAI,WAAa,YAA/C,SACI,cAAC,GAAD,CAAU7F,KAAMA,EAAMwS,SAAUA,EAAU3M,MAAOA,OAFzBA,YAtBrD,cAAC,IAAD,CAAUjC,GAAI,CACjBC,SAAU,IACV1E,MAAO,CAAE2E,aAAa,O,UCMnByR,OApCf,YAA+C,IAA7BC,EAA4B,EAA5BA,eAAgBC,EAAY,EAAZA,UAE9B,OACI,eAAC7Y,EAAA,EAAD,CAAWC,SAAS,KAApB,UACI,qBAAKG,MAAO,CAACC,QAAS,OAAQwE,eAAgB,YAA9C,SACI,cAACpE,EAAA,EAAD,CAAYC,QAASkY,EAArB,SACI,cAAC,IAAD,QAGR,cAAC1Y,EAAA,EAAD,CAAOC,UAAU,iBAAjB,SACI,uBAAMgB,SAAU0X,EAAWpG,QAAQ,sBAAsBrS,MAAO,CAACC,QAAS,OAAQC,cAAe,UAAWY,aAAa,MAAMe,YAAU,EAAzI,UACI,cAACZ,EAAA,EAAD,CACIsR,YAAY,QACZlR,QAAQ,WACRqX,OAAO,SACPvX,MAAM,QACNG,KAAK,UAET,cAACL,EAAA,EAAD,CACIE,MAAM,OACNoR,YAAY,4CACZC,WAAS,EACTC,KAAM,EACNC,QAAS,GACTrR,QAAQ,WACRqX,OAAO,SACPpX,KAAK,YAET,uBAAOF,KAAK,OAAOE,KAAK,WAAW0R,OAAO,yBAC1C,cAACxR,EAAA,EAAD,CAAQH,QAAQ,YAAYI,MAAM,UAAUL,KAAK,SAAjD,kC,+DCgFLuX,OAlGf,YAA4D,IAAxCC,EAAuC,EAAvCA,iBAAkBC,EAAqB,EAArBA,YAAa1P,EAAQ,EAARA,MAE/C,EAA6CpH,mBAASoH,GAAtD,mBAAO2P,EAAP,KAAuBC,EAAvB,KAEMC,EAAkB,SAAA5K,GACpB2K,EAAkB,2BACXD,GADU,kBAEZ1K,EAAM2E,OAAOzR,KAAO8M,EAAM2E,OAAO7E,UAI1C,OACI,cAACtO,EAAA,EAAD,CAAWC,SAAS,KAApB,SACI,eAACC,EAAA,EAAD,CAAOC,UAAU,iBAAjB,UACI,qBAAKC,MAAO,CAACC,QAAS,OAAQwE,eAAgB,YAA9C,SACI,cAACpE,EAAA,EAAD,CAAYC,QAASsY,EAArB,SACI,cAAC,IAAD,QAGV,uBAAM9X,aAAa,MAAMd,MAAO,CAACC,QAAS,OAAQC,cAAe,UAAWa,SAAU8X,EAAahX,YAAU,EAA7G,UACE,cAACZ,EAAA,EAAD,CACIsR,YAAY,OACZlR,QAAQ,WACRqX,OAAO,SACPvX,MAAM,OACNC,KAAK,OACLE,KAAK,OACL4M,MAAO4K,EAAexX,KACtB6M,SAAU6K,IAGd,cAAC/X,EAAA,EAAD,CACIjB,MAAO,CAACuB,UAAW,QACnBgR,YAAY,YACZlR,QAAQ,WACRqX,OAAO,SACPvX,MAAM,QACNC,KAAK,OACLE,KAAK,YACL6M,SAAU6K,IAGd,cAAC/X,EAAA,EAAD,CACIE,MAAM,cACNoR,YAAY,iCACZjR,KAAK,cACLkR,WAAS,EACTC,KAAM,EACNC,QAAS,GACTrR,QAAQ,WACRqX,OAAO,SACPxK,MAAO4K,EAAepP,YACtByE,SAAU6K,IAGd,cAAC/X,EAAA,EAAD,CACIjB,MAAO,CAACuB,UAAW,QACnBgR,YAAY,gDACZlR,QAAQ,WACRqX,OAAO,SACPvX,MAAM,OACNC,KAAK,OACLE,KAAK,OACL4M,MAAO4K,EAAenF,KACtBxF,SAAU6K,IAGd,eAACrG,GAAA,EAAD,CAAatR,QAAQ,WAAWrB,MAAO,CAACuB,UAAW,QAAnD,UACI,cAACqR,GAAA,EAAD,CAAY1R,GAAG,oCAAf,sBACA,eAAC2R,GAAA,EAAD,CACAC,QAAQ,oCACR5R,GAAG,8BACHI,KAAK,WACL4M,MAAO4K,EAAe9S,SACtBmI,SAAU6K,EACV7X,MAAM,WANN,UAQA,cAACsO,GAAA,EAAD,CAAUvB,MAAM,GAAhB,SACI,4CAEJ,cAACuB,GAAA,EAAD,CAAUvB,MAAM,QAAhB,mBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,QAAhB,mBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,MAAhB,iBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,SAAhB,oBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,UAAhB,qBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,YAAhB,uBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,SAAhB,oBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,WAAhB,sBACA,cAACuB,GAAA,EAAD,CAAUvB,MAAM,gBAAhB,iCAGJ,cAAC1M,EAAA,EAAD,CAAQJ,KAAK,SAASC,QAAQ,YAAYI,MAAM,UAAhD,mC,oBCrGVmE,GAAYnC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ9C,MAAO,OACP,YAAa,CACXU,UAAWmC,EAAMgC,QAAQ,SAqChBuT,OAhCf,YAA0D,IAAlCC,EAAiC,EAAjCA,QAAShI,EAAwB,EAAxBA,SAAUiI,EAAc,EAAdA,YAEnC3V,EAAUoC,KAChB,EAAwB9C,IAAMf,UAAS,GAAvC,mBAAOwN,EAAP,KAAa6J,EAAb,KAEAzO,qBAAU,WACRyO,GAAQ,KACP,CAACF,IAEJ,IAAMG,EAAc,SAACjL,EAAOkL,GACX,cAAXA,GAGJF,GAAQ,IAGX,OACG,qBAAKrZ,UAAWyD,EAAQG,KAAxB,SAEoB,OAAbuN,GACD,cAACqI,GAAA,EAAD,CAAUhK,KAAMA,EAAMiK,iBAAkB,IAAMhK,QAAS6J,EAAvD,SACI,cAAC,KAAD,CAAUpJ,UAAW,EAAG5O,QAAQ,SAASmO,QAAS6J,EAAaI,SAA0B,OAAhBN,EAAuBA,EAAc,GAA9G,SAEIjI,SCsCHwI,OA3Df,YAAkD,IAA/BC,EAA8B,EAA9BA,gBAAiBC,EAAa,EAAbA,WAE5BC,EAAc,IAAIlD,KACtBkD,EAAczE,KAAOyE,GAAaxE,SAASxD,MAAM,EAAG,IAAM,SAC1D,IAAIiI,EAA0B1E,KAAOyE,GAAaxE,SAASxD,MAAM,EAAG,IAAM,SAE1E,OACI,cAACjS,EAAA,EAAD,CAAWC,SAAS,KAApB,SACI,eAACC,EAAA,EAAD,CAAOC,UAAU,iBAAjB,UACI,qBAAKC,MAAO,CAACC,QAAS,OAAQwE,eAAgB,YAA9C,SACI,cAACpE,EAAA,EAAD,CAAYC,QAASqZ,EAArB,SACI,cAAC,IAAD,QAGV,uBAAM5Y,SAAU6Y,EAAY9Y,aAAa,MAAMd,MAAO,CAACC,QAAS,OAAQC,cAAe,UAAY2B,YAAU,EAA7G,UACE,cAACZ,EAAA,EAAD,CACIsR,YAAY,OACZlR,QAAQ,WACRF,MAAM,OACNC,KAAK,OACLE,KAAK,SANX,mEAQE,cAACL,EAAA,EAAD,CACIE,MAAM,cACNoR,YAAY,oCACZjR,KAAK,cACLkR,WAAS,EACTC,KAAM,EACNC,QAAS,GACTrR,QAAQ,aAEZ,cAACJ,EAAA,EAAD,CACIC,GAAG,iBACHC,MAAM,oBACNC,KAAK,iBACL2Y,aAAcF,EACdG,gBAAiB,CACbC,QAAQ,GAEZ3Y,KAAK,UAET,cAACL,EAAA,EAAD,CACIC,GAAG,iBACHC,MAAM,oBACNC,KAAK,iBACL2Y,aAAcD,EACdE,gBAAiB,CACbC,QAAQ,GAEZ3Y,KAAK,QAET,uBAAOF,KAAK,OAAOE,KAAK,WAAW0R,OAAO,yBAC1C,cAACxR,EAAA,EAAD,CAAQJ,KAAK,SAASC,QAAQ,YAAYI,MAAM,UAAhD,mC,oBCrDVmE,GAAYnC,YAAW,CAC3BE,KAAM,CACJ9D,SAAU,IACVgB,MAAO,KAETuI,MAAO,CACLtF,OAAQ,OAIG,SAASoW,GAAT,GAA6D,IAAzCC,EAAwC,EAAxCA,UAAWnX,EAA6B,EAA7BA,KAAMoX,EAAuB,EAAvBA,qBAC5C5W,EAAUoC,KAEhB,EAA0B7D,mBAASoY,GAAnC,mBAAO/L,EAAP,KAAciM,EAAd,KAEMC,EAAwB,uCAAG,WAAOtD,GAAP,iBAAArP,EAAA,sEAEvB4S,EAAY,CACZC,QAASpM,EAAMvG,IACfqP,OAAQlU,EAAK6E,IACbmP,UALuB,SAQNlP,IAAMC,KAAN,UAAcpF,EAAd,0BAA+C4X,EAAW,CAAC9M,iBAAiB,IARtE,OAQvBgN,EARuB,OAS3BJ,EAASI,EAAStS,MAClBiS,EAAqBK,EAAStS,MAVH,gDAa3BF,QAAQC,IAAR,MAb2B,yDAAH,sDAiB9B,OACE,eAACoB,EAAA,EAAD,CAAMvJ,UAAWyD,EAAQG,KAAzB,UACE,eAAC+W,GAAA,EAAD,WACE,cAACnR,EAAA,EAAD,CACExJ,UAAWyD,EAAQ4F,MACnBhG,MAAOgL,EAAM5E,UACbvD,MAAM,0BAER,eAACwD,EAAA,EAAD,WACE,cAAChH,EAAA,EAAD,CAAYC,cAAY,EAACrB,QAAQ,KAAK+E,UAAU,KAAhD,SACGgI,EAAM9M,OAET,cAACmB,EAAA,EAAD,CAAYpB,QAAQ,QAAQI,MAAM,gBAAgB2E,UAAU,IAAI1D,cAAY,EAA5E,SACG0L,EAAM1E,cAET,eAACjH,EAAA,EAAD,CAAYpB,QAAQ,QAAQI,MAAM,gBAAgB2E,UAAU,IAA5D,mBACSgP,KAAOhH,EAAMuM,OAAOtF,OAAO,mBADpC,OAC4DD,KAAOhH,EAAMwM,KAAKvF,OAAO,4BAIzF,eAAC1L,EAAA,EAAD,CAAa3J,MAAO,CAACC,QAAS,OAAQwE,eAAgB,iBAAtD,UAEM2J,EAAMvE,MAAMjB,KAAI,SAAA5F,GAAI,OAAIA,EAAK6E,OAAKP,SAAStE,EAAK6E,KAExC,cAACrG,EAAA,EAAD,CAAQ8G,KAAK,SAAS7G,MAAM,UAAUJ,QAAQ,YAAYf,QAAS,kBAAMga,EAAyB,UAAlG,mBAKA,cAAC9Y,EAAA,EAAD,CAAQ8G,KAAK,SAAS7G,MAAM,UAAUJ,QAAQ,YAAYf,QAAS,kBAAMga,EAAyB,gBAAlG,yBAORlM,EAAMvE,MAAMxB,OAAS,GACrB,cAACwS,GAAA,EAAD,CAAaC,IAAK,EAAlB,SAEQ1M,EAAMvE,MAAMjB,KAAI,SAAA5F,GACZ,OACI,mCACA,cAACwN,GAAA,EAAD,CAAQ5P,IAAKoC,EAAKyN,SAAU/P,IAAKsC,EAAKwG,yBCwSnDuR,OA3Wf,YAAwC,IAAXlQ,EAAU,EAAlBmQ,MAAQnQ,OAEzB,EAA0B9I,mBAAS,MAAnC,mBAAOoH,EAAP,KAAc8R,EAAd,KACA,EAA0BlZ,mBAAS,IAAnC,mBAAOmW,EAAP,KAAcC,EAAd,KACA,EAA4BpW,mBAAS,IAArC,mBAAOmZ,EAAP,KAAeC,EAAf,KACA,EAAsCpZ,oBAAS,GAA/C,mBAAOqZ,EAAP,KAAoBC,EAApB,KACA,EAAwCtZ,oBAAS,GAAjD,mBAAOuZ,EAAP,KAAqBC,EAArB,KACA,EAA0CxZ,oBAAS,GAAnD,mBAAOyZ,EAAP,KAAsBC,EAAtB,KACA,EAA0C1Z,oBAAS,GAAnD,mBAAOqW,EAAP,KAAsBC,EAAtB,KACA,EAA6B5R,qBAAWC,GAAjC1D,EAAP,EAAOA,KAAMC,EAAb,EAAaA,aACb,EAAgDlB,oBAAS,GAAzD,mBAAO2Z,EAAP,KAAyBC,EAAzB,KACA,EAA4C5Z,mBAAS,MAArD,mBAAOuS,EAAP,KAAuBsH,GAAvB,KACA,GAAgC7Z,mBAAS,MAAzC,qBAAO8Z,GAAP,MAAiBC,GAAjB,MAEAnR,qBAAU,WACN,IAAK3H,EACD,OAAO,cAAC,IAAD,CAAU4D,GAAI,CACjBC,SAAU,IACV1E,MAAO,CAAE2E,aAAa,QAG/B,CAAC9D,IAEJ2H,qBAAU,WACN,sBAAC,4BAAAhD,EAAA,+EAE4BG,IAAM8C,IAAN,UAAajI,EAAb,gBAA4BkI,EAAO1B,OAAS,CAACsE,iBAAiB,IAF1F,OAEWzF,EAFX,OAGOiT,EAASjT,EAASG,MAHzB,uDAMOF,QAAQC,IAAR,MANP,kBAOc,cAAC,IAAD,CAAUtB,GAAI,CACjBC,SAAU,YARrB,wDAAD,KAYD,CAACuR,IAEJzN,qBAAU,WACN,sBAAC,oCAAAhD,EAAA,sEAEWoU,EAAY,CACZ7a,GAAIiI,EAAMtB,KAGVgS,EAAc,IAAIlD,KACtBkD,EAAczE,KAAOyE,GAAaxE,SAASxD,MAAM,EAAG,IAP3D,SASgC/J,IAAMC,KAAN,UAAcpF,EAAd,cAAmCoZ,EAAW,CAACtO,iBAAiB,IAThG,cASWuO,EATX,gBAUiClU,IAAM8C,IAAN,UAAajI,EAAb,uBAAmCwG,EAAMtB,IAAzC,YAAgDgS,GAAe,CAACpM,iBAAiB,IAVlH,OAUWwO,EAVX,OAWWzG,EAAWwG,EAAa7T,KAAK+T,MAAK,SAACvU,EAAGwU,GAEtC,OADAlU,QAAQC,IAAIP,EAAEqN,WACVrN,EAAEqN,UAAYmH,EAAEnH,UACT,EAEFrN,EAAEqN,UAAYmH,EAAEnH,WACb,EAGD,KAGfmD,EAAS3C,GACT2F,EAAUc,EAAc9T,MAxB/B,kDA2BOF,QAAQC,IAAI,mEAAZ,MACAiQ,EAAS,IA5BhB,yDAAD,KA+BD,CAAChP,IAEJ,IAYMiT,GAAa,uCAAG,WAAOhO,GAAP,uBAAAzG,EAAA,yDAClByG,EAAMsF,iBAEDtF,EAAM2E,OAAO9M,MAAMiI,OAAUE,EAAM2E,OAAO/F,QAAQkB,MAHrC,uBAId0N,GAAkB,iDAClBE,GAAY,SACZH,EAAkC,IAAdrK,KAAK+K,UANX,kBAOP,GAPO,mBAWVzI,EAAc,IACdxF,EAAM2E,OAAOc,SAAS3F,MAZZ,wBAaN4F,EAAW,IAAIC,UACVC,OAAO,WAAY5F,EAAM2E,OAAOc,SAASI,MAAM,IAd9C,UAeUnM,IAAMC,KAAN,UAAcpF,EAAd,eAAoCmR,GAf9C,QAeVF,EAfU,sBAkBV0I,EAAU,CACVrW,MAAOmI,EAAM2E,OAAO9M,MAAMiI,MAC1BlB,QAASoB,EAAM2E,OAAO/F,QAAQkB,MAC9BoJ,QAAStU,EAAK6E,IACd0U,YAAapT,EAAMtB,IACnB2B,UAAWoK,EAAYzL,KAAOyL,EAAYzL,KAAKqB,UAAY,IAvBjD,UA0BO1B,IAAMC,KAAN,UAAcpF,EAAd,gBAA6BkI,EAAO1B,MAApC,aAAsDmT,EAAS,CAAC7O,iBAAiB,IA1BxF,QA0BVzF,EA1BU,OA2BdhF,EAAKkV,MAAMzQ,KAAKO,EAASG,KAAKN,MAC1B2U,EAAcxU,EAASG,MACfmP,QAAUtU,EACtBmV,EAAS,CAACqE,GAAF,oBAAkBtE,KAC1BjV,EAAaD,GACbqY,GAAe,GACfO,GAAkB,qCAClBE,GAAY,WACZH,EAAkC,IAAdrK,KAAK+K,UAnCX,kDAsCdpU,QAAQC,IAAR,MAtCc,0DAAH,sDA0CbuU,GAAc,uCAAG,WAAOrO,GAAP,mCAAAzG,EAAA,yDACnByG,EAAMsF,iBADa,EAEiCtF,EAAM2E,OAAlDzR,EAFW,EAEXA,KAAMoI,EAFK,EAELA,YAAaiR,EAFR,EAEQA,MAAOC,EAFf,EAEeA,IAAK/G,EAFpB,EAEoBA,SAElCvS,EAAK4M,OAAUxE,EAAYwE,OAAUyM,EAAMzM,OAAU0M,EAAI1M,OAAU2F,EAAS3F,MAJ9D,uBAKf0N,GAAkB,oCAClBE,GAAY,SACZH,EAAkC,IAAdrK,KAAK+K,UAPV,kBAQR,GARQ,cAWfzB,EAAI1M,MAAQyM,EAAMzM,QAClB0N,GAAkB,2DAClBE,GAAY,SACZH,EAAkC,IAAdrK,KAAK+K,WAGzBxC,EAAc,IAAIlD,KACtBkD,EAAczE,KAAOyE,GAAaxE,SAASxD,MAAM,EAAG,IAEhD8I,EAAMzM,MAAM2D,MAAM,EAAG,IAAMgI,IAC3B+B,GAAkB,mEAClBE,GAAY,SACZH,EAAkC,IAAdrK,KAAK+K,WAvBV,WA2BXvI,EAAW,IAAIC,UACVC,OAAO,WAAY5F,EAAM2E,OAAOc,SAASI,MAAM,IA5BzC,UA6BSnM,IAAMC,KAAN,UAAcpF,EAAd,eAAoCmR,GA7B7C,eA6BXF,EA7BW,OA+BX6G,EAAW,CACXnZ,KAAMA,EAAK4M,MACXxE,YAAaA,EAAYwE,MACzB1E,UAAWoK,EAAYzL,KAAKqB,UAC5BmR,MAAOA,EAAMzM,MACb0M,IAAKA,EAAI1M,MACToJ,QAAStU,EAAK6E,IACd0U,YAAapT,EAAMtB,IACnBgC,MAAO,CAAC7G,EAAK6E,MAvCF,UA0CMC,IAAMC,KAAN,UAAcpF,EAAd,wBAA6C8X,EAAU,CAAChN,iBAAiB,IA1C/E,QA0CXzF,EA1CW,OA2CfmT,EAAU,GAAD,oBAAKD,GAAL,CAAalT,EAASG,QAC/BoT,GAAgB,GA5CD,mDAkDftT,QAAQC,IAAR,MAlDe,2DAAH,sDA2DdwU,GAAe,uCAAG,WAAOtO,GAAP,2BAAAzG,EAAA,yDACpByG,EAAMsF,iBAEDtF,EAAM2E,OAAOzR,KAAK4M,OAAUE,EAAM2E,OAAOrJ,YAAYwE,MAHtC,uBAIhB0N,GAAkB,2EAClBE,GAAY,SACZH,EAAkC,IAAdrK,KAAK+K,UANT,kBAOT,GAPS,yBAW8BjO,EAAM2E,OAA5CzR,EAXQ,EAWRA,KAAMoI,EAXE,EAWFA,YAAaiK,EAXX,EAWWA,KAAM3N,EAXjB,EAWiBA,SAC7B2W,EAZY,2BAaTxT,GAbS,IAcZ7H,KAAMA,EAAK4M,MACXxE,YAAaA,EAAYwE,MACzByF,KAAMA,EAAKzF,MACXlI,SAAUA,EAASkI,QAjBP,UAmBKpG,IAAM8U,MAAN,UAAeja,EAAf,mBAAyCga,EAAU,CAAClP,iBAAiB,IAnB1E,QAmBZzF,EAnBY,OAoBhBiT,EAASjT,EAASG,MAClBsT,GAAiB,GACjBG,GAAkB,gBAAD,OAAiB5T,EAASG,KAAK7G,KAA/B,iBACjBwa,GAAY,WACZH,EAAkC,IAAdrK,KAAK+K,UAxBT,kDA2BhBpU,QAAQC,IAAR,MA3BgB,0DAAH,sDA+Bf2U,GAAe,uCAAG,8BAAAlV,EAAA,sEAEZmV,EAAW,CACXC,QAAS5T,EAAMtB,IACfqP,OAAQlU,EAAK6E,KAJD,SAMMC,IAAMC,KAAN,UAAcpF,EAAd,mBAAwCma,EAAU,CAACrP,iBAAiB,IAN1E,cAMZzF,EANY,OAOhBiT,EAASjT,EAASG,MAClBnF,EAAKoI,WAAW3D,KAAK0B,EAAM7H,MAC3B0B,EAAKyH,OAAOhD,KAAK0B,EAAMtB,KACvB5E,EAAaD,GAVG,UAWV4Y,GAAkB,aAAD,OAAczS,EAAM7H,KAApB,MAXP,yBAYVwa,GAAY,WAZF,yBAaVH,EAAkC,IAAdrK,KAAK+K,UAbf,0DAgBhBpU,QAAQC,IAAR,MAhBgB,0DAAH,qDAoBf8U,GAAgB,uCAAG,8BAAArV,EAAA,sEAEbsV,EAAY,CACZF,QAAS5T,EAAMtB,IACfqP,OAAQlU,EAAK6E,KAJA,SAMKC,IAAMC,KAAN,UAAcpF,EAAd,oBAAyCsa,EAAW,CAACxP,iBAAiB,IAN3E,OAMbzF,EANa,OAOjBiT,EAASjT,EAASG,MAClBnF,EAAKoI,WAAapI,EAAKoI,WAAW7D,QAAO,SAAA2V,GAAY,OAAIA,IAAiB/T,EAAM7H,QAChF0B,EAAKyH,OAASzH,EAAKyH,OAAO7B,KAAI,SAAAO,GAAK,OAAIA,EAAMtB,OAC7C7E,EAAKyH,OAASzH,EAAKyH,OAAOlD,QAAO,SAAA4V,GAAU,OAAIA,IAAehU,EAAMtB,OACpE5E,EAAaD,GACb4Y,GAAkB,kBAAD,OAAmBzS,EAAM7H,KAAzB,iDACjBwa,GAAY,WACZH,EAAkC,IAAdrK,KAAK+K,UAdR,kDAiBjBpU,QAAQC,IAAR,MAjBiB,0DAAH,qDAyBtB,OAAKiB,EAMD,qCACI,eAAC,GAAD,CAAQsF,eAXW,WACvB4J,GAAkBD,IAU8BjI,YAAU,EAAtD,UACI,sBAAKnQ,MAAO,CAACI,SAAU,YAAvB,UACI,sBAAKL,UAAU,oBAAf,UACI,cAAC0C,EAAA,EAAD,CAAYpB,QAAQ,KAApB,SAA0B8H,EAAM7H,OAChC,cAACmB,EAAA,EAAD,CAAYpB,QAAQ,YAApB,SAAiC8H,EAAMO,iBAE3C,qBAAKhJ,IAAKyI,EAAMK,UAAWzJ,UAAU,0BAEzC,eAACH,EAAA,EAAD,WACA,eAACwd,GAAA,EAAD,CAAa/b,QAAQ,YAAYI,MAAM,YAAYzB,MAAO,CAACuB,UAAW,QAAtE,WAEU4H,EAAMU,MAAMvC,SAAStE,EAAK6E,MAAU7E,EAAK6E,MAAQsB,EAAMkL,OACzD,cAAC7S,EAAA,EAAD,CAAQoI,UAAW,cAAC,KAAD,IAA0BtJ,QAASuc,GAAtD,mBAGE1T,EAAMU,MAAMvC,SAAStE,EAAK6E,MAAS7E,EAAK6E,MAAQsB,EAAMkL,QACxD,cAAC7S,EAAA,EAAD,CAAQoI,UAAW,cAAC,KAAD,IAAatJ,QAAS,WAAO+a,GAAe,IAA/D,0BAGElS,EAAMU,MAAMvC,SAAStE,EAAK6E,MAAS7E,EAAK6E,MAAQsB,EAAMkL,QACxD,cAAC7S,EAAA,EAAD,CAAQoI,UAAW,cAAC,KAAD,IAA+BtJ,QAAS,WAAOib,GAAgB,IAAlF,0BAGCvY,EAAK6E,MAAQsB,EAAMkL,OACpB,cAAC7S,EAAA,EAAD,CAAQoI,UAAW,cAAC,KAAD,IAAmBtJ,QAAS,WAAOmb,GAAiB,IAAvE,0BAGCtS,EAAMU,MAAMvC,SAAStE,EAAK6E,MAAQ7E,EAAK6E,MAAQsB,EAAMkL,OACtD,cAAC7S,EAAA,EAAD,CAAQoI,UAAW,cAAC,KAAD,IAAmBtJ,QAAS0c,GAA/C,sBAGR,sBAAKjd,UAAU,uBAAf,YAEUqb,IAAgBE,IAClB,cAAC/S,EAAA,EAAD,CACAC,WAAS,EAETxI,MAAO,CAACa,MAAO,MAAOU,UAAW,OAAQqL,YAAa,QAHtD,SAMYsL,EAAMtP,KAAI,SAACb,EAAMc,GACb,OACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAmBhJ,MAAO,CAAEC,QAAS,OAAQmI,aAAc,QAAlF,SACQ,qBAAKrI,UAAW,WAAhB,SACI,cAAC,GAAD,CAAUyV,SAAUzN,EAAMc,MAAOA,EAAO7F,KAAMA,OAF1B+E,EAAKF,YAWvDuT,IAAgBE,IAClB,cAAC/S,EAAA,EAAD,CACAC,WAAS,EAETxI,MAAO,CAACqJ,WAAY,OAAQxI,MAAO,MAAOZ,QAAS,OAAQwE,eAAgB,WAAYX,OAAQ,SAH/F,SAMYoX,EAAOtS,KAAI,SAACwF,EAAOvF,GACf,OACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAoBhJ,MAAO,CAAE8D,OAAQ,OAAQsE,aAAc,QAAlF,SACQ,qBAAKrI,UAAW,YAAhB,SACI,cAACma,GAAD,CAAWC,UAAW/L,EAAOvF,MAAOA,EAAO7F,KAAMA,OAF7BoL,EAAMvG,mBAarEuT,GACG,qBAAKrb,UAAU,eAAf,SACI,cAAC,GAAD,CAASyY,eAjRE,WACvB6C,GAAe,IAgR0C5C,UAAW2D,OAG/DZ,GACG,qBAAKzb,UAAU,eAAf,SACI,cAAC,GAAD,CAAW6Y,iBA9QE,WACzB6C,GAAiB,IA6Q8C5C,YAAa6D,GAAiBvT,MAAOA,MAG/FmS,GACG,qBAAKvb,UAAU,eAAf,SACI,cAAC,GAAD,CAAU4Z,gBAvRE,WACxB4B,GAAgB,IAsR4C3B,WAAY6C,OAGpE,cAAC,GAAD,CAAcvD,QAASwC,EAAkBvC,YAAa0C,GAAtD,SAAiEvH,OAhGzD,cAAC,GAAD,CAAWzT,MAAO,IAAKiD,OAAQ,IAAKsG,UAAWa,M,qBCtOpDoS,OA7Cf,SAAqB1d,GAEjB,IAAO2d,EAAyF3d,EAAzF2d,eAAgBC,EAAyE5d,EAAzE4d,mBAAoBC,EAAqD7d,EAArD6d,QAASC,EAA4C9d,EAA5C8d,UAAWC,EAAiC/d,EAAjC+d,QAASC,EAAwBhe,EAAxBge,SAAUC,EAAcje,EAAdie,WAiB5Epa,EAdYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACJ9D,SAAU,KAEZuJ,MAAO,CACLtF,OAAQ,EACRuF,WAAY,OAEdwU,MAAO,CACHhd,MAAO6C,EAAMgC,QAAQ,IACrB5B,OAAQJ,EAAMgC,QAAQ,QAIdE,GAGhB,OAEE,eAAC0D,EAAA,EAAD,CAAMvJ,UAAWyD,EAAQG,KAAMzC,GAAG,YAAlC,UACE,cAACsP,GAAA,EAAD,CAAQzQ,UAAWyD,EAAQqa,MAAO3c,GAAG,cAAcN,IAAI,cAAcF,IAAK8c,EAAQhU,YAElF,eAACC,EAAA,EAAD,WACI,cAAChH,EAAA,EAAD,CAAYvB,GAAG,gBAAgBG,QAAQ,YAAvC,SAAoDmc,EAAQ/M,WAC5D,cAAChO,EAAA,EAAD,CAAYpB,QAAQ,QAAQI,MAAM,gBAAgB2E,UAAU,IAA5D,SACCoX,EAAQ9T,iBAGb,eAACC,EAAA,EAAD,CAAa3J,MAAO,CAACC,QAAS,OAAQwE,eAAgB,iBAAtD,UACK6Y,GAAkB,cAAC9b,EAAA,EAAD,CAAQlB,QAAWid,EAAnB,gCACjBD,IAAmBI,IAAYD,GAAa,cAACjc,EAAA,EAAD,CAAQlB,QAASqd,EAAjB,yBAC5CL,IAAmBI,GAAWD,GAAa,eAACjc,EAAA,EAAD,WAAQ,cAAC,KAAD,IAAR,iBAC3C8b,GAAkBI,IAAYD,GAAa,cAACjc,EAAA,EAAD,CAAQlB,QAASsd,EAAjB,+BCG1CE,OAvCf,SAAuBne,GACnB,IAAOqD,EAAQyD,qBAAWC,GAAnB1D,KAGP,OACI,sBAAKhD,MAAO,CACZ+d,WAAY,QACZ9d,QAAS,OACTC,cAAe,SACfC,WAAY,SACZiE,OAAQ,kBACRS,aAAc,OANd,8BAQA,eAACjF,EAAA,EAAD,CAAWC,SAAS,KAApB,UACA,eAAC4C,EAAA,EAAD,CAAYpB,QAAQ,KAAKrB,MAAO,CAACuB,UAAW,OAA5C,+BAAsE,eAAClB,EAAA,EAAD,CAAYC,QAASX,EAAM4d,mBAA3B,cAAiD,cAAC,IAAD,OAAvH,OAEI,uBAAMlL,QAAQ,sBAAsBrS,MAAO,CAACC,QAAS,OAAQC,cAAe,UAAWa,SAAUpB,EAAMqe,cAAeC,YAAU,EAAhI,6EACI,cAAChd,EAAA,EAAD,CAAYI,QAAQ,SAASF,MAAM,WAAWC,KAAK,OAAOE,KAAK,WAAWyY,aAAc/W,EAAKyN,WADjG,mEAEI,cAACxP,EAAA,EAAD,CAAWsR,YAAY,QAAQlR,QAAQ,SAASF,MAAM,QAAQ4Y,aAAc/W,EAAKkb,MAAO9c,KAAK,OAAOE,KAAK,UAF7G,mEAGI,cAACL,EAAA,EAAD,CACIE,MAAM,cAENG,KAAK,cACLkR,WAAS,EACTC,KAAM,EACNC,QAAS,GACTrR,QAAQ,SACRrB,MAAO,CAACoI,aAAc,OACtB2R,aAAc/W,EAAK0G,YATvB,8EAYA,uBAAO3J,UAAU,iBAAkBqB,KAAK,OAAOE,KAAK,WAAW0R,OAAO,yBAf1E,mEAgBI,cAACxR,EAAA,EAAD,CAAQxB,MAAO,CAACoI,aAAc,OAAQhH,KAAK,SAASC,QAAQ,YAAYI,MAAM,UAA9E,yCCgID0c,OAhKf,YAAgD,IAA7BnD,EAA4B,EAA5BA,MAAO9H,EAAqB,EAArBA,QAASC,EAAY,EAAZA,UAC/B,EAA6B1M,qBAAWC,GAAjC1D,EAAP,EAAOA,KAAMC,EAAb,EAAaA,aACb,EAAsClB,oBAAS,GAA/C,mBAAOqc,EAAP,KAAoBC,EAApB,KACA,EAA8Btc,mBAAS,MAAvC,mBAAOyb,EAAP,KAAgBc,EAAhB,KACA,EAAkCvc,oBAAS,GAA3C,mBAAO0b,EAAP,KAAkBc,EAAlB,KACA,EAA8Bxc,oBAAS,GAAvC,mBAAO2b,EAAP,KAAgBc,EAAhB,KAEMC,EAAQzD,EAAMnQ,OAAOqM,OACrBoG,EAAkBta,EAAK6E,MAAQ4W,EAErC9T,qBAAU,YACK,uCAAG,4BAAAhD,EAAA,+EAEWG,IAAM8C,IAAN,UAAajI,EAAb,wBAAoC8b,GAAS,CAAChR,iBAAiB,IAF1E,OAENzF,EAFM,OAGVsW,EAAWtW,EAASG,MAHV,gDAMVF,QAAQC,IAAR,MANU,yDAAH,qDASXwW,KAGD,CAACD,EAAOzb,IAEX2H,qBAAU,WACJ6S,GAAWA,EAAQE,QAAQpW,SAAStE,EAAK6E,KACvC2W,GAAW,GACJhB,GAAWA,EAAQ1N,eAAexI,SAAStE,EAAK6E,MACvD0W,GAAa,KAElB,CAACvb,EAAK6E,IAAK2V,IAGd,IAAMmB,EAAiB,uCAAG,8BAAAhX,EAAA,6DAClBiX,EAAW,CAAC1H,OAAQsG,EAAQ3V,KADV,kBAGGC,IAAMC,KAAN,UAAcpF,EAAd,uBAA4Cic,EAAS,CAACnR,iBAAiB,IAH1E,OAGdzF,EAHc,OAIlBmL,EAAUnL,EAASG,KAAKmM,gBACxBiK,GAAa,GALK,gDAQlBrL,EAAQ,KAAMlL,SAASG,KAAKoM,cARV,yDAAH,qDAYjBsK,EAAqB,uCAAG,8BAAAlX,EAAA,6DACtBiX,EAAW,CAAC1H,OAAQsG,EAAQ3V,KADN,kBAGDC,IAAMC,KAAN,UAAcpF,EAAd,wBAA6Cic,EAAU,CAACnR,iBAAiB,IAHxE,OAGlBzF,EAHkB,OAItBC,QAAQC,IAAIF,EAASG,MACrBgL,EAAUnL,EAASG,KAAKmM,gBACxBrR,EAAa+E,EAASG,KAAKnF,MAC3Bwb,GAAW,GAPW,kDAUtBtL,EAAQ,KAAMlL,SAASG,KAAKoM,cAVN,0DAAH,qDAcrBuK,EAAiB,uCAAG,WAAO1Q,GAAP,6BAAAzG,EAAA,yDACtByG,EAAMsF,iBADgB,EAEiBtF,EAAM2E,OAAtCtC,EAFe,EAEfA,SAAU/G,EAFK,EAELA,YAAawU,EAFR,EAEQA,MAC1Ba,EAAU,GAHQ,UAQd3Q,EAAM2E,OAAOc,SAASI,MAAM,GARd,wBASVH,EAAW,IAAIC,UACVC,OAAO,WAAY5F,EAAM2E,OAAOc,SAASI,MAAM,IAV1C,SAWUnM,IAAMC,KAAN,UAAcpF,EAAd,eAAoCmR,GAX9C,OAWVF,EAXU,OAYdmL,EAAU,CACNvV,UAAWoK,EAAYzL,KAAKqB,WAblB,eAkBdwV,EAlBc,aAmBdvO,SAAUA,EAASvC,MACnBxE,YAAaA,EAAYwE,MACzBgQ,MAAOA,EAAMhQ,OACV6Q,GAtBW,UAyBZ9b,EAAa,2BACZD,GACAgc,IA3BW,QA+BlBC,IA/BkB,kDAoClBhX,QAAQC,IAAR,MApCkB,0DAAH,sDAyCjB+W,EAA0B,WAC5BZ,GAAgBD,IAIpB,OACI,gCAGA,cAAC3J,GAAD,CAAQzR,KAAMA,EAAMC,aAAcA,EAAlC,SACI,cAACrD,EAAA,EAAD,UAEI,eAAC2I,EAAA,EAAD,CACQC,WAAS,EACTC,UAAU,MACVhE,eAAe,SACftE,WAAW,SACXuI,aAAa,SACbhD,QAAS,EANjB,UASI,cAAC6C,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACI,8BACKwU,GAAW,cAAC,GAAD,CAAaA,QAASA,EAClCD,mBAAsB0B,EACtB3B,eAAgBA,EAChBG,UAAWA,EACXC,QAASA,EACTE,WAAYiB,EACZlB,SAAUgB,QAKlBnB,GAAWA,EAAQtF,MAAMtP,KAAI,SAACb,EAAMc,GAChC,OACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAehJ,MAAO,CAAEC,QAAS,OAAQwE,eAAgB,UAAhF,SACI,qBAAK1E,UAAW8I,EAAQ,IAAM,EAAI,WAAa,YAA/C,SACI,cAAC,GAAD,CAAU7F,KAAMwa,EAAShI,SAAUzN,EAAMc,MAAOA,OAFzBA,aA9BnD,IA0CIuV,GACI,qBAAKre,UAAU,eAAf,SACI,cAAC,GAAD,CAAgBie,cAAiBc,EAAmBvB,mBAAsB0B,UCjK/E,OAA0B,oC,qBCiBnCrZ,GAAYnC,YAAW,CAC3BE,KAAM,CACJ9C,MAAO,KAETqe,OAAQ,CACNjf,QAAS,eACTyY,OAAQ,QACRhE,UAAW,cAEbzO,MAAO,CACLkZ,SAAU,IAEZC,IAAK,CACHhX,aAAc,MAkDHiX,OA7Cf,YAAuE,IAApD5O,EAAmD,EAAnDA,SAAU/G,EAAyC,EAAzCA,YAAwBxI,GAAiB,EAA5BsI,UAA4B,EAAjBtI,IAAIqF,EAAa,EAAbA,WACnDD,EAAUwH,cAGRtK,EAAUoC,KAEV0Z,GADwB9b,EAAQ0b,OACpB3Y,EAAWqC,KAAI,SAAA2W,GAAI,OAAIA,EAAK,GAAGC,cAAgBD,EAAK1N,MAAM,EAAE0N,EAAKlX,WAASoX,KAAK,OACjG,EAA6BhZ,qBAAWC,GAAjC1D,EAAP,EAAOA,KAGH0c,GAHJ,EAAazc,aAGC,uCAAI,8BAAA0E,EAAA,sEAEVgY,EAAM,CAACC,aAAc,CAAC1e,EAAI8B,EAAK6E,MAFrB,SAGOC,IAAMC,KAAN,UAAcpF,EAAd,qBAA0Cgd,EAAK,CAAClS,iBAAiB,IAHxE,OAGVzF,EAHU,OAIdC,QAAQC,IAAIF,EAASG,MACrB7B,EAAQmB,KAAR,gBAAsBO,EAASG,KAAKN,MALtB,gDASdI,QAAQC,IAAR,MATc,yDAAJ,sDAad,OACE,eAACoB,EAAA,EAAD,CAAMvJ,UAAWyD,EAAQG,KAAzB,UACA,cAAC,IAAD,CAAMiD,GAAE,mBAAc1F,GAAMlB,MAAO,CAACgL,eAAgB,QAApD,SACE,eAACvB,EAAA,EAAD,WACE,cAAC+G,GAAA,EAAD,CAAQ5P,IAAI,aAAaF,IAAKmf,GAAM7f,MAAO,CAACa,MAAO,QAASiD,OAAQ,WACpE,cAACrB,EAAA,EAAD,CAAYpB,QAAQ,KAAK+E,UAAU,KAAK3E,MAAM,cAA9C,SACGgP,IAEF,cAAChO,EAAA,EAAD,CAAY1C,UAAWyD,EAAQyC,MAAOxE,MAAM,gBAAgBiB,cAAY,EAAxE,SACEgH,IAEH,eAACjH,EAAA,EAAD,CAAYpB,QAAQ,QAAQ+E,UAAU,IAAI3E,MAAM,gBAAhD,wBACc6d,UAIhB,eAAC9d,EAAA,EAAD,CAAQlB,QAAWof,EAAYre,QAAQ,YAAYI,MAAM,YAAYL,KAAK,SAA1E,cAAqF,cAAC,KAAD,IAArF,WCIS0e,OAlEf,YAA2C,IAAtB9c,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,aAEvB,EAA0BlB,mBAAS,IAAnC,mBAAO8H,EAAP,KAAckW,EAAd,KACA,EAA0Che,mBAAS8H,GAAnD,mBAAOmW,EAAP,KAAsBC,EAAtB,KAWA,OATAtV,qBAAU,YACM,uCAAG,4BAAAhD,EAAA,sEACUG,IAAMC,KAAN,UAAcpF,EAAd,eAAoC,CAAC8K,iBAAiB,IADhE,OACPzF,EADO,OAEX+X,EAAS/X,EAASG,MAClB8X,EAAiBjY,EAASG,MAHf,2CAAH,qDAKZ+X,KACD,IAECrW,EAUA,8BACI,cAAC4K,GAAD,CAAQzR,KAAMA,EAAMC,aAAcA,EAAlC,SACI,eAACrD,EAAA,EAAD,CAAWI,MAAO,CAAEuB,UAAW,QAA/B,UACI,sBAAKvB,MAAO,CAAEC,QAAS,OAAQC,cAAe,SAAUC,WAAY,cAAeJ,UAAU,UAA7F,UACI,cAAC0C,EAAA,EAAD,CAAYpB,QAAQ,KAAKqB,cAAY,EAACF,MAAM,SAASf,MAAM,UAAUzB,MAAO,CAACoI,aAAc,QAA3F,6BAGA,cAACnH,EAAA,EAAD,CACIjB,MAAO,CAACa,MAAO,QAASuH,aAAc,QACtC/G,QAAQ,WACR8M,SAhBG,SAACC,GACxB,IAAI7G,EAASsC,EAAMtC,QAAO,SAAAvE,GAAI,OAAKA,EAAKyN,SAASxJ,cAAcK,SAAS8G,EAAM2E,OAAO7E,MAAMjH,kBAC3FgZ,EAAiB1Y,IAeGpG,MAAM,SACNmH,KAAK,cAGb,cAACC,EAAA,EAAD,CAAQC,WAAS,EACjBC,UAAU,MACVhE,eAAe,SACftE,WAAW,SACXuI,aAAa,SACbhD,QAAS,EALT,SAQGsa,EAAcpX,KAAI,SAAC5F,EAAMmd,GACrB,IAAI1P,EAAWzN,EAAKyN,SAAS,GAAG+O,cAAgBxc,EAAKyN,SAASoB,MAAM,EAAG7O,EAAKyN,SAASpI,QACrF,OACC,cAACE,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACA,qBAAKjJ,UAAWogB,EAAI,IAAM,EAAI,WAAa,YAA3C,SACQ,cAAC,GAAD,CAAkB5Z,WAAYvD,EAAKuD,WAAYrF,GAAI8B,EAAK6E,IAAK4I,SAAUA,EAAU/G,YAAa1G,EAAK0G,aAApFyW,MAFQA,eAnC3C,cAAC,GAAD,CAAWtf,MAAO,IAAKiD,OAAQ,IAAKsG,UAAWa,M,4HCbzDrF,GAAYnC,aAAW,SAACC,GAAD,MAAY,CACvC0c,OAAQ,CACNngB,QAAS,cA0DEogB,OAtDf,YAA6G,IAAjFC,EAAgF,EAAhFA,eAAgBC,EAAgE,EAAhEA,eAAe9P,EAAiD,EAAjDA,SAAoB/G,GAA6B,EAAxCF,UAAwC,EAA7BE,aAAaxI,EAAgB,EAAhBA,GAAIsf,EAAY,EAAZA,UACxFhd,EAAUoC,KAEhB,EAA+C7D,oBAAS,GAAxD,mBAAO0e,EAAP,KAAwBC,EAAxB,KAEMC,EAAsB,SAAC3Y,GACzB0Y,GAAqBD,GACrBH,EAAetY,EAAU9G,IAU7B,OAPAyJ,qBAAU,WACL6V,EAAUlZ,SAASpG,IACtBwf,GAAoB,KAEnB,CAACxf,EAAIsf,IAIJ,qCACA,eAACI,GAAA,EAAD,CAAUzgB,WAAW,aAArB,UACE,cAAC0gB,GAAA,EAAD,UACE,cAACrQ,GAAA,EAAD,CAAQ5P,IAAK6P,EAAU/P,IAAK0C,OAE9B,cAAC0d,GAAA,EAAD,CACEC,QAAO,UAAKtQ,EAAL,0BACPuQ,UACE,eAAC,IAAMC,SAAP,WACE,eAACxe,EAAA,EAAD,CACE2D,UAAU,OACV/E,QAAQ,QACRtB,UAAWyD,EAAQ4c,OACnB3e,MAAM,cAJR,gBAMM8e,KAPR,aASS7W,EAAYmI,MAAM,EAAE,IAT7B,YAcN4O,EAOW,eAAChe,EAAA,EAAD,WAAY,cAAC,KAAD,IAAZ,WAPO,gCAClB,cAACpC,EAAA,EAAD,CAAYC,QAAS,WAAOqgB,GAAoB,IAAhD,SACI,cAAC,KAAD,CAAe3gB,MAAO,CAACyB,MAAO,aAElC,cAACpB,EAAA,EAAD,CAAYC,QAAS,WAAOqgB,GAAoB,IAAhD,SACI,cAAC,KAAD,CAAuB3gB,MAAO,CAACyB,MAAO,iBAK5C,cAACyf,GAAA,EAAD,CAAS7f,QAAQ,QAAQ+E,UAAU,W,+BClDjCR,GAAYnC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACJ9C,MAAO,OACPhB,SAAU,QACViE,OAAQ,QACRqB,gBAAiBzB,EAAMgB,QAAQqZ,WAAWhN,MAC1CoQ,UAAW,cAuIFC,OAnIf,YAAyE,IAAnDpe,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,aAAckQ,EAA8B,EAA9BA,UAAWD,EAAmB,EAAnBA,QAAS5M,EAAU,EAAVA,QACpD9C,EAAUoC,KAChBqC,QAAQC,IAAI5B,GAEZ,MAA0BvE,mBAAS,MAAnC,mBAAO8H,EAAP,KAAckW,EAAd,KACA,EAAgChe,mBAAS,MAAzC,mBAAOsf,EAAP,KAAiBC,EAAjB,KACA,EAAmDvf,oBAAS,GAA5D,mBAAOwf,EAAP,KAA0BC,EAA1B,KACA,EAAsCzf,mBAAS,MAA/C,mBAAO0f,EAAP,KAAoBC,EAApB,KACA,EAAkC3f,mBAAS,IAA3C,mBAAOye,EAAP,KAAkBmB,EAAlB,KAEAhX,qBAAU,YACM,uCAAG,4BAAAhD,EAAA,sEACUG,IAAMC,KAAN,UAAcpF,EAAd,mBAAuC,GAAG,CAAC8K,iBAAiB,IADtE,OACPzF,EADO,OAEX+X,EAAS/X,EAASG,KAAKuV,SACvB4D,EAAYtZ,EAASG,KAAK2H,gBAC1B4R,EAAe1Z,EAASG,MAJb,2CAAH,qDAMZ+X,KACD,CAACld,IAEJ,IAAM4e,EAA2B,WAC9BJ,GAAuBD,IAGpBM,EAAc,uCAAG,WAAO7Z,EAAUkP,GAAjB,iBAAAvP,EAAA,6DACfma,EAAU,CAAC9Z,WAAUkP,UADN,kBAGFpP,IAAMC,KAAN,UAAcpF,EAAd,wBAA6Cmf,EAAS,CAACrU,iBAAiB,IAHtE,OAGdsU,EAHc,OAIlBL,EAAeK,EAAI5Z,KAAKyW,UACxBzL,EAAU4O,EAAI5Z,KAAKmM,gBACnBqN,EAAa,GAAD,oBAAKnB,GAAL,CAAgBtJ,KANV,kDAQhBhE,EAAQ,KAAMlL,SAASG,KAAKoM,cARZ,0DAAH,wDAYdyN,EAAa,uCAAG,sBAAAra,EAAA,sEACZ1E,EAAawe,GADD,2CAAH,qDAInB,OAAI5X,EAKA,gCACI,eAAC4K,GAAD,CAAQzR,KAAMA,EAAMC,aAAcA,EAAlC,UACA,cAACoN,GAAA,EAAD,CAASpK,MAAM,kBAAf,SACA,cAAC5F,EAAA,EAAD,CAAYC,QAASshB,EAArB,SACI,qBAAK5hB,MAAO,CAAC6E,aAAc,MAAOhE,MAAO,QAASiD,OAAQ,QAAS7D,QAAS,OAAQC,cAAe,SAAUC,WAAY,SAAUsE,eAAgB,SAAUU,gBAAiB,WAA9K,SACA,cAACyK,GAAA,EAAD,CAAOnO,MAAM,YAAYoO,aAAcwR,EAAWA,EAAShZ,OAAS,EAApE,SAEEgZ,EAAW,cAAC,KAAD,CAAyBrhB,MAAO,CAACyB,MAAO,QAASZ,MAAO,OAAQiD,OAAQ,UAAa,cAAC,KAAD,CAAyB9D,MAAO,CAACyB,MAAO,QAASZ,MAAO,OAAQiD,OAAQ,kBAM1K,eAAClE,EAAA,EAAD,CAAWI,MAAO,CAAEuB,UAAW,SAA/B,UACI,qBAAKvB,MAAO,CAAEC,QAAS,OAAQC,cAAe,SAAUC,WAAY,cAAeJ,UAAU,UAA7F,SACI,eAAC0C,EAAA,EAAD,CAAYpB,QAAQ,KAAKqB,cAAY,EAACF,MAAM,SAASf,MAAM,UAAUzB,MAAO,CAACoI,aAAc,QAA3F,oBAEI,cAAC/H,EAAA,EAAD,CAAYC,QAAS0hB,EAArB,SACI,qBAAKhiB,MAAO,CAACyB,MAAO,QAASZ,MAAO,OAAQiD,OAAQ,OAAQqB,gBAAiB,UAAUlF,QAAS,OAAQE,WAAY,SAASsE,eAAgB,SAAUI,aAAc,OAArK,SACA,cAAC,KAAD,aAKZ,cAAC0D,EAAA,EAAD,CAAQC,WAAS,EACjBC,UAAU,MACVhE,eAAe,SACftE,WAAW,SACXuI,aAAa,SACbhD,QAAS,EALT,SAQGmE,EAAMjB,KAAI,SAAC5F,EAAMmd,GACb,IAAI1P,EAAWzN,EAAKyN,SAAS,GAAG+O,cAAgBxc,EAAKyN,SAASoB,MAAM,EAAG7O,EAAKyN,SAASpI,QACrF,OACC,cAACE,EAAA,EAAD,CAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACA,qBAAKjJ,UAAWogB,EAAI,IAAM,EAAI,WAAa,YAA3C,SACQ,cAAC,GAAD,CAAU7Z,QAASA,EAAiBC,WAAYvD,EAAKuD,WAAYrF,GAAI8B,EAAK6E,IAAK4I,SAAUA,EAAU/G,YAAa1G,EAAK0G,aAApFyW,MAFVA,cAa/CoB,GACQ,qBAAKxhB,UAAU,eAAf,SAEA,eAACH,EAAA,EAAD,CAAWC,SAAS,KAApB,UACA,qBAAKG,MAAO,CAACa,MAAO,QAASZ,QAAS,OAAOwE,eAAgB,YAA7D,SACA,cAACpE,EAAA,EAAD,CAAYC,QAASshB,EAA0B5hB,MAAO,CAAC+D,WAAY,QAAnE,SACG,cAAC,IAAD,QAGH,sBAAK/D,MAAO,CAACmF,gBAAiB,QAAStE,MAAO,QAASiD,OAAQ,QAAS7D,QAAS,OAAQC,cAAe,SAAUuE,eAAgB,aAActE,WAAY,SAAU0E,aAAc,OAApL,UACA,cAACpC,EAAA,EAAD,CAAYpB,QAAQ,KAAKI,MAAM,UAAUzB,MAAO,CAACuB,UAAW,QAA5D,6BAGA,cAAC2f,GAAA,EAAD,CAAU9a,UAAU,KAAKpG,MAAO,CAACa,MAAO,WACxC,cAACohB,GAAA,EAAD,CAAMliB,UAAWyD,EAAQG,KAAzB,SAEI0d,EAASzY,KAAI,SAACsZ,EAAQ/B,GAClB,OAAO,cAAC,GAAD,CAEPG,eAAgBuB,EAChBtB,eAAgBvd,EAAKyN,SACrBA,SAAUyR,EAAOzR,SACjBjH,UAAW0Y,EAAO1Y,UAClBE,YAAawY,EAAOxY,YACpBxI,GAAIghB,EAAOra,IACX2Y,UAAWA,GAPNL,mBAtElB,cAAC,GAAD,CAAWtf,MAAO,IAAKiD,OAAQ,IAAKsG,UAAWa,M,4FCvD1DkX,GAAS,GA2JEC,G,+MAtJXC,YAAcvf,IAAMwf,Y,EACpBngB,MAAQ,CACJ8I,SAAS,EACTsX,YAAa,GACbC,eAAgB,I,EAGpBC,eAAiB,WACb,EAAKJ,YAAYK,eAAe,CAAEC,SAAU,Y,EAsChDC,mBAAqB,SAACC,GAClB,EAAKC,SAAS,CACVN,eAAgBK,EAAE9P,OAAO7E,S,EAIjC6U,cAAgB,SAAC3U,GACbA,EAAMsF,iBACNzL,QAAQC,IAAIkG,I,EAGhB4U,Y,sBAAc,4BAAArb,EAAA,yDAE+B,IAArC,EAAKxF,MAAMqgB,eAAena,OAFpB,wDAMN4a,EAAiB,CACjBC,OAAQ,EAAKvjB,MAAMqb,MAAMnQ,OAAOqY,OAChClW,QAAS,CACLmW,OAAQ,EAAKxjB,MAAMqD,KACnBogB,QAAS,EAAKjhB,MAAMqgB,iBAVlB,SAcJL,GAAOkB,KAAK,eAAgBJ,GAdxB,OAeV,EAAKH,SAAS,CACVP,YAAY,GAAD,oBAAM,EAAKpgB,MAAMogB,aAAjB,CAA8BU,EAAejW,UACxDwV,eAAgB,KACjB,WACC,EAAKC,oBAnBC,2C,wDA9Cd,WAAoB,IAAD,OAEfN,GAASmB,KAAG,GAAD,OAAI3gB,IAEf,IAAI4gB,EAAiBC,KAAK7jB,MAAMqb,MAAMnQ,OAAOqY,OAC7Cjb,QAAQC,IAAIqb,GAEZzb,IAAM8C,IAAN,UAAajI,EAAb,yBAAqC4gB,IAChCE,MAAK,SAACzb,GAEH,EAAK8a,SAAS,CACV7X,SAAS,EACTsX,YAAava,EAASG,OACvB,WACC,EAAKsa,uBAGZiB,OAAM,SAACC,GACJ1b,QAAQC,IAAI,UAAWyb,MAG/B1b,QAAQC,IAAI,eACZia,GAAOkB,KAAK,YAAaE,GAGzBpB,GAAOyB,GAAG,mBAAmB,SAACzb,GAC1BF,QAAQC,IAAI,WAAYC,GACxB,EAAK2a,SAAS,CACVP,YAAY,GAAD,oBAAM,EAAKpgB,MAAMogB,aAAjB,CAA8Bpa,MAC1C,WACC,EAAKsa,yB,oBAyCjB,WAAU,IAAD,OACL,EAAiCe,KAAKrhB,MAA9B8I,EAAR,EAAQA,QAAUsX,EAAlB,EAAkBA,YACVvf,EAASwgB,KAAK7jB,MAAdqD,KAOR,OAAIiI,EACQ,cAAC,GAAD,CAAWpK,MAAO,IAAKiD,OAAQ,IAAKsG,UAAWa,IAQvD,qBAAKlL,UAAU,kBAAf,SACK,cAAC0U,GAAD,CAAQzR,KAAMA,EAAd,SAED,eAACpD,EAAA,EAAD,CAAWG,UAAU,OAArB,UACI,cAACH,EAAA,EAAD,CAAYG,UAAU,WAAtB,SAC4B,GAAtBwiB,EAAYla,OAAc,cAAC5F,EAAA,EAAD,CAAY1C,UAAU,eAAesB,QAAQ,KAA7C,sCACX,cAACoB,EAAA,EAAD,CAAY1C,UAAU,eAAesB,QAAQ,KAA7C,qBAIrB,eAACzB,EAAA,EAAD,CAAWG,UAAU,gBAArB,UACI,eAAC8jB,GAAA,EAAD,CAAK9jB,UAAU,WAAf,UAEQwiB,EAAY3Z,KAAI,SAACkb,EAAI3D,GACjB,OACI,eAAC0D,GAAA,EAAD,CAAa9jB,UAAS,2BAAsB+jB,EAAIX,OAAO1S,UAAYzN,EAAKyN,SAAU,MAAQ,SAA1F,UAEQ,uBAAM1Q,UAAU,SAAhB,cAA2B+jB,EAAIX,OAAO1S,YACtC,sBAAK1Q,UAAU,MAAf,UACI,+BAAO+jB,EAAIV,UAEf,mBAAGrjB,UAAW,WAAd,SAA4BqV,KAAO0O,EAAIV,QAAQpO,WAAWK,OAAO,gBAN/D8K,MActB,qBAAKngB,MAAO,CAAE+jB,MAAM,OAAQC,MAAO,QAC/BC,IAAK,SAACC,GAAS,EAAK7B,YAAc6B,QAG1C,qBAAKnkB,UAAU,gBAAf,SACI,uBAAMgB,SAAYyiB,KAAKT,cAAe9E,YAAU,EAAhD,UACI,uBAAO/P,MAAOsV,KAAKrhB,MAAMqgB,eAAgBphB,KAAK,OAAOmR,YAAY,aAC7DpE,SAAUqV,KAAKZ,qBAEnB,cAACphB,EAAA,EAAD,CAAQJ,KAAK,SAASd,QAASkjB,KAAKR,YAApC,SAAiD,cAAC,KAAD,yB,GA7I1DmB,a,kFC6MRC,OA5Mf,WAEI,MAA4BriB,mBAAS,MAArC,mBAAOmZ,EAAP,KAAeC,EAAf,KACA,EAA4CpZ,mBAAS,MAArD,mBAAOsiB,EAAP,KAAuBC,EAAvB,KACA,EAA4DviB,mBAAS,MAArE,mBAAOwiB,EAAP,KAA+BC,EAA/B,KACA,EAAkCziB,oBAAS,GAA3C,mBAAO0iB,EAAP,KAAkBC,EAAlB,KACA,EAA0C3iB,mBAAS,MAAnD,mBAAO4iB,EAAP,KAAsBC,EAAtB,KACO5hB,EAAQyD,qBAAW5D,GAAnBG,KACDU,EAAQmK,eAIdlD,qBAAU,WACN,sBAAC,4BAAAhD,EAAA,+EAE4BG,IAAM8C,IAAN,UAAajI,EAAb,mBAAuC,CAAC8K,iBAAiB,IAFrF,OAEWzF,EAFX,OAGOsc,EAAkBO,EAAa7c,EAASG,OACxCqc,EAA0BK,EAAa7c,EAASG,OAChDgT,EAAUnT,EAASG,MAL1B,gDAQOF,QAAQC,IAAR,MARP,wDAAD,KAWD,IAEH,IAAM4c,EAAcC,mBAEpB,IAAK/hB,EACD,OAAO,cAAC,IAAD,CAAU4D,GAAI,CACjBC,SAAU,IACV1E,MAAO,CAAE2E,aAAa,MAI9B,IAAM+d,EAAe,SAAC1K,GA6BlB,OA5ByBA,EAAUvR,KAAI,SAAAwF,GACnC,IAAQ9M,EAA4F8M,EAA5F9M,KAAMqZ,EAAsFvM,EAAtFuM,MAAOC,EAA+ExM,EAA/EwM,IAAK/S,EAA0EuG,EAA1EvG,IAA1B,EAAoGuG,EAArEmO,YAAqB7N,EAApD,EAA8CpN,KAAsB0jB,EAApE,EAA+Dnd,IAE3Dod,EAFgG7W,EAATvE,MAElEjB,KAAI,SAAA5F,GAAI,OAAIA,EAAK6E,OACtCqd,EAAeliB,EAAKyH,OAAO7B,KAAI,SAAAO,GAAK,OAAIA,EAAMtB,OAC9CpG,EAAQ,GAeZ,OAXIA,EAFAwjB,EAAa3d,SAAStE,EAAK6E,KAEtB,UAAMnE,EAAMgB,QAAQqc,QAAQoE,MAE5BD,EAAa5d,SAAS0d,GAEtB,UAAMthB,EAAMgB,QAAQsc,UAAUmE,MAI9B,UAAMzhB,EAAMgB,QAAQ0gB,KAAKD,MAG3B,CACHlf,MAAM,GAAD,OAAK3E,EAAL,aAAcoN,EAAd,WACLiM,QACAC,MACA1Z,GAAI2G,EACJpG,aAiBN4jB,EAAiB,SAACjkB,GAIpB,GAHa,QAATA,GACAojB,EAA0BH,GAEjB,QAATjjB,EAAgB,CAChB,IAAIkkB,EAAiBjB,EAAe9c,QAAO,SAAAge,GAGvC,OAFYrK,EAAO3T,QAAO,SAAA6G,GAAK,OAAIA,EAAMvG,MAAQ0d,EAAcrkB,MAAI,GAC1C2I,MAAMjB,KAAI,SAAA5F,GAAI,OAAIA,EAAK6E,OAC5BP,SAAStE,EAAK6E,QAEtC2c,EAA0Bc,GAE9B,GAAa,UAATlkB,EAAkB,CAClB,IAAIkkB,EAAiBjB,EAAe9c,QAAO,SAAAge,GACvC,IACIC,EADQtK,EAAO3T,QAAO,SAAA6G,GAAK,OAAIA,EAAMvG,MAAQ0d,EAAcrkB,MAAI,GACzCqb,YAAY1U,IAEtC,OADmB7E,EAAKyH,OAAO7B,KAAI,SAAAO,GAAK,OAAIA,EAAMtB,OAC9BP,SAASke,MAEjChB,EAA0Bc,KAelC,OACI,cAAC,GAAD,UACI,eAAC1lB,EAAA,EAAD,CAAWI,MAAO,CAACuB,UAAW,QAA9B,UAEIkjB,GAEI,sBAAK1kB,UAAU,eAAeC,MAAO,CAACC,QAAS,OAAQC,cAAe,UAAtE,UACI,qBAAKF,MAAO,CAACC,QAAS,OAAQY,MAAO,QAAS4D,eAAgB,YAA9D,SACI,cAACpE,EAAA,EAAD,CAAYC,QAnBP,WACzBokB,GAAa,IAkBO,SACI,cAAC,IAAD,QAGR,cAACxK,GAAD,CAAWC,UAAWwK,EAAe3hB,KAAMA,EAAMoX,qBAnBpC,SAACqL,GAC9B,IAAIC,EAAS,uBAAOxK,EAAO3T,QAAO,SAAA6G,GAAK,OAAIA,EAAMvG,MAAQ4d,EAAa5d,QAAzD,CAA+D4d,IAC5EnB,EAAkBO,EAAaa,IAC/BlB,EAA0BK,EAAaa,IACvCvK,EAAUuK,UAoBDjB,GAEG,qCACA,sBAAKzkB,MAAO,CAACC,QAAS,OAAQC,cAAc,SAAUC,WAAY,SAAUsE,eAAgB,UAA5F,UACI,eAAC2Y,GAAA,EAAD,CAAa/b,QAAQ,YAAYI,MAAM,YAAYzB,MAAO,CAACuB,UAAW,QAAtE,UACI,cAACC,EAAA,EAAD,CAAQoI,UAAW,cAAC,KAAD,IAActJ,QAAS,kBAAM+kB,EAAe,QAA/D,uBACA,cAAC7jB,EAAA,EAAD,CAAQoI,UAAW,cAAC,KAAD,IAAiBtJ,QAAS,kBAAM+kB,EAAe,UAAlE,mCACA,cAAC7jB,EAAA,EAAD,CAAQoI,UAAW,cAAC,KAAD,IAAuBtJ,QAAS,kBAAM+kB,EAAe,QAAxE,2BAEJ,sBAAKtlB,UAAU,yBAAf,UACI,sBAAKC,MAAO,CAACC,QAAS,OAAQE,WAAY,SAAUyM,YAAa,QAAjE,UACI,qBAAK5M,MAAO,CAAC4M,YAAa,MAAOzH,gBAAgB,GAAD,OAAKzB,EAAMgB,QAAQqc,QAAQoE,MAAQtkB,MAAO,OAAQiD,OAAQ,OAAQe,aAAc,UAChI,cAACpC,EAAA,EAAD,kCAEJ,sBAAKzC,MAAO,CAACC,QAAS,OAAQE,WAAY,SAAUyM,YAAa,QAAjE,UACI,qBAAK5M,MAAO,CAAC4M,YAAa,MAAOzH,gBAAgB,GAAD,OAAKzB,EAAMgB,QAAQsc,UAAUmE,MAAQtkB,MAAO,OAAQiD,OAAQ,OAAQe,aAAc,UAClI,cAACpC,EAAA,EAAD,iCAEJ,sBAAKzC,MAAO,CAACC,QAAS,OAAQE,WAAY,SAAUyM,YAAa,QAAjE,UACI,qBAAK5M,MAAO,CAAC4M,YAAa,MAAOzH,gBAAgB,GAAD,OAAKzB,EAAMgB,QAAQ0gB,KAAKD,MAAQtkB,MAAO,OAAQiD,OAAQ,OAAQe,aAAc,UAC7H,cAACpC,EAAA,EAAD,oCAKZ,cAAC,KAAD,CACIkjB,QAAS,CAAEC,KAAeC,KAAgBC,MAE1CC,YAAY,eACZ7K,OAAQqJ,EACRyB,qBAAqB,EACrB/B,IAAKa,EACLmB,MAAI,EACJC,cAAe,CACX3hB,KAAM,GACN4hB,OAAQ,GACR1lB,MAAO,kDAEX2lB,UAAU,EACVC,YAAY,EAEZC,WAvGK,SAAClY,GAGtB,IAAImY,EAAkBnY,EAAMA,MAAMoY,KAAKC,SAEnChM,EAAWS,EAAO3T,QAAO,SAAA6G,GAAK,OAAIA,EAAMvG,MAAQ0e,KAAiB,GAErE3B,EAAiBnK,GACjBiK,GAAa,IAgGGgC,cAAe,CACXC,gBAAiB,CACbC,KAAM,aACNC,MAFa,WAIT,IAAMC,EAAWhC,EAAYiC,QACzBD,GACoBA,EAASE,SACjBC,WAAW,kBAInCC,eAAgB,CACZN,KAAM,YACNC,MAFY,WAIR,IAAMC,EAAWhC,EAAYiC,QACzBD,GACoBA,EAASE,SACjBC,WAAW,8B,UCjMhDE,OAXf,WACI,OACI,8BACA,cAACvnB,EAAA,EAAD,UACA,cAAC,GAAD,CAAWiB,MAAO,IAAKiD,OAAQ,IAAKsG,UAAWgd,U,oBCNnDC,GAAeC,aAAY,CAE3B5iB,QAAS,CAELqc,QAAS,CACLwG,KAAM,UACNpC,KAAM,UACNqC,MAAO,WAGXxG,UAAW,CACTuG,KAAM,UACNpC,KAAM,UACNqC,MAAO,aAOFH,GAFfA,GAAeI,aAAoBJ,IClB/BK,GAAYJ,aAAY,CAC1B5iB,QAAS,CACPtD,KAAM,UAMKsmB,GAFfA,GAAYD,aAAoBC,I,yECC1BvF,I,OAASmB,KAAGqE,QAAH,UAAchlB,KAgLdilB,OA9Kf,WACI,MAAsB7lB,mBAAS,IAA/B,mBAAQ8lB,EAAR,KAAYC,EAAZ,KACH,EAA8B/lB,qBAA9B,mBAAQgmB,EAAR,KAAgBC,EAAhB,KACA,EAA4CjmB,oBAAS,GAArD,mBAAQkmB,EAAR,KAAuBC,EAAvB,KACA,EAA8BnmB,mBAAS,IAAvC,mBAAQomB,EAAR,KAAgBC,EAAhB,KACA,EAA0CrmB,qBAA1C,mBAAQsmB,EAAR,KAAsBC,EAAtB,KACA,EAA0CvmB,oBAAS,GAAnD,mBAAQwmB,EAAR,KAAsBC,EAAtB,KACA,EAAkCzmB,mBAAS,IAA3C,mBAAQ0mB,EAAR,KAAkBC,EAAlB,KACA,EAAmC3mB,oBAAS,GAA5C,mBAAQ4mB,EAAR,KAAmBC,EAAnB,KACA,EAA0B7mB,mBAAS,IAAnC,mBAAQT,EAAR,KAAcunB,EAAd,KAIMC,EAAU/D,mBACVgE,EAAYhE,mBACZiE,EAAejE,mBA+FlB,OA7FApa,qBAAU,YACI,uCAAG,4BAAAhD,EAAA,+EAGUshB,UAAUC,aAAaC,aAAa,CAACC,OAAO,EAAMC,OAAO,IAHnE,OAGLtB,EAHK,OAITC,EAAUD,GAEVe,EAAQ/B,QAAQuC,UAAYvB,EANnB,yGAAH,qDAYVwB,GAGDpH,GAAOyB,GAAG,MAAM,SAAC1iB,GACb4mB,EAAM5mB,MAIVihB,GAAOyB,GAAG,YAAY,SAACzb,GACnB+f,GAAiB,GACjBE,EAAUjgB,EAAKqhB,MACfX,EAAQ1gB,EAAK7G,MACbgnB,EAAgBngB,EAAKshB,aAEzB,IAmEC,qCACN,oBAAIzpB,MAAO,CAAEuO,UAAW,SAAU9M,MAAO,QAAzC,4BACA,sBAAK1B,UAAU,YAAf,UACC,sBAAKA,UAAU,kBAAf,UACC,qBAAKA,UAAU,QAAf,SACEgoB,GAAW,uBAAO2B,aAAW,EAACC,OAAK,EAAC1F,IAAK6E,EAASc,UAAQ,EAAC5pB,MAAO,CAAEa,MAAO,aAE7E,qBAAKd,UAAU,QAAf,SACEwoB,IAAiBI,EAClB,uBAAOe,aAAW,EAACzF,IAAK8E,EAAWa,UAAQ,EAAC5pB,MAAO,CAAEa,MAAO,WAC5D,UAGF,sBAAKd,UAAU,OAAf,UACC,cAACkB,EAAA,EAAD,CACCC,GAAG,eACHC,MAAM,OACNE,QAAQ,SACR6M,MAAO5M,EACP6M,SAAU,SAAC0U,GAAD,OAAOgG,EAAQhG,EAAE9P,OAAO7E,QAClClO,MAAO,CAAEoI,aAAc,UAExB,cAAC,mBAAD,CAAiBwe,KAAMiB,EAAI7nB,MAAO,CAAEoI,aAAc,QAAlD,SACC,cAAC5G,EAAA,EAAD,CAAQH,QAAQ,YAAYI,MAAM,UAAUmI,UAAW,cAAC,KAAD,CAAgBuV,SAAS,UAAhF,uBAKD,cAACle,EAAA,EAAD,CACCC,GAAG,eACHC,MAAM,aACNE,QAAQ,SACR6M,MAAOua,EACPta,SAAU,SAAC0U,GAAD,OAAO6F,EAAY7F,EAAE9P,OAAO7E,UAEvC,sBAAKnO,UAAU,cAAf,UACEwoB,IAAiBI,EACjB,cAACnnB,EAAA,EAAD,CAAQH,QAAQ,YAAYI,MAAM,YAAYnB,QA7C9B,WACdsoB,GAAa,GACbI,EAAcjC,QAAQ8C,WA2CxB,sBAIA,cAACxpB,EAAA,EAAD,CAAYoB,MAAM,UAAU,aAAW,OAAOnB,QAAS,kBAzGxC,SAACY,GACd,IAAM4oB,EAAO,IAAIC,KAAK,CAC3BC,WAAW,EACXC,SAAS,EACTlC,OAAQA,IAIH+B,EAAKlG,GAAG,UAAU,SAACzb,GACxBga,GAAOkB,KAAK,WAAY,CACvB6G,WAAYhpB,EACZipB,WAAYhiB,EACZqhB,KAAM3B,EACNvmB,KAAMA,OAKFwoB,EAAKlG,GAAG,UAAW,SAACmE,GAChBgB,EAAUhC,QAAQuC,UAAYvB,KAIlC5F,GAAOyB,GAAG,gBAAgB,SAAC6F,GACvBjB,GAAgB,GAChBsB,EAAKL,OAAOA,MAIhBT,EAAcjC,QAAU+C,EA4EmCM,CAAS3B,IAAtE,SACC,cAAC,KAAD,CAAWtJ,SAAS,YAGrBsJ,QAGH,8BACER,IAAkBM,EACjB,sBAAKxoB,UAAU,SAAf,UACA,+BAAMuB,EAAN,oBACA,cAACE,EAAA,EAAD,CAAQH,QAAQ,YAAYI,MAAM,UAAUnB,QAjF3B,WACfkoB,GAAgB,GAChB,IAAMsB,EAAO,IAAIC,KAAK,CACnBC,WAAW,EACXC,SAAS,EACTlC,OAAQA,IAGX+B,EAAKlG,GAAG,UAAU,SAACzb,GACfga,GAAOkB,KAAK,aAAc,CAACoG,OAAQthB,EAAMvB,GAAIuhB,OAGjD2B,EAAKlG,GAAG,UAAU,SAACmE,GACxBgB,EAAUhC,QAAQuC,UAAYvB,KAG/B+B,EAAKL,OAAOpB,GACZW,EAAcjC,QAAU+C,GAgEpB,uBAIE,cCcOO,OAvKf,WACE,MAAwBtoB,mBAAS,MAAjC,mBAAOiB,EAAP,KAAasnB,EAAb,KACA,EAAwCvoB,oBAAS,GAAjD,mBAAOwoB,EAAP,KAAqBC,EAArB,KACA,EAAwCzoB,mBAAS,MAAjD,mBAAOwS,EAAP,KAAqBkW,EAArB,KACA,EAA4C1oB,mBAAS,MAArD,mBAAOuS,EAAP,KAAuBsH,EAAvB,KACA,EAAgC7Z,mBAAS,WAAzC,mBAAO8Z,EAAP,KAAiBC,EAAjB,KACA,EAAwC/Z,mBAAS,GAAjD,mBAAO2oB,EAAP,KAAqBC,EAArB,KACA,EAA0C5oB,oBAAS,GAAnD,mBAAO6oB,EAAP,KAAsBC,EAAtB,KAEIvkB,EAAUwH,cAEdnD,qBAAU,WACL,sBAAC,4BAAAhD,EAAA,+EAEyBG,IAAM8C,IAAN,UAAajI,EAAb,aAAiC,CAAC8K,iBAAiB,IAF5E,OAEQzF,EAFR,OAGIsiB,EAAQtiB,EAASG,MACjBqiB,GAAgB,GAJpB,gDAOIA,GAAgB,GAPpB,wDAAD,KAUA,IAEL,IAAMM,EAAW,uCAAG,WAAO1c,GAAP,uBAAAzG,EAAA,6DAClByG,EAAMsF,iBADY,EAEYtF,EAAM2E,OAA5BtC,EAFU,EAEVA,SAAUsa,EAFA,EAEAA,SACdC,EAAS,CACXva,SAAUA,EAASvC,MACnB6c,SAAUA,EAAS7c,OALH,kBASKpG,IAAMC,KAAN,UAAcpF,EAAd,mBAAwCqoB,EAAQ,CAACvd,iBAAiB,IATvE,cASZzF,EATY,OAUhB8T,EAAY,WACZ6O,EAA8B,IAAdrZ,KAAK+K,UACrBT,EAAkB5T,EAASG,KAAKmM,gBAZhB,UAaVgW,EAAQtiB,EAASG,KAAKyW,UAbZ,QAchBtY,EAAQmB,KAAK,SAdG,kDAiBhBqU,EAAY,SACZ6O,EAA8B,IAAdrZ,KAAK+K,UACrBoO,EAAgB,KAAIziB,SAASG,KAAKoM,cAnBlB,0DAAH,sDAuBX0W,EAAY,uCAAG,WAAO7c,GAAP,yBAAAzG,EAAA,6DACnByG,EAAMsF,iBADa,WAGmBtF,EAAM2E,OAAnCtC,EAHU,EAGVA,SAAUyN,EAHA,EAGAA,MAAO6M,EAHP,EAGOA,SACpBG,EAAU,CACVza,SAAUA,EAASvC,MACnBgQ,MAAOA,EAAMhQ,MACb6c,SAAUA,EAAS7c,OAPN,SAUIpG,IAAMC,KAAN,UAAcpF,EAAd,oBAAyCuoB,EAAS,CAACzd,iBAAiB,IAVxE,cAUbzF,EAVa,OAWjBC,QAAQC,IAAIF,GACV8T,EAAY,WACZ6O,EAA8B,IAAdrZ,KAAK+K,UACrBT,EAAkB5T,EAASG,KAAKmM,gBAdjB,UAeTgW,EAAQtiB,EAASG,KAAKyW,UAfb,QAgBftY,EAAQmB,KAAK,oBAhBE,kDAmBfqU,EAAY,SACZ6O,EAA8B,IAAdrZ,KAAK+K,UACrBoO,EAAgB,KAAMziB,SAASG,KAAKoM,cArBrB,0DAAH,sDAyBZ4W,EAAgB,uCAAG,WAAOvM,GAAP,eAAAjX,EAAA,+EAEAG,IAAMC,KAAN,UAAcpF,EAAd,aAAkCic,EAAW,CAACnR,iBAAiB,IAF/D,OAEjBzF,EAFiB,OAGrBsiB,EAAQtiB,EAASG,KAAK+iB,SAHD,gDAMrBpP,EAAY,SACZ6O,EAA8B,IAAdrZ,KAAK+K,UACrBoO,EAAgB,KAAMziB,SAASG,KAAKoM,cARf,yDAAH,sDAYhB6W,EAAuB,SAACC,GAC5BvP,EAAY,WACZ6O,EAA8B,IAAdrZ,KAAK+K,UACrBT,EAAkByP,IAGdC,EAAqB,SAACC,GAC1BzP,EAAY,SACZ6O,EAA8B,IAAdrZ,KAAK+K,UACrBoO,EAAgBc,IAGZC,EAAY,uCAAG,sBAAA7jB,EAAA,sEAEjBrB,EAAQmB,KAAK,KAFI,SAGXK,IAAMC,KAAN,UAAcpF,EAAd,oBAAyC,GAAI,CAAC8K,iBAAiB,IAHpD,OAIjB6c,EAAQ,MAJS,gDAMjBgB,EAAmB,6CANF,yDAAH,qDAelB,OAAIf,EACM,cAAC,GAAD,CAAW1pB,MAAO,IAAKiD,OAAQ,IAAKsG,UAAWa,KAIvD,8BACE,cAACwgB,EAAA,EAAD,CAAe/nB,MAAOknB,EAAgBlD,GAAYL,GAAlD,SACE,eAAC3gB,EAAYglB,SAAb,CAAsBxd,MAAO,CAAClL,OAAMC,aAAckoB,EAAkBjoB,SAAUsoB,EAAcrgB,mBAZnE,WAC7B0f,GAAiB,SAAAc,GAAgB,OAAKA,KACtC1jB,QAAQC,IAAI0iB,KAUR,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgB,OAAK,EAACC,KAAM,IAAKC,OAAQ,SAACC,GAC/B,OAAO,cAAC,EAAD,2BAAiBA,GAAjB,IAA6B7S,QAASwR,EAAcvR,YAAa0C,EAAUwP,QAAS/W,EAAgBiX,MAAOhX,EAAcvT,QAAS8pB,EAAalpB,SAAUqpB,QAElK,cAAC,IAAD,CAAOY,KAAM,mBAAoBC,OAAQ,SAACC,GACxC,OAAO,cAAC,EAAD,eAAwBA,OAEjC,cAAC,IAAD,CAAOF,KAAM,gBAAiBC,OAAQ,SAACC,GACrC,OAAO,cAAC,GAAD,eAAqBA,OAE9B,cAAC,IAAD,CAAOF,KAAM,QAASC,OAAQ,SAACC,GAC7B,OAAO,cAAC,GAAD,eAAcA,OAEvB,cAAC,IAAD,CAAOF,KAAM,WAAYC,OAAQ,SAACC,GAChC,OAAO,cAAC,GAAD,2BAAsBA,GAAtB,IAAkC7Y,QAASoY,EAAoBnY,UAAWiY,QAEnF,cAAC,IAAD,CAAOQ,OAAK,EAACC,KAAM,mBAAoBC,OAAQ,SAACC,GAC9C,OAAO,cAAC,GAAD,2BAAcA,GAAd,IAA0B7Y,QAASoY,EAAoBnY,UAAWiY,QAE3E,cAAC,IAAD,CAAOQ,OAAK,EAACC,KAAM,UAAWC,OAAQ,SAACC,GACrC,OAAO,cAAC,GAAD,eAAeA,OAExB,cAAC,IAAD,CAAOF,KAAM,UAAWC,OAAQ,SAACC,GAC/B,OAAO,cAAC,GAAD,2BAAgBA,GAAhB,IAA4B9oB,aAAckoB,EAAkBjY,QAASoY,EAAoBnY,UAAWiY,EAAsBpoB,KAAMA,QAEzI,cAAC,IAAD,CAAO6oB,KAAM,WAAYC,OAAQ,SAACC,GAChC,OAAO,cAAC,GAAD,2BAAiBA,GAAjB,IAA6B9oB,aAAckoB,EAAkBjY,QAASoY,EAAoBnY,UAAWiY,EAAsBpoB,KAAMA,QAE1I,cAAC,IAAD,CAAO6oB,KAAM,gBAAiBC,OAAQ,SAACC,GACrC,OAAO,cAAC,GAAD,eAAeA,OAExB,cAAC,IAAD,CAAOH,OAAK,EAACC,KAAM,gBAAiBC,OAAQ,SAACC,GAC3C,OAAO,cAAC,GAAD,aAAU/oB,KAAMA,GAAU+oB,OAEnC,cAAC,IAAD,CAAOF,KAAM,YAAaC,OAAQ,SAACC,GACjC,OAAO,cAAC,GAAD,eAAmBA,OAE5B,cAAC,IAAD,CAAO3lB,UAAW+gB,QAGN,YAAbtL,EAAyB,cAAC,GAAD,CAAc3C,QAASwR,EAAcvR,YAAa0C,EAAlD,SAA6DvH,IAAiC,cAAC,GAAD,CAAc4E,QAASwR,EAAcvR,YAAa0C,EAAlD,SAA6DtH,YCnL/LyX,IAASF,OACP,cAAC,IAAMG,WAAP,UACE,cAAC,IAAD,UACE,cAAC,GAAD,QAGJC,SAASC,eAAe,U","file":"static/js/main.6b3e1972.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Container, Paper } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport logo from '../assets/images/logo_dark_transparent.png'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nfunction Login(props) {\r\n    return (\r\n        <Container maxWidth=\"xs\">\r\n            <Paper className=\"pop-up-styling\" style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\", position: \"relative\"}}>\r\n                <IconButton onClick={props.onLoginPopUp} style={{position: \"absolute\", top: \"0\", right: \"0\"}} >\r\n                    <CloseIcon />\r\n                </IconButton>\r\n                <img src={logo} alt='Kolab logo' style={{width: '50%'}}/>\r\n                <form autocomplete=\"off\" onSubmit={props.onLogin} style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}}>\r\n                    <TextField\r\n                        id=\"outlined-password-input\"\r\n                        label=\"Username\"\r\n                        type=\"text\"\r\n                        variant=\"outlined\"\r\n                        name=\"username\"\r\n                        style={{marginTop: '-20px'}}\r\n                        />\r\n                    <TextField \r\n                        id=\"outlined-password-input\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        variant=\"outlined\"\r\n                        name=\"password\"\r\n                        style={{marginTop: '20px'}}\r\n                        />\r\n                    <Button type='submit' variant=\"outlined\" color=\"primary\" style={{marginTop: '20px'}}>\r\n                        Login\r\n                    </Button>\r\n                </form>\r\n            </Paper>\r\n        </Container>\r\n    )\r\n}\r\nexport default Login;\r\n","import React from 'react'\r\nimport { Container, Paper } from '@material-ui/core'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport logo from '../assets/images/logo_dark_transparent.png'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nfunction Signup(props) {\r\n    return (\r\n        <Container maxWidth=\"xs\">\r\n        <Paper className=\"pop-up-styling\" style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\", position: \"relative\"}}>    \r\n            <IconButton onClick={props.onSignUpPopUp} style={{position: \"absolute\", top: \"0\", right: \"0\"}} >\r\n                <CloseIcon />\r\n            </IconButton>\r\n\r\n        <img src={logo} alt='Kolab logo' style={{width: '50%'}}/>\r\n        <form autocomplete=\"off\" style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}} onSubmit={props.onSignUp} novalidate>\r\n            <TextField\r\n            id=\"outlined-password-input\"\r\n            label=\"Username\"\r\n            type=\"text\"\r\n            variant=\"outlined\"\r\n            name=\"username\"\r\n            style={{marginTop: '-20px'}}\r\n            />\r\n            <TextField\r\n            id=\"outlined-password-input\"\r\n            label=\"Email\"\r\n            type=\"text\"\r\n            variant=\"outlined\"\r\n            name=\"email\"\r\n            style={{marginTop: '20px'}}\r\n            /> \r\n            <TextField\r\n            id=\"outlined-password-input\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            variant=\"outlined\"\r\n            name=\"password\"\r\n            style={{marginTop: '20px'}}\r\n            />\r\n            <Button type='submit' variant=\"outlined\" color=\"primary\" style={{marginTop: '20px'}} >\r\n              Sign Up\r\n            </Button>\r\n        </form>\r\n        </Paper>\r\n    </Container>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n\r\n","import \"../App.css\";\r\nimport { Container, Typography } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport React, { useState } from \"react\";\r\nimport Login from \"../components/Login\";\r\nimport Signup from \"../components/Signup\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport logo from \"../assets/images/logo_dark_transparent.png\";\r\n\r\nfunction LandingPage(props) {\r\n  const [signup, setSignUp] = useState(false);\r\n  // This conditional checks if a props.location.state.renderLogin prop is passed from any page\r\n  // If this is the case the login will be set to true by default\r\n  const [login, setLogin] = useState(props.location.state ? true : false);\r\n\r\n  let handleSignUpPopUp = () => setSignUp(!signup);\r\n  let handleLoginPopUp = () => setLogin(!login);\r\n\r\n  return (\r\n    <div className=\"landingPageWrapper\">\r\n      <Container>\r\n        <div className=\"landingLogoDescWrapper\" align=\"center\">\r\n          <img src={logo} width=\"300px\" alt={logo} />\r\n          <Typography\r\n            variant=\"h6\"\r\n            gutterBottom\r\n            align=\"center\"\r\n            color=\"secondary\"\r\n          >\r\n            Connect with people over topics that excite you\r\n          </Typography>\r\n        </div>\r\n        <div className=\"landingBtnsWrapper\" align=\"center\">\r\n          <Button\r\n            onClick={handleLoginPopUp}\r\n            type=\"submit\"\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n          >\r\n            Login\r\n          </Button>\r\n          <Button\r\n            onClick={handleSignUpPopUp}\r\n            type=\"submit\"\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n          >\r\n            Sign Up\r\n          </Button>\r\n        </div>\r\n      </Container>\r\n      {signup && (\r\n        <div className=\"popupOpacity\">\r\n          <Signup onSignUpPopUp={handleSignUpPopUp} onSignUp={props.onSignUp} />\r\n        </div>\r\n      )}{\" \"}\r\n      {login && (\r\n        <div className=\"popupOpacity\">\r\n          <Login onLoginPopUp={handleLoginPopUp} onLogin={props.onLogin} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LandingPage;\r\n","let API_URL = process.env.REACT_APP_SERVER_URL;\r\n\r\nexport default API_URL ","import React from 'react';\r\n\r\nconst userContext = React.createContext({user: {}, onUpdateUser: () => {}, onLogout: () => {}});\r\n\r\nexport default userContext;","import React, { useState } from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\n\r\nfunction CategoryCard({image, onUpdateCategories}) {\r\n    const [ selected, setSelected ] = useState(false);\r\n    \r\n    const useStyles = makeStyles((theme) => ({\r\n        root: {\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          minWidth: 300,\r\n          width: '100%',\r\n        },\r\n        image: {\r\n          position: 'relative',\r\n          height: 150,\r\n          marginLeft: \"15%\",\r\n          width: \"70%\",\r\n          [theme.breakpoints.down('xs')]: {\r\n            width: '100% !important', // Overrides inline-style\r\n            height: 100,\r\n            marginLeft: \"0%\"\r\n          },\r\n          '&:hover, &$focusVisible': {\r\n            zIndex: 1,\r\n            '& $imageBackdrop': {\r\n              opacity: 0.8,\r\n            },\r\n            '& $imageMarked': {\r\n              opacity: 0.5,\r\n            },\r\n            '& $imageTitle': {\r\n              border: '4px solid currentColor',\r\n            },\r\n          },\r\n        },\r\n        focusVisible: {},\r\n        imageButton: {\r\n          position: 'absolute',\r\n          left: 0,\r\n          right: 0,\r\n          top: 0,\r\n          bottom: 0,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          color: theme.palette.common.white,\r\n          borderRadius: \"20px\", \r\n          boxShadow: \"0px 0px 5px 0px rgba(0, 0, 0, 0.2)\"\r\n        },\r\n        imageSrc: {\r\n          position: 'absolute',\r\n          left: 0,\r\n          right: 0,\r\n          top: 0,\r\n          bottom: 0,\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center 40%',\r\n          borderRadius: \"20px\", \r\n          boxShadow: \"0px 0px 15px 5px rgba(0, 0, 0, 0.2)\"\r\n        },\r\n        imageBackdrop: {\r\n          position: 'absolute',\r\n          left: 0,\r\n          right: 0,\r\n          top: 0,\r\n          bottom: 0,\r\n          backgroundColor: theme.palette.common.black,\r\n          opacity: selected ? 1 : 0,\r\n          transition: theme.transitions.create('opacity'),\r\n          borderRadius: \"20px\", \r\n          boxShadow: \"0px 0px 15px 5px rgba(0, 0, 0, 0.4)\"\r\n        },\r\n        imageTitle: {\r\n          position: 'relative',\r\n          padding: `${theme.spacing(2)}px ${theme.spacing(4)}px ${theme.spacing(1) + 6}px`,\r\n        },\r\n        imageMarked: {\r\n          height: 3,\r\n          width: 18,\r\n          backgroundColor: theme.palette.common.white,\r\n          position: 'absolute',\r\n          bottom: -2,\r\n          left: 'calc(50% - 9px)',\r\n          transition: theme.transitions.create('opacity'),\r\n          borderRadius: \"20px\", \r\n        },\r\n      }));\r\n      \r\n    const classes = useStyles();\r\n\r\n    const handleSelected = (category) => {\r\n        setSelected(!selected)\r\n        onUpdateCategories(category)\r\n    }\r\n   \r\n    return (\r\n        <div>\r\n            <ButtonBase\r\n                focusRipple\r\n                key={image.title}\r\n                className={classes.image}\r\n                focusVisibleClassName={classes.focusVisible}\r\n                onClick={() => handleSelected(image.title)}\r\n            >\r\n          <span\r\n            className={classes.imageSrc}\r\n            style={{\r\n              backgroundImage: `url(${image.url})`,\r\n            }}\r\n          />\r\n          <span className={classes.imageBackdrop} />\r\n          <span className={classes.imageButton}>\r\n            <Typography\r\n              component=\"span\"\r\n              variant=\"subtitle1\"\r\n              color=\"inherit\"\r\n              className={classes.imageTitle}\r\n            >\r\n              {image.title}\r\n              <span className={classes.imageMarked} />\r\n            </Typography>\r\n          </span>\r\n        </ButtonBase>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CategoryCard","import React, { useState, useContext } from 'react';\r\nimport UserContext from '../contexts/UserContext';\r\nimport CategoryCard from '../components/CategoryCard';\r\nimport categoryData from '../json/categoryData.json';\r\nimport { Container, Typography, Button, Grid } from '@material-ui/core';\r\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\r\nimport axios from 'axios';\r\nimport API_URL from \"../config\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router';\r\n\r\nfunction SignupCategoryPage( { history} ) {\r\n    \r\n    const [ categories, setCategories ] = useState([]);\r\n    const {user, onUpdateUser} = useContext(UserContext);\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        btn: {\r\n            position: \"absolute\",\r\n            top: \"0px\",\r\n            right: \"0px\",\r\n            [theme.breakpoints.down('xs')]: {\r\n                left: \"0\",\r\n            },\r\n        }\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    if (!user) {\r\n        return <Redirect to={{\r\n            pathname: \"/\",\r\n            state: { renderLogin: true }\r\n        }} />\r\n    }\r\n    \r\n    const handleUpdateCategoriesState = (category) => {\r\n        // This function when a category is clicked\r\n        // it removes it from the categories when it's in there\r\n        // it puts it in the categoreies when its not in there\r\n        let newCategory = category.toLowerCase();\r\n        let newCategories = JSON.parse(JSON.stringify(categories));\r\n        if (newCategories.includes(newCategory)) {\r\n            newCategories = newCategories.filter(oldCategory => oldCategory !== newCategory)\r\n        }\r\n        else {\r\n            newCategories.push(newCategory)\r\n        }\r\n        setCategories(newCategories)\r\n    }\r\n\r\n    const handleUpdateCategoriesUser = async () => {\r\n        try {\r\n            let categoryInfo = {\r\n                _id: user._id,\r\n                categories\r\n            }\r\n            let response = await axios.post(`${API_URL}/api/signup/category`, categoryInfo);\r\n            // Await is neccessary since the updateuser and the get function that will run on the /signup/group function are both async\r\n            // So await in order to prevent that groups are loaded before categories are updated\r\n            console.log(\"RESPONSE FROM SIGNUP CATEGORY\", response.data)\r\n            await onUpdateUser(response.data)\r\n            history.push('/signup/group')\r\n        }\r\n        catch(error) {\r\n            // ?? What is best to put in here?   \r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Container style={{ marginTop: \"50px\"}} >\r\n            <div style={{ position: \"relative\"}} className=\"fly-top\">\r\n                <Typography variant=\"h3\" gutterBottom align=\"center\" color=\"primary\" style={{marginBottom: \"30px\"}}>\r\n                    What are your interests?\r\n                </Typography>\r\n                {\r\n                    categories.length > 0 && \r\n                        <Button \r\n                            color=\"primary\" \r\n                            size=\"large\" \r\n                            variant=\"contained\" \r\n                            className={classes.btn}\r\n                            onClick={handleUpdateCategoriesUser}\r\n                            >\r\n                            {categories.length > 0 ? <ArrowRightAltIcon /> : ''}\r\n                        </Button> \r\n                }\r\n            </div>\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                alignContent=\"center\"\r\n                spacing={4}\r\n                >\r\n                    {\r\n                        categoryData.map((image, index) => {\r\n                            return (\r\n                                <Grid item xs={12} sm={6} md={4} >\r\n                                    <div className={index < 3 || index > 5 ? 'fly-left' : 'fly-right'}>\r\n                                        <CategoryCard key={index} image={image} onUpdateCategories={handleUpdateCategoriesState} />\r\n                                    </div>\r\n                                </Grid>\r\n                            )\r\n                        }) \r\n                    }\r\n            </Grid>\r\n        </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignupCategoryPage\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Typography, CardActions, Card, CardMedia, CardContent } from '@material-ui/core';\r\nimport PeopleAltOutlinedIcon from '@material-ui/icons/PeopleAltOutlined';\r\nimport QuestionAnswerOutlinedIcon from '@material-ui/icons/QuestionAnswerOutlined';\r\n\r\nfunction GroupCard({group}) {\r\n    const useStyles = makeStyles((theme) => ({\r\n      root: {\r\n        maxWidth: 500,\r\n      },\r\n      media: {\r\n        height: 0,\r\n        paddingTop: '33%', // 16:9\r\n      }\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n    <Card className={classes.root} >\r\n        <CardMedia\r\n        className={classes.media}\r\n        image={group.image_url}\r\n        title={group.name}\r\n        />\r\n    <CardContent>\r\n        <Typography variant=\"subtitle1\">{group.name}</Typography>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n        {group.description}\r\n        </Typography>\r\n    </CardContent>\r\n    <CardActions style={{display: \"flex\", justifyContent: \"space-between\"}}>\r\n        <Button  color=\"primary\" startIcon={<PeopleAltOutlinedIcon />}>\r\n            {group.users.length} Members\r\n        </Button>\r\n        <Button  color=\"primary\" startIcon={<QuestionAnswerOutlinedIcon />}>\r\n            {group.postCount} Posts\r\n        </Button>\r\n    </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default GroupCard;","import React from  'react';\r\nimport Lottie from  'react-lottie';\r\n\r\nfunction Animation({ height, width, animation}) {\r\n\r\n\tconst defaultOptions = {\r\n\t\tloop: true,\r\n\t\tautoplay: true,\r\n\t\tanimationData: animation,\r\n\t\trendererSettings: {\r\n\t\t\tpreserveAspectRatio: 'xMidYMid slice'\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Lottie  \r\n\t\t\t\toptions={defaultOptions}  \r\n\t\t\t\theight={height}  \r\n\t\t\t\twidth={width}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Animation;","import React, { useEffect, useState, useContext } from 'react';\r\nimport UserContext from '../contexts/UserContext';\r\nimport GroupCard from '../components/GroupCard';\r\nimport { Container, Typography, Grid, Button } from '@material-ui/core';\r\nimport API_URL from \"../config\";\r\nimport axios from 'axios';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport LandingPage from './LandingPage';\r\nimport Animation from '../components/Animation';\r\nimport loading from '../json/loading.json';\r\n\r\n\r\nfunction SignupGroupPage({history}) {\r\n\r\n    const [ groups, setGroups ] = useState([])\r\n    const {user} = useContext(UserContext)\r\n    \r\n    // ?? IS there a way to \r\n    useEffect(() => {\r\n        const getGroupData = async () => {\r\n            try {\r\n                let categoryInfo = {\r\n                    categories: user.categories\r\n                }\r\n\r\n                let response = await axios.get(`${API_URL}/api/signup/group`, { params: categoryInfo });\r\n                setGroups(response.data)\r\n            }\r\n            catch(error) {\r\n                // history.push('/home');\r\n            }\r\n        }\r\n\r\n        getGroupData();\r\n    }, [user])\r\n\r\n    // This is the way to pass extra data with Redirect component\r\n    // State is accessible via: props.location.state (assuming the routeProps are spreaded)\r\n    // The extra routeProps need to be passed into the Route in app.js\r\n    if (!user) {\r\n        return <Redirect to={{\r\n            pathname: \"/\",\r\n            state: { renderLogin: true }\r\n        }} />\r\n    }\r\n\r\n\r\n\r\n    if (!groups.length) {\r\n        return <Animation width={300} height={300} animation={loading} />\r\n    }\r\n\r\n\r\n    return (\r\n        <Container style={{ marginTop: \"60px\"}} >\r\n\r\n            <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}} className=\"fly-top\">\r\n                <Typography variant=\"h3\" gutterBottom align=\"center\" color=\"primary\" style={{marginBottom: \"50px\"}}>\r\n                    Join a group of your preference\r\n                    <Button \r\n                        style={{ marginLeft: \"20px\"}}\r\n                        endIcon={<NavigateNextIcon />}\r\n                        variant=\"outlined\"\r\n                        onClick={() => {history.push('/home')}}\r\n                    >\r\n                        Skip\r\n                    </Button>\r\n                </Typography>\r\n            </div>\r\n\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                alignContent=\"center\"\r\n                spacing={4}\r\n            >\r\n                {\r\n                    groups.map((group, index) => {\r\n                        return (\r\n                            <Grid item xs={12} sm={6} key={index}>\r\n                                <div className={index % 2 === 0 ? 'fly-left' : 'fly-right'}>\r\n                                    <Link to={`/group/${group.name}`} style={{ textDecoration: \"none\"}} >\r\n                                        <GroupCard group={group} index={index} />\r\n                                     </Link>\r\n                                </div>\r\n                            </Grid>\r\n                            )\r\n                    })\r\n                }\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default SignupGroupPage\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport API_URL from '../config';\r\nimport { Link, useHistory, Redirect, useLocation } from 'react-router-dom';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport { Button, AppBar, CssBaseline, Drawer, Hidden, IconButton, Toolbar, Tooltip, Tabs, Tab, Box, Badge, Menu, MenuItem, Zoom, Avatar } from '@material-ui/core';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ExploreIcon from '@material-ui/icons/Explore';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport UserContext from '../contexts/UserContext';\r\nimport EventAvailableRoundedIcon from '@material-ui/icons/EventAvailableRounded';\r\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\r\n\r\n\r\nfunction NavBar(props) {\r\n  const {user, onLogout, onChangeThemeColor} = useContext(UserContext);\r\n  const [groupNames, setGroupNames] = useState([])\r\n  const [menuIndex, setMenuIndex] = useState(null)\r\n\r\n  // Variables that help with display and navigation of the sidebar\r\n  let location = useLocation();\r\n  let selectedGroup = location.pathname.replace(\"/group/\", '')\r\n  // let menuIndex = groupNames.indexOf(selectedGroup)\r\n\r\n  // Hardcoded values for the appBar & Drawer (sidemenu)\r\n  const drawerWidth = 240;\r\n  const appBarHeight = 60;\r\n\r\n  // DrawerStates\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const [value, setValue] = useState(0);\r\n\r\n  // States related to the sub menu's from the appbar\r\n  // anchorEl is a prop from menu function that helps to find the position of the menu\r\n  // anchorEl is either null or an html-element (which you get frome event.currentTarget)\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(null);\r\n\r\n  // Boolean to open menu\r\n  // if anchorEl is not null it will become true, else it will be false, same for mobileMoreAnchorEl\r\n  const isMenuOpen = Boolean(anchorEl);                   // Menu are the menus for friends or when you click on your own avatar icon\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);   // Mobile menu is the menu for when a user is on mobile (3 dots appear)\r\n  \r\n  // Created to differentiate between the friends and user menu\r\n  const [selectedMenu, setSelectedMenu] = useState(null);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n    },\r\n    drawer: {\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n      },\r\n    },\r\n    appBar: {\r\n      height: appBarHeight,\r\n      [theme.breakpoints.up('sm')]: {\r\n          // height: 56,\r\n      },\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n      [theme.breakpoints.up('sm')]: {\r\n        display: 'none',\r\n      },\r\n    },\r\n    // necessary for content to be below app bar\r\n    toolbar: theme.mixins.toolbar,\r\n    drawerPaper: {\r\n      marginTop: appBarHeight,\r\n      width: drawerWidth,\r\n    },\r\n    content: {\r\n      flexGrow: 1,\r\n      // padding: theme.spacing(3),\r\n      marginTop: appBarHeight - 3\r\n    },\r\n    moveDrawerDown: {\r\n        marginTop: \"50\"\r\n    },\r\n    // STYLES FROM NAVBAR TWO\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    title: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('sm')]: {\r\n        display: 'block',\r\n      },\r\n    },\r\n  //   inputRoot: {\r\n  //     color: 'inherit',\r\n  //   },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '20ch',\r\n      },\r\n    },\r\n    sectionDesktop: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'flex',\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: 'flex',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'none',\r\n      },\r\n    },\r\n  }));\r\n\r\n  useEffect(() => {\r\n    const getGroupNames = async () => {\r\n      try {\r\n        let response = await axios.get(`${API_URL}/api/navbar/groupnames/${user._id}`, {withCredentials: true})\r\n        let groupNamesTemporary = response.data.map(group => group.name)\r\n        setMenuIndex(groupNamesTemporary.indexOf(selectedGroup) + 1)\r\n        setGroupNames(groupNamesTemporary)\r\n      }\r\n      catch(error) {\r\n      }\r\n    }\r\n    getGroupNames();\r\n  }, [user])\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  let history = useHistory();\r\n\r\n  // Functions for opening/closing drawer\r\n  const handleDrawerToggle = () => {\r\n      setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const handleChange = (event, newValue) => {\r\n      setValue(newValue);\r\n  };\r\n\r\n  const handleMenuChange = (name) => {\r\n    if (!groupNames.includes(name)) {\r\n      setMenuIndex(0)\r\n    }\r\n    setMenuIndex(groupNames.indexOf(name) + 1)\r\n    props.onNavBarChange()\r\n  }\r\n\r\n  const drawer = (\r\n      <div >\r\n          <Tabs\r\n          orientation=\"vertical\"\r\n          variant=\"scrollable\"\r\n          value={menuIndex}\r\n          onChange={handleChange}\r\n          aria-label=\"Vertical tabs example\"\r\n          className={classes.tabs}\r\n      >   \r\n          <Link to={`/home`} style={{ textDecoration: \"none\", color: \"black\", textAlign: \"center\"}} >\r\n            <Tab label=\"Feed\" onClick={props.onNavBarChange}/>\r\n          </Link>\r\n          {\r\n            groupNames && \r\n            groupNames.map(groupName => {\r\n              return (               \r\n                <Link to={`/group/${groupName}`} style={{ textDecoration: \"none\", color: \"black\", textAlign: \"center\"}} >\r\n                  {/* <Tab label={groupName} onClick={props.onNavBarChange} name={groupName}/> */}\r\n                  <Tab label={groupName} onClick={() => handleMenuChange(groupName)} name={groupName}/>\r\n                </Link>\r\n              )\r\n            })\r\n          }\r\n      </Tabs>\r\n      </div>\r\n  );\r\n\r\n  // Functions for opening and closing the App bar menus\r\n  const handleProfileMenuOpen = (event, menuType) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setSelectedMenu(menuType)\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  // Functions for rendering the menu JSX and the mobileMenu JSX\r\n  // They are created here and not in the render method to make things cleaner\r\n  // In the render method you will find {renderMenu} and {renderMobileMenu}\r\n  const menuId = 'primary-search-account-menu';\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      {\r\n          selectedMenu === 'user' ? (\r\n              <div>\r\n                  <MenuItem onClick={() => {history.push(`/profile/${user._id}`)}}>Profile</MenuItem>\r\n                  <MenuItem onClick={onLogout}>Logout</MenuItem>\r\n              </div>\r\n          )\r\n          :\r\n          (\r\n              <div>\r\n                  <MenuItem onClick={() => {history.push('/friends')}}>My Friends</MenuItem>\r\n                  <MenuItem onClick={() => {history.push('/people')}}>Explore People</MenuItem>\r\n              </div>\r\n          )\r\n      }\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem onClick={() => {history.push('/explore')}}>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\"   >\r\n            <ExploreIcon />\r\n        </IconButton>\r\n        <p>Explore</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={(event) => handleProfileMenuOpen(event, 'friend') }>\r\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\r\n          <Badge badgeContent={user.friendRequests.length} color=\"secondary\">\r\n            <PeopleAltIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Friends</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={() => {history.push('/events')}}>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\"   >\r\n            <EventAvailableRoundedIcon />\r\n        </IconButton>\r\n        <p>Events</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={onChangeThemeColor}>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\"   >\r\n            <Brightness4Icon />\r\n        </IconButton>\r\n        <p>Change Theme</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={(event) => handleProfileMenuOpen(event, 'user') } >\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Profile</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  );  \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"fixed\" className={classes.appBar} elevation={1}>\r\n        <Toolbar style={{ display: \"flex\", alignItems: \"center\"}}>\r\n            {/* Conditionally show the Drawer (sidemenu) based on the showDrawer prop */}\r\n            {\r\n                props.showDrawer &&\r\n                    <IconButton\r\n                        color=\"inherit\"\r\n                        aria-label=\"open drawer\"\r\n                        edge=\"start\"\r\n                        onClick={handleDrawerToggle}\r\n                        className={classes.menuButton}\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n            }\r\n            <Tooltip TransitionComponent={Zoom} title=\"Go back to your feed\">\r\n                <Link to=\"/home\">\r\n                    <img src=\"/images/kolab_logo.png\" style={{height: appBarHeight }} />\r\n                </Link>\r\n            </Tooltip>\r\n            <div className={classes.grow} />\r\n                <div className={classes.sectionDesktop}>\r\n                        <Tooltip TransitionComponent={Zoom} title=\"What topics facinate you?\">\r\n                            <Button style={{marginRight: \"10px\"}} onClick={() => {history.push('/explore')} }color=\"inherit\" startIcon={\r\n                                  <ExploreIcon />\r\n                              }> Explore\r\n                            </Button>\r\n                        </Tooltip>\r\n                        <Tooltip TransitionComponent={Zoom} title=\"Connect with your partners in passion\">\r\n                            <Button  \r\n                                    style={{marginRight: \"10px\"}}\r\n                                    color=\"inherit\" \r\n                                    startIcon={\r\n                                        <Badge badgeContent={user.friendRequests.length} color=\"secondary\" anchorOrigin={{ vertical: 'top', horizontal: 'right' }}>\r\n                                            <PeopleAltIcon />\r\n                                        </Badge>\r\n                                    }\r\n                                    onClick={(event) => handleProfileMenuOpen(event, 'friend') }\r\n                                > Friends\r\n                                </Button>\r\n                        </Tooltip>\r\n                        <Tooltip TransitionComponent={Zoom} title=\"Join awesome activities!\">\r\n                            <Button style={{marginRight: \"10px\"}} onClick={() => {history.push('/events')} }color=\"inherit\" startIcon={\r\n                                  <EventAvailableRoundedIcon />\r\n                              }> Events\r\n                            </Button>\r\n                        </Tooltip>\r\n                        <Tooltip TransitionComponent={Zoom} title=\"Change the color or your app\">\r\n                            <Button onClick={onChangeThemeColor} color=\"inherit\" startIcon={\r\n                                  <Brightness4Icon />\r\n                              }> \r\n                            </Button>\r\n                        </Tooltip>\r\n                        <Tooltip TransitionComponent={Zoom} title=\"Check your profile\">\r\n                            <IconButton\r\n                                edge=\"end\"\r\n                                aria-label=\"account of current user\"\r\n                                aria-controls={menuId}\r\n                                aria-haspopup=\"true\"\r\n                                onClick={(event) => handleProfileMenuOpen(event, 'user') }\r\n                                color=\"inherit\"\r\n                                >\r\n                                <Avatar alt={user.username} src={user.image_url} />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n          {/* NAVBAR TWO */}\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n      {/* Puts the Mobile menu and menu in that we created above */}\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n      {/* Conditionally render the drawer based on showDrawer prop */}\r\n      {\r\n        props.showDrawer &&\r\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n            {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n            <Hidden smUp implementation=\"css\">\r\n            <Drawer\r\n                variant=\"temporary\"\r\n                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n                open={mobileOpen}\r\n                onClose={handleDrawerToggle}\r\n                classes={{\r\n                paper: classes.drawerPaper,\r\n                }}\r\n                ModalProps={{\r\n                keepMounted: true, // Better open performance on mobile.\r\n                }}\r\n            >\r\n                {drawer}\r\n            </Drawer>\r\n            </Hidden>\r\n            <Hidden xsDown implementation=\"css\">\r\n            <Drawer\r\n                classes={{\r\n                paper: classes.drawerPaper,\r\n                }}\r\n                variant=\"permanent\"\r\n                open\r\n            >\r\n                {drawer}\r\n            </Drawer>\r\n            </Hidden>\r\n        </nav>\r\n      }\r\n      <main className={classes.content}>\r\n        { props.children }\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import React, {useState} from 'react'\r\nimport PageNumbers from '@material-ui/lab/Pagination';\r\nimport {Grid} from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Pagination({ data, RenderComponent, dataLimit}) {\r\n    \r\n    const [pages] = useState(Math.ceil(data.length / dataLimit));\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n  \r\n    const changePage = (event, value) => {\r\n        setCurrentPage(value);\r\n    }\r\n  \r\n    const getPaginatedData = () => {\r\n        const startIndex = currentPage * dataLimit - dataLimit;\r\n        const endIndex = startIndex + dataLimit;\r\n        return data.slice(startIndex, endIndex);\r\n      \r\n    };\r\n   \r\n    return (\r\n        <div>                                    \r\n            <Grid   container\r\n                    direction=\"row\"\r\n                    justifyContent=\"center\"\r\n                    alignItems=\"center\"\r\n                    alignContent=\"center\"\r\n                    spacing={4}\r\n                >\r\n                    {getPaginatedData().map((group, idx) => (\r\n                       <Grid item xs={12} sm={6} key={idx}>\r\n                         <div className={idx % 2 === 0 ? 'fly-left' : 'fly-right'}>\r\n                            <Link to={`/group/${group.name}`} style={{ textDecoration: \"none\"}} >\r\n                                <RenderComponent group={group}/>\r\n                            </Link>\r\n                         </div>\r\n                    </Grid>\r\n                ))}\r\n             </Grid>\r\n           <PageNumbers count={pages} page={currentPage} onChange={changePage} style={{marginTop: '30px'}}/>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination\r\n","import React, {useState} from 'react'\r\nimport { Container } from '@material-ui/core'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport logo from '../assets/images/logo_dark_transparent.png'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Paper from '@material-ui/core/Paper'\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nfunction AddGroup(props) {\r\n    const [category, setCategory] = useState('')\r\n    return (\r\n        <ContainermaxWidth=\"xs\"> \r\n        <Paper className=\"pop-up-styling\">\r\n                <div style={{display: \"flex\", justifyContent: \"space-between\"}}>\r\n                    <Typography variant='h6' style={{marginTop: '10px'}}>Create your group</Typography>\r\n                    <IconButton onClick={props.onAddGroupPopUp} >\r\n                        <CloseIcon />\r\n                    </IconButton> \r\n                </div>  \r\n              <form autocomplete=\"off\" encType=\"multipart/form-data\" style={{display: 'flex', flexDirection: 'column'}} onSubmit={props.onAddGroup} novalidate>\r\n<TextFieldplaceholder=\"Name\"variant=\"filled\"label=\"Name\" type=\"text\" name=\"name\"></TextField>\r\n<TextField\r\nlabel=\"Description\"\r\nplaceholder=\"Whatmakes your group special?\"\r\n                    name=\"description\"\r\nmultiline\r\nrows={5}\r\nmaxRows={10}\r\nvariant=\"filled\"\r\n>\r\n</TextField>\r\n                <TextField style={{marginTop: '10px'}} placeholder=\"Tags (Place a ',' between tags and no spaces)\"variant=\"filled\"label=\"Tags\" type=\"text\" name=\"tags\"></TextField>\r\n                <FormControl variant=\"outlined\" style={{marginTop: '10px'}}>\r\n                    <InputLabel id=\"demo-simple-select-outlined-label\">Category</InputLabel>\r\n                    <Select\r\n                    labelId=\"demo-simple-select-outlined-label\"\r\n                    id=\"demo-simple-select-outlined\"\r\n                    name=\"category\"\r\n                    value={category}\r\n                    onChange={(event) => {setCategory(event.target.value)}}\r\n                    label=\"Category\"\r\n                    >\r\n                    <MenuItem value=\"\">\r\n                        <em>Category</em>\r\n                    </MenuItem>\r\n                    <MenuItem value=\"other\">Other</MenuItem>\r\n                    <MenuItem value=\"magic\">Magic</MenuItem>\r\n                    <MenuItem value=\"art\">Art</MenuItem>\r\n                    <MenuItem value=\"sports\">Sports</MenuItem>\r\n                    <MenuItem value=\"science\">Science</MenuItem>\r\n                    <MenuItem value=\"lifestyle\">Lifestyle</MenuItem>\r\n                    <MenuItem value=\"nature\">Nature</MenuItem>\r\n                    <MenuItem value=\"politics\">Politics</MenuItem>\r\n                    <MenuItem value=\"entertainment\">Entertainment</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <input type=\"file\" name=\"imageUrl\" accept=\"image/png, image/jpg\"/>                  \r\n<Buttontype=\"submit\" variant=\"contained\"color=\"primary\">CreateGroup</Button>\r\n               </form>            \r\n            </Paper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default AddGroup\r\n","import Navbar from '../components/Navbar';\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport UserContext from '../contexts/UserContext';\r\nimport GroupCard from '../components/GroupCard';\r\nimport { Container, Typography, Grid, Button, TextField } from '@material-ui/core';\r\nimport API_URL from \"../config\"\r\nimport axios from 'axios';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport Pagination from '../components/Pagination';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddGroup from '../components/AddGroup';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport Animation from '../components/Animation';\r\nimport loading from '../json/loading.json';\r\n\r\nfunction ExploreGroupPage({onError, onSuccess, history}) {\r\n\r\n    const [groups, setGroups] = useState([]);\r\n    const [filteredGroups, setFilteredGroups] = useState([]);\r\n    const [addGroup, setAddGroup] = useState(false);\r\n    const {user, onUpdateUser} = useContext(UserContext);\r\n\r\n    useEffect(() => {\r\n        let getGroups = async () => {\r\n            let response = await axios.get(`${API_URL}/api/groups`, {withCredentials: true})\r\n            setGroups(response.data)\r\n            setFilteredGroups(response.data)\r\n        }\r\n        getGroups()\r\n    }, [])\r\n\r\n    let handleCreateGroup = async (event) => {\r\n        event.preventDefault()\r\n\r\n        const {name, description, category, tags} = event.target\r\n\r\n     \r\n        try{\r\n            let imgResponse = '' \r\n            if (event.target.imageUrl.value) {\r\n                var formData = new FormData();\r\n                formData.append('imageUrl', event.target.imageUrl.files[0]);\r\n                imgResponse = await axios.post(`${API_URL}/api/upload`, formData);\r\n            }\r\n\r\n            let groupData = {\r\n                name: name.value.trim(),\r\n                image_url: imgResponse.data ? imgResponse.data.image_url : '',\r\n                description: description.value,\r\n                category: category.value,\r\n                tags: tags.value.split(','),\r\n                admin: user._id,\r\n                users: [user._id]\r\n            } \r\n\r\n\r\n          let response = await axios.post(`${API_URL}/api/add-group`, groupData, {withCredentials: true})\r\n          onSuccess(response.data.successMessage)\r\n          setGroups([response.data.group,...groups])\r\n          onUpdateUser({\r\n              ...user, \r\n              groupNames: [...user.groupNames, response.data.group.name],\r\n              groups: [...user.groups, response.data.group._id]\r\n            })\r\n          history.push(`/group/${response.data.group.name}`)  \r\n        } catch (error) {\r\n          onError(error.response.data.errorMessage)\r\n        }\r\n    }\r\n\r\n    const handleAddGroupPopUp = () => {\r\n            setAddGroup(!addGroup)\r\n    }\r\n\r\n    console.log(groups)\r\n\r\n    const handleGroupSearch = (event) => {\r\n        let filter = groups.filter(group => {\r\n            let lcTags = group.tags.map(tag => tag.toLowerCase())[0]\r\n            return (\r\n                group.name.toLowerCase().includes(event.target.value.toLowerCase()) ||\r\n                lcTags.includes(event.target.value.toLowerCase()))\r\n        })\r\n        setFilteredGroups(filter)\r\n    }\r\n\r\n    if(groups.length === 0){\r\n        return  <Animation width={300} height={300} animation={loading} />\r\n    }\r\n\r\n    return (\r\n        <div>  \r\n            <Navbar user={user} onUpdateUser={onUpdateUser} >      \r\n      \r\n               <IconButton onClick={handleAddGroupPopUp} \r\n                style={{position: \"fixed\", right: \"0px\", top: \"0px\", marginTop: \"50px\", marginRight: \"30px\"}}\r\n               >\r\n                <div style={{\r\n                    borderRadius: '50%', \r\n                    width: '100px', \r\n                    height: '100px', \r\n                    display: 'flex', \r\n                    flexDirection: 'column', \r\n                    alignItems: 'center', \r\n                    justifyContent: 'center', \r\n                    backgroundColor: '#55ABB1',\r\n                }}>\r\n                    <PeopleAltIcon style={{color: 'white'}}/> <AddIcon style={{color: 'white'}}/> \r\n                </div>\r\n                </IconButton>\r\n                <Container style={{ marginTop: \"30px\"}} >\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}} className=\"fly-top\">\r\n                        <Typography variant=\"h3\" gutterBottom align=\"center\" color=\"primary\" style={{marginBottom: \"50px\"}}>\r\n                            Explore our groups\r\n                        </Typography>\r\n                    </div>\r\n                    <TextField \r\n                        style={{width: \"200px\", transform: \"translateY(-70px)\", position: \"absolute\"}}\r\n                        variant=\"outlined\"\r\n                        onChange={handleGroupSearch} \r\n                        label=\"Search\" \r\n                        size=\"medium\"\r\n                    />  \r\n                    {\r\n                     !addGroup && <Pagination data={filteredGroups} RenderComponent={GroupCard} dataLimit={10}/>\r\n                    }\r\n                </Container> \r\n            </Navbar> {\r\n            addGroup && (\r\n                    <div className=\"popupOpacity\">  \r\n                        <AddGroup onAddGroupPopUp={handleAddGroupPopUp} onAddGroup={handleCreateGroup}/>\r\n                    </div>\r\n                    )\r\n                }\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default ExploreGroupPage\r\n","import React from 'react'\r\nimport { Avatar, Typography } from '@material-ui/core'\r\nimport moment from 'moment';\r\nimport { IconButton } from '@material-ui/core';\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\r\n\r\nexport default function CommentCard({user, onHandleLikesAndDislikes, comment: {createdAt, content, likes, dislikes, owner, _id}}) {\r\n    return (\r\n        <div style={{display: \"flex\", marginTop: \"20px\"}}>\r\n            <Avatar alt={user.username} src={user.image_url} style={{marginRight: \"10px\"}} />\r\n            <div style={{ width: \"100%\" }}>\r\n                <div style={{display: \"flex\", justifyContent: \"space-between\", width: \"100%\"}}>\r\n                    <Typography \r\n                        gutterBottom \r\n                        variant=\"body1\" \r\n                        style={{flexGrow: \"1\"}}>\r\n                        {owner.username}\r\n                    </Typography>\r\n                    <Typography \r\n                        variant=\"body2\"\r\n                    >\r\n                        {moment(createdAt).format(\"lll\") }\r\n                    </Typography>\r\n                </div> \r\n                <Typography \r\n                    variant=\"body2\" \r\n                    style={{wordBreak: \"break-word\"}}\r\n                >{content}\r\n                </Typography>\r\n                <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                    <IconButton \r\n                        onClick={() => onHandleLikesAndDislikes(\"comment\", \"likes\", _id)}\r\n                        color={likes.includes(user._id) ? 'primary' : ''}\r\n                    >\r\n                        <ThumbUpIcon />\r\n                    </IconButton>\r\n                    <Typography>{likes.length}</Typography>\r\n                    <IconButton \r\n                        onClick={() => onHandleLikesAndDislikes(\"comment\", \"dislikes\", _id)}\r\n                        color={dislikes.includes(user._id) ? 'primary' : ''}\r\n                    >\r\n                        <ThumbDownIcon />\r\n                    </IconButton>\r\n                    <Typography>{dislikes.length}</Typography>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red } from '@material-ui/core/colors';\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport moment from 'moment';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport CommentCard from './CommentCard';\r\nimport axios from 'axios';\r\nimport API_URL from '../config';\r\nimport LikeAnimation from '../json/like.json'\r\nimport MessageAnimation from '../json/message.json'\r\nimport Animation from './Animation'\r\n\r\n\r\nfunction PostCard({postData, user}) {\r\n    // const cardWidth = 500;\r\n\r\n    // rename later\r\n    const [post, setPost] = useState(postData);\r\n    const [commentContent, setCommentContent] = useState('')\r\n    const [showLikeAnimation, setShowLikeAnimation] = useState(false);\r\n    const [showMessageAnimation, setShowMessageAnimation] = useState(false);\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        root: {\r\n            maxWidth: 345,\r\n            width: 345\r\n        },\r\n        media: {\r\n            height: 140,\r\n        },\r\n        expand: {\r\n          transform: 'rotate(0deg)',\r\n          marginLeft: 'auto',\r\n          transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n          }),\r\n        },\r\n        expandOpen: {\r\n          transform: 'rotate(180deg)',\r\n        },\r\n        avatar: {\r\n          backgroundColor: red[500],\r\n        },\r\n        comment: {\r\n            // width: cardWidth - 80,\r\n        }\r\n      }));\r\n\r\n    const classes = useStyles();\r\n    const [expanded, setExpanded] = React.useState(false);\r\n  \r\n    const handleExpandClick = () => {\r\n      setExpanded(!expanded);\r\n    };\r\n\r\n    const handleAddComment = async (event) => {\r\n        event.preventDefault();\r\n        \r\n        if (!commentContent.length) {\r\n            return 0\r\n        }\r\n\r\n        try {\r\n            let commentData = {\r\n                postId: post._id,\r\n                comment: {\r\n                    content: commentContent,\r\n                    owner: user._id,\r\n                    likes: [],\r\n                    dislikes: [],\r\n                    createdAt: new Date()\r\n                }\r\n            }\r\n            let response = await axios.post(`${API_URL}/api/post/comment`, commentData, {withCredentials: true})\r\n            setCommentContent('')\r\n            setPost(response.data)\r\n            temporaryShowAnimation(setShowMessageAnimation, 1700)\r\n        }\r\n        catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const updateLikesAndDislikes = async (likeAndDislikeData) => {\r\n        try {\r\n            let response = await axios.post(`${API_URL}/api/post/likes`, likeAndDislikeData, {withCredentials: true})\r\n            setPost(response.data)\r\n        }\r\n        catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const handleLikesAndDislikes = async (type, action, postOrCommentId) => {\r\n        if (type === 'post' && action ===\"likes\") {\r\n            temporaryShowAnimation(setShowLikeAnimation, 2000)\r\n        }\r\n\r\n        let likeAndDislikeData = {\r\n            type,\r\n            action,\r\n            postOrCommentId,\r\n            userId: user._id,\r\n        }\r\n        updateLikesAndDislikes(likeAndDislikeData)\r\n    }\r\n\r\n    const temporaryShowAnimation = (animationFunction, duration) => {\r\n        animationFunction(true)\r\n        setTimeout(() => {\r\n            animationFunction(false)\r\n        }, duration);\r\n    }\r\n\r\n    const changeCommentContent = event => {\r\n        setCommentContent(event.target.value)\r\n    }\r\n    \r\n    return (\r\n            <Card className={classes.root}>\r\n            <CardHeader\r\n                avatar={\r\n                    <Avatar alt={postData.creator.username} src={postData.creator.image_url} />\r\n                }\r\n                action={\r\n                    <Typography variant=\"body2\">{moment(post.createdAt).format(\"MMM Do YY\") }</Typography>    \r\n                }\r\n                title={post.title}\r\n                subheader={post.creator.username}\r\n            />\r\n            <CardContent>\r\n                <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\r\n                {post.content}\r\n                </Typography>\r\n                <div style={{display: \"flex\", justifyContent: \"center\"}}>\r\n                    <img src={post.image_url} style={{maxWidth: \"300px\"}}/>\r\n                </div>\r\n            </CardContent>\r\n            <CardActions disableSpacing >\r\n                        {   \r\n                            !showLikeAnimation && \r\n                            <IconButton \r\n                                onClick={() => handleLikesAndDislikes(\"post\", \"likes\", post._id)} \r\n                                name=\"likes\" \r\n                                color={post.likes.includes(user._id) ? 'primary' : ''}\r\n                            >\r\n                                <ThumbUpIcon />\r\n                            </IconButton>\r\n                        }\r\n                        {\r\n                            showLikeAnimation && \r\n                            <Animation width={50} height={50} animation={LikeAnimation} />\r\n                        }\r\n                        <Typography>{post.likes.length}</Typography>\r\n                        <IconButton \r\n                            onClick={() => handleLikesAndDislikes(\"post\", \"dislikes\", post._id)} \r\n                            name=\"dislikes\"\r\n                            color={post.dislikes.includes(user._id) ? 'primary' : ''}\r\n                        >\r\n                            <ThumbDownIcon />\r\n                        </IconButton>\r\n                        <Typography style={{flexGrow: \"1\"}}>{post.dislikes.length}</Typography>\r\n                        {\r\n                            showMessageAnimation && \r\n                            <Animation width={211} height={100} animation={MessageAnimation} />\r\n                        }\r\n                        <Typography>{post.comments.length}</Typography>\r\n                        <IconButton\r\n                            onClick={handleExpandClick}\r\n                            aria-label=\"show more\"\r\n                        >\r\n                            <CommentIcon/>\r\n                        </IconButton>\r\n                        <IconButton aria-label=\"share\">\r\n                            <ShareIcon />\r\n                        </IconButton>\r\n\r\n            </CardActions>\r\n            <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                <CardContent>\r\n                    {\r\n                        post.comments.map((comment, index) => {\r\n                           return <CommentCard key={index} user={user} comment={comment} onHandleLikesAndDislikes={handleLikesAndDislikes}/>\r\n                        })\r\n                    }\r\n                </CardContent>\r\n            </Collapse>\r\n            <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n            <CardContent>\r\n                <form onSubmit={handleAddComment}>\r\n                    <TextField \r\n                        label=\"Comment\" \r\n                        variant=\"outlined\" \r\n                        size=\"small\" \r\n                        className={classes.comment}\r\n                        rowsMax=\"10\"\r\n                        multiline\r\n                        name=\"content\"\r\n                        onChange={changeCommentContent}\r\n                        value={commentContent}\r\n                    />\r\n                    <IconButton type=\"submit\">\r\n                        <CommentIcon/>\r\n                    </IconButton>\r\n                </form>\r\n            </CardContent>\r\n            </div>\r\n            </Card>            \r\n    )\r\n}\r\n\r\nexport default PostCard\r\n\r\n\r\n// npm install react-share\r\n// import {\r\n//     EmailShareButton,\r\n//     FacebookShareButton,\r\n//     InstapaperShareButton,\r\n//     LinkedinShareButton,\r\n//     PinterestShareButton,\r\n//     TwitterShareButton,\r\n//     WhatsappShareButton,\r\n//   } from \"react-share\";","import React, { useEffect, useState, useContext } from 'react';\r\nimport UserContext from '../contexts/UserContext';\r\nimport Navbar from \"../components/Navbar\";\r\nimport PostCard from '../components/PostCard';\r\nimport { Container, Typography, Grid, Button } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport API_URL from \"../config\";\r\nimport { Redirect } from 'react-router';\r\n\r\n\r\nfunction HomePage() {\r\n    \r\n    const [posts, setPosts] = useState([]);\r\n    const {user, onUpdateUser} = useContext(UserContext);\r\n    const [navBarChanged, setNavBarChanged] = useState(false);\r\n\r\n    useEffect(() => {\r\n\r\n        const getPosts = async () => {\r\n            try {\r\n                let response = await axios.get(`${API_URL}/api/home`);\r\n                setPosts(response.data)\r\n            }\r\n            catch(error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        getPosts();\r\n    }, [])\r\n\r\n    if (!user) {\r\n        return <Redirect to={{\r\n            pathname: \"/\",\r\n            state: { renderLogin: true }\r\n        }} />\r\n    }\r\n\r\n\r\n    const handleNavBarChange = () => {\r\n        setNavBarChanged(!navBarChanged)\r\n    }\r\n\r\n    return (\r\n        <Navbar showDrawer onNavBarChange={handleNavBarChange}>\r\n            <Container>\r\n                <Grid\r\n                    container\r\n                    spacing={4}\r\n                    style={{marginTop: \"20px\"}}\r\n                >\r\n                    {\r\n                        posts.map((postData, index) => {\r\n                            return (\r\n                                    <Grid item xs={12} sm={12} key={index} >\r\n                                        <div className={index % 2 === 0 ? 'fly-left' : 'fly-right'}>\r\n                                            <PostCard user={user} postData={postData} index={index} />\r\n                                        </div>  \r\n                                    </Grid>\r\n                                )\r\n                        })\r\n                    }\r\n                </Grid>\r\n            </Container>\r\n        </Navbar>\r\n    )\r\n}\r\n\r\nexport default HomePage;\r\n","import { Container, TextField, Paper, Button, IconButton } from '@material-ui/core'\r\nimport React from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nfunction AddPost({onCloseAddPost, onAddPost}) {\r\n\r\n    return (\r\n        <Container maxWidth=\"sm\">\r\n            <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\r\n                <IconButton onClick={onCloseAddPost}>\r\n                    <CloseIcon />\r\n                </IconButton> \r\n            </div>  \r\n            <Paper className=\"pop-up-styling\">\r\n                <form onSubmit={onAddPost} encType=\"multipart/form-data\" style={{display: \"flex\", flexDirection: \"column\"}} autocomplete=\"off\" novalidate>\r\n                    <TextField \r\n                        placeholder=\"Title\" \r\n                        variant=\"standard\" \r\n                        margin=\"normal\"\r\n                        label=\"Title\"\r\n                        name=\"title\"\r\n                    />\r\n                    <TextField \r\n                        label=\"Body\"\r\n                        placeholder=\"What do you want to share with the world?\"\r\n                        multiline\r\n                        rows={5}\r\n                        maxRows={10}\r\n                        variant=\"standard\" \r\n                        margin=\"normal\"\r\n                        name=\"content\"\r\n                    />\r\n                    <input type=\"file\" name=\"imageUrl\" accept=\"image/png, image/jpg\"/>                  \r\n                    <Button variant=\"contained\" color=\"primary\" type=\"submit\" >Create Post</Button>\r\n                </form>\r\n            </Paper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default AddPost\r\n","import React, {useState} from 'react'\r\nimport { Container } from '@material-ui/core'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport logo from '../assets/images/logo_dark_transparent.png'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Paper from '@material-ui/core/Paper'\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nfunction EditGroup({onCloseEditGroup, onEditGroup, group}) {\r\n\r\n    const [temporaryGroup, setTemporaryGroup ] = useState(group)\r\n\r\n    const changeInputData = event => {\r\n        setTemporaryGroup({\r\n            ...temporaryGroup,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    return (  \r\n        <Container maxWidth=\"xs\"> \r\n            <Paper className=\"pop-up-styling\"> \r\n                <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\r\n                    <IconButton onClick={onCloseEditGroup} >\r\n                        <CloseIcon />\r\n                    </IconButton> \r\n                </div>\r\n              <form autocomplete=\"off\" style={{display: 'flex', flexDirection: 'column'}} onSubmit={onEditGroup} novalidate>\r\n                <TextField \r\n                    placeholder=\"Name\" \r\n                    variant=\"standard\" \r\n                    margin=\"normal\"\r\n                    label=\"Name\" \r\n                    type=\"text\" \r\n                    name=\"name\"\r\n                    value={temporaryGroup.name}\r\n                    onChange={changeInputData}\r\n                >\r\n                </TextField>\r\n                <TextField \r\n                    style={{marginTop: '10px'}} \r\n                    placeholder=\"Image Url\" \r\n                    variant=\"standard\" \r\n                    margin=\"normal\"\r\n                    label=\"Image\" \r\n                    type=\"text\" \r\n                    name=\"image_url\"\r\n                    onChange={changeInputData}\r\n                >\r\n                </TextField>\r\n                <TextField \r\n                    label=\"Description\"\r\n                    placeholder=\"What makes your group special?\"\r\n                    name=\"description\"\r\n                    multiline\r\n                    rows={5}\r\n                    maxRows={10}\r\n                    variant=\"standard\" \r\n                    margin=\"normal\"\r\n                    value={temporaryGroup.description}\r\n                    onChange={changeInputData}\r\n                    >\r\n                </TextField>\r\n                <TextField \r\n                    style={{marginTop: '10px'}} \r\n                    placeholder=\"Tags (Place a ',' between tags and no spaces)\" \r\n                    variant=\"standard\" \r\n                    margin=\"normal\"\r\n                    label=\"Tags\" \r\n                    type=\"text\" \r\n                    name=\"tags\"\r\n                    value={temporaryGroup.tags}\r\n                    onChange={changeInputData}\r\n                >\r\n                </TextField>\r\n                <FormControl variant=\"outlined\" style={{marginTop: '10px'}}>\r\n                    <InputLabel id=\"demo-simple-select-outlined-label\">Category</InputLabel>\r\n                    <Select\r\n                    labelId=\"demo-simple-select-outlined-label\"\r\n                    id=\"demo-simple-select-outlined\"\r\n                    name=\"category\"\r\n                    value={temporaryGroup.category}\r\n                    onChange={changeInputData}\r\n                    label=\"Category\"\r\n                    >\r\n                    <MenuItem value=\"\">\r\n                        <em>Category</em>\r\n                    </MenuItem>\r\n                    <MenuItem value=\"other\">Other</MenuItem>\r\n                    <MenuItem value=\"magic\">Magic</MenuItem>\r\n                    <MenuItem value=\"art\">Art</MenuItem>\r\n                    <MenuItem value=\"sports\">Sports</MenuItem>\r\n                    <MenuItem value=\"science\">Science</MenuItem>\r\n                    <MenuItem value=\"lifestyle\">Lifestyle</MenuItem>\r\n                    <MenuItem value=\"nature\">Nature</MenuItem>\r\n                    <MenuItem value=\"politics\">Politics</MenuItem>\r\n                    <MenuItem value=\"entertainment\">Entertainment</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\">Update Group</Button>\r\n               </form>            \r\n            </Paper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default EditGroup\r\n","import React, {useState, useEffect} from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nfunction FlashMessage ({trigger, children, messageType}) {\r\n\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    setOpen(true);\r\n  }, [trigger])\r\n    \r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  };\r\n\r\n return (\r\n    <div className={classes.root}>\r\n        { \r\n          (children !== null) &&\r\n          <Snackbar open={open} autoHideDuration={2000} onClose={handleClose} >\r\n              <MuiAlert elevation={6} variant=\"filled\" onClose={handleClose} severity={messageType !== null ? messageType : ''}> \r\n                {\r\n                  children\r\n                }\r\n              </MuiAlert>\r\n          </Snackbar>\r\n        }\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default FlashMessage","import React, {useState} from 'react'\r\nimport { Container } from '@material-ui/core'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport logo from '../assets/images/logo_dark_transparent.png'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Paper from '@material-ui/core/Paper'\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport moment from 'moment';\r\n\r\nfunction AddEvent({onCloseAddEvent, onAddEvent}) {\r\n\r\n    let currentDate = new Date();\r\n    currentDate = moment(currentDate).format().slice(0, 10) + \"T12:00\"; // Creates date in format YYYY-MM-DD \r\n    let currentDateOneHourLater = moment(currentDate).format().slice(0, 10) + \"T13:00\"; // Creates date in format YYYY-MM-DD \r\n\r\n    return (  \r\n        <Container maxWidth=\"xs\"> \r\n            <Paper className=\"pop-up-styling\"> \r\n                <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\r\n                    <IconButton onClick={onCloseAddEvent} >\r\n                        <CloseIcon />\r\n                    </IconButton> \r\n                </div>\r\n              <form onSubmit={onAddEvent} autocomplete=\"off\" style={{display: 'flex', flexDirection: 'column'}}  novalidate>\r\n                <TextField\r\n                    placeholder=\"Name\"\r\n                    variant=\"standard\"\r\n                    label=\"Name\" \r\n                    type=\"text\" \r\n                    name=\"name\" \r\n                />\r\n<TextField\r\nlabel=\"Description\"\r\nplaceholder=\"Whatmakes your group special?\"\r\n                    name=\"description\"\r\nmultiline\r\nrows={5}\r\nmaxRows={10}\r\nvariant=\"standard\"\r\n/>\r\n                <TextField\r\n                    id=\"datetime-local\"\r\n                    label=\"Start date & time\"\r\n                    type=\"datetime-local\"\r\n                    defaultValue={currentDate}\r\n                    InputLabelProps={{\r\n                        shrink: true,\r\n                    }}\r\n                    name=\"start\"\r\n                    />\r\n                <TextField\r\n                    id=\"datetime-local\"\r\n                    label=\"Start date & time\"\r\n                    type=\"datetime-local\"\r\n                    defaultValue={currentDateOneHourLater}\r\n                    InputLabelProps={{\r\n                        shrink: true,\r\n                    }}\r\n                    name=\"end\"\r\n                />\r\n                <input type=\"file\" name=\"imageUrl\" accept=\"image/png, image/jpg\" />             \r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\">Create Event</Button>\r\n               </form>            \r\n            </Paper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default AddEvent\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport moment from 'moment';\r\nimport { Avatar } from '@material-ui/core';\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\r\nimport axios from 'axios';\r\nimport API_URL from '../config';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 345,\r\n    width: 345\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n});\r\n\r\nexport default function EventCard({eventData, user, onEventStatusChanged}) {\r\n  const classes = useStyles();\r\n\r\n  const [event, setEvent] = useState(eventData)\r\n\r\n  const handleEventParticipation = async (action) => {\r\n    try {\r\n        let eventInfo = {\r\n            eventId: event._id,\r\n            userId: user._id,\r\n            action\r\n        }\r\n\r\n        let newEvent = await axios.post(`${API_URL}/api/event/participate`, eventInfo, {withCredentials: true})\r\n        setEvent(newEvent.data)\r\n        onEventStatusChanged(newEvent.data)\r\n    }\r\n    catch(error) {\r\n        console.log(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={event.image_url}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {event.name}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" gutterBottom>\r\n            {event.description}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            From: {moment(event.start).format('MMM Do YY, h:mm')} to {moment(event.end).format('MMM Do YY, h:mm')}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions style={{display: \"flex\", justifyContent: \"space-between\"}}>\r\n         {\r\n            event.users.map(user => user._id).includes(user._id)\r\n                ? (\r\n                    <Button size=\"medium\" color=\"primary\" variant=\"contained\" onClick={() => handleEventParticipation('abort')}>\r\n                        Abort\r\n                    </Button>\r\n                ) \r\n                : (\r\n                    <Button size=\"medium\" color=\"primary\" variant=\"contained\" onClick={() => handleEventParticipation('participate')}>\r\n                        Participate\r\n                    </Button>\r\n                )\r\n\r\n         }   \r\n        {\r\n            event.users.length > 0 && \r\n            <AvatarGroup max={5}>\r\n                {\r\n                    event.users.map(user => {\r\n                        return ( \r\n                            <> \r\n                            <Avatar alt={user.username} src={user.image_url} /> \r\n                             </>\r\n                        )\r\n                    })\r\n                }\r\n            </AvatarGroup>\r\n        }\r\n\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport UserContext from '../contexts/UserContext';\r\nimport { Redirect } from 'react-router';\r\nimport axios from 'axios';\r\nimport API_URL from \"../config\"\r\nimport { Typography, Button, ButtonGroup, Container, Grid } from '@material-ui/core';\r\nimport NavBar from '../components/Navbar';\r\nimport AddPost from '../components/AddPost';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport AccessibilityNewIcon from '@material-ui/icons/AccessibilityNew';\r\nimport EditGroup from '../components/EditGroup';\r\nimport FlashMessage from '../components/FlashMessage';\r\nimport PostCard from '../components/PostCard';\r\nimport EventAvailableRoundedIcon from '@material-ui/icons/EventAvailableRounded';\r\nimport AddEvent from '../components/AddEvent';\r\nimport EventCard from '../components/EventCard';\r\nimport moment from 'moment';\r\nimport Animation from '../components/Animation'\r\nimport loading from '../json/loading.json';\r\n\r\nfunction GroupPage({ match: {params}}) {\r\n\r\n    const [group, setGroup] = useState(null);\r\n    const [posts, setPosts] = useState([]);\r\n    const [events, setEvents] = useState([]);\r\n    const [showAddPost, setShowAddPost] = useState(false);\r\n    const [showAddEvent, setShowAddEvent] = useState(false);\r\n    const [showEditGroup, setShowEditGroup] = useState(false);\r\n    const [navBarChanged, setNavBarChanged] = useState(false);\r\n    const {user, onUpdateUser} = useContext(UserContext);\r\n    const [showFlashMessage, setShowFlashMessage] = useState(false);\r\n    const [successMessage, setSuccessMessage] = useState(null)\r\n    const [snackbar, setSnackbar] = useState(null)\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            return <Redirect to={{\r\n                pathname: \"/\",\r\n                state: { renderLogin: true }\r\n            }} />\r\n        }\r\n    }, [user])\r\n    \r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let response = await axios.get(`${API_URL}/api/${params.group}`, {withCredentials: true})\r\n                setGroup(response.data)\r\n            }\r\n            catch(error) {\r\n                console.log(error)\r\n                return <Redirect to={{\r\n                    pathname: \"/home\",\r\n                }} />\r\n            }\r\n        })()\r\n    }, [navBarChanged])\r\n    \r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let groupInfo = {\r\n                    id: group._id\r\n                }\r\n\r\n                let currentDate = new Date();\r\n                currentDate = moment(currentDate).format().slice(0, 10);   // Creates date in format YYYY-MM-DD \r\n\r\n                let postResponse = await axios.post(`${API_URL}/api/posts`, groupInfo, {withCredentials: true})\r\n                let eventResponse = await axios.get(`${API_URL}/api/events/${group._id}/${currentDate}`, {withCredentials: true})\r\n                let postData = postResponse.data.sort((a, b) => {\r\n                    console.log(a.createdAt)\r\n                    if (a.createdAt < b.createdAt) {\r\n                        return 1\r\n                    }\r\n                    else if (a.createdAt > b.createdAt) {\r\n                        return -1\r\n                    }\r\n                    else {\r\n                        return 0\r\n                    }\r\n                }) \r\n                setPosts(postData)\r\n                setEvents(eventResponse.data)\r\n            }\r\n            catch(error) {\r\n                console.log(\"Something went wrong while getting the posts // maybe none exist\", error)\r\n                setPosts([])\r\n            }\r\n        })()\r\n    }, [group])\r\n    \r\n    const handleCloseAddPost = () => {\r\n        setShowAddPost(false);\r\n    }\r\n\r\n    const handleCloseAddEvent = () => {\r\n        setShowAddEvent(false);\r\n    }\r\n\r\n    const handleCloseEditGroup = () => {\r\n        setShowEditGroup(false);\r\n    }\r\n\r\n    const handleAddPost = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (!event.target.title.value || !event.target.content.value) {\r\n            setSuccessMessage('Please fill in a title and share your message');\r\n            setSnackbar('error');\r\n            setShowFlashMessage(Math.random()*100);\r\n            return 0 \r\n        }\r\n\r\n        try {\r\n            let imgResponse = '' \r\n            if (event.target.imageUrl.value) {\r\n                var formData = new FormData();\r\n                formData.append('imageUrl', event.target.imageUrl.files[0]);\r\n                imgResponse = await axios.post(`${API_URL}/api/upload`, formData);\r\n            }\r\n            \r\n            let newPost = {\r\n                title: event.target.title.value,\r\n                content: event.target.content.value,\r\n                creator: user._id,\r\n                groupOrigin: group._id,\r\n                image_url: imgResponse.data ? imgResponse.data.image_url : '' \r\n            }\r\n            \r\n            let response = await axios.post(`${API_URL}/api/${params.group}/add-post`, newPost, {withCredentials: true})\r\n            user.posts.push(response.data._id)\r\n            let createdPost = response.data;\r\n            createdPost.creator = user;\r\n            setPosts([createdPost, ...posts])\r\n            onUpdateUser(user)\r\n            setShowAddPost(false)\r\n            setSuccessMessage('Awesome! New post has been added.')\r\n            setSnackbar('success');\r\n            setShowFlashMessage(Math.random()*100)\r\n        }\r\n        catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const handleAddEvent = async (event) => {\r\n        event.preventDefault();\r\n        const { name, description, start, end, imageUrl } = event.target\r\n\r\n        if (!name.value || !description.value || !start.value || !end.value || !imageUrl.value) {\r\n            setSuccessMessage('Please fill in all the fields...');\r\n            setSnackbar('error');\r\n            setShowFlashMessage(Math.random()*100);\r\n            return 0 \r\n        }\r\n\r\n        if (end.value < start.value) {\r\n            setSuccessMessage('So time goes backward for you! This is not inception...');\r\n            setSnackbar('error');\r\n            setShowFlashMessage(Math.random()*100);\r\n        }\r\n\r\n        let currentDate = new Date();\r\n        currentDate = moment(currentDate).format().slice(0, 10);   // Creates date in format YYYY-MM-DD \r\n\r\n        if (start.value.slice(0, 10) < currentDate) {\r\n            setSuccessMessage('This event starts in the past... This is not Back to the Future');\r\n            setSnackbar('error');\r\n            setShowFlashMessage(Math.random()*100);\r\n        }\r\n\r\n        try {\r\n            var formData = new FormData();\r\n            formData.append('imageUrl', event.target.imageUrl.files[0]);\r\n            let imgResponse = await axios.post(`${API_URL}/api/upload`, formData);\r\n            \r\n            let newEvent = {\r\n                name: name.value,\r\n                description: description.value,\r\n                image_url: imgResponse.data.image_url,\r\n                start: start.value,\r\n                end: end.value,\r\n                creator: user._id,\r\n                groupOrigin: group._id,\r\n                users: [user._id]\r\n            }\r\n            \r\n            let response = await axios.post(`${API_URL}/api/event/add-event`, newEvent, {withCredentials: true})\r\n            setEvents([...events, response.data])\r\n            setShowAddEvent(false)\r\n            // setSuccessMessage('Awesome! New post has been added.')\r\n            // setSnackbar('success');\r\n            // setShowFlashMessage(Math.random()*100)\r\n        }\r\n        catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    // When the group name is updated the UserModel.groupNames is not updated\r\n    // It's probably best to get rid off this value\r\n    // It's probably best to use the embedding technique only when values will never change\r\n    // The option is to make the query in the navbar for the names of the user or update all the UserModel.groupNames in the function below\r\n    // The first option is less writes to the database\r\n    const handleEditGroup = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (!event.target.name.value || !event.target.description.value) {\r\n            setSuccessMessage('What is the name of your group? And could you share some info about it?')\r\n            setSnackbar('error');\r\n            setShowFlashMessage(Math.random()*100)\r\n            return 0 \r\n        }\r\n\r\n        try {\r\n            const { name, description, tags, category } = event.target;\r\n            let newGroup = {\r\n                ...group,\r\n                name: name.value,\r\n                description: description.value,\r\n                tags: tags.value,\r\n                category: category.value\r\n            }\r\n            let response = await axios.patch(`${API_URL}/api/edit-group`, newGroup, {withCredentials: true})\r\n            setGroup(response.data)\r\n            setShowEditGroup(false)\r\n            setSuccessMessage(`The Owner of ${response.data.name} has spoken.`)\r\n            setSnackbar('success');\r\n            setShowFlashMessage(Math.random()*100)\r\n        }\r\n        catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const handleJoinGroup = async () => {\r\n        try {\r\n            let joinInfo = {\r\n                groupId: group._id,\r\n                userId: user._id\r\n            }\r\n            let response =  await axios.post(`${API_URL}/api/join-group`, joinInfo, {withCredentials: true})\r\n            setGroup(response.data)\r\n            user.groupNames.push(group.name)\r\n            user.groups.push(group._id)\r\n            onUpdateUser(user)\r\n            await setSuccessMessage(`Welome to ${group.name}!`)\r\n            await setSnackbar('success');\r\n            await setShowFlashMessage(Math.random()*100)\r\n        }\r\n        catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const handleLeaveGroup = async () => {\r\n        try {\r\n            let leaveInfo = {\r\n                groupId: group._id,\r\n                userId: user._id\r\n            }\r\n            let response =  await axios.post(`${API_URL}/api/leave-group`, leaveInfo, {withCredentials: true})\r\n            setGroup(response.data)\r\n            user.groupNames = user.groupNames.filter(oldGroupName => oldGroupName !== group.name) \r\n            user.groups = user.groups.map(group => group._id)\r\n            user.groups = user.groups.filter(oldGroupId => oldGroupId !== group._id) \r\n            onUpdateUser(user)\r\n            setSuccessMessage(`The members of ${group.name} will miss you, come back whenever you want!`)\r\n            setSnackbar('success');\r\n            setShowFlashMessage(Math.random()*100)\r\n        }\r\n        catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const handleNavBarChange = () => {\r\n        setNavBarChanged(!navBarChanged)\r\n    }\r\n\r\n    if (!group) {\r\n            return  <Animation width={300} height={300} animation={loading} />\r\n            \r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavBar onNavBarChange={handleNavBarChange} showDrawer>\r\n                <div style={{position: \"relative\"}}>\r\n                    <div className=\"group-header-text\">\r\n                        <Typography variant=\"h2\">{group.name}</Typography>\r\n                        <Typography variant=\"subtitle1\">{group.description}</Typography>\r\n                    </div>\r\n                    <img src={group.image_url} className=\"group-header-image\"/>\r\n                </div>\r\n                <Container>\r\n                <ButtonGroup variant=\"contained\" color=\"secondary\" style={{marginTop: \"10px\"}}>\r\n                    {\r\n                        (!group.users.includes(user._id)) && (user._id !== group.admin) &&\r\n                        <Button startIcon={<AccessibilityNewIcon />} onClick={handleJoinGroup}>Join</Button>\r\n                    }\r\n                    {\r\n                        ((group.users.includes(user._id)) || user._id === group.admin) &&\r\n                        <Button startIcon={<AddIcon />} onClick={() => {setShowAddPost(true)}}>Create Post</Button>\r\n                    }\r\n                    {\r\n                        ((group.users.includes(user._id)) || user._id === group.admin) &&\r\n                        <Button startIcon={<EventAvailableRoundedIcon />} onClick={() => {setShowAddEvent(true)}}>Create Event</Button>\r\n                    }\r\n                    {   \r\n                        (user._id === group.admin) &&\r\n                        <Button startIcon={<SettingsIcon /> } onClick={() => {setShowEditGroup(true)}}>Manage Group</Button>\r\n                    }\r\n                    {\r\n                        (group.users.includes(user._id) && user._id !== group.admin) &&\r\n                        <Button startIcon={<ExitToAppIcon />} onClick={handleLeaveGroup}>Leave</Button>\r\n                    }\r\n                </ButtonGroup>\r\n                <div className=\"group-page-container\">\r\n                    {   \r\n                        (!showAddPost || !showAddEvent) && \r\n                        <Grid\r\n                        container\r\n                        // spacing={4}\r\n                        style={{width: \"60%\", marginTop: \"20px\", marginRight: \"30px\"}}\r\n                        >\r\n                                {\r\n                                    posts.map((post, index) => {\r\n                                        return (\r\n                                            <Grid item xs={12} sm={12} key={post._id} style={{ display: \"flex\", marginBottom: \"20px\"}} >\r\n                                                    <div className={'fly-left'}>\r\n                                                        <PostCard postData={post} index={index} user={user} />\r\n                                                    </div>  \r\n                                                </Grid>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                        </Grid>\r\n                    }\r\n                    {   \r\n                        (!showAddPost || !showAddEvent) && \r\n                        <Grid\r\n                        container\r\n                        // spacing={4}\r\n                        style={{paddingTop: \"20px\", width: \"40%\", display: \"flex\", justifyContent: \"flex-end\", height: \"500px\"}}\r\n                        >\r\n                                {\r\n                                    events.map((event, index) => {\r\n                                        return (\r\n                                            <Grid item xs={12} sm={12} key={event._id} style={{ height: \"auto\", marginBottom: \"20px\"}} >\r\n                                                    <div className={'fly-right'}>\r\n                                                        <EventCard eventData={event} index={index} user={user} />\r\n                                                    </div>  \r\n                                                </Grid>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                        </Grid>\r\n                    }\r\n                    </div>\r\n                </Container>\r\n            </NavBar>\r\n            {showAddPost && (\r\n                <div className=\"popupOpacity\">\r\n                    <AddPost onCloseAddPost={handleCloseAddPost} onAddPost={handleAddPost}/>\r\n                </div>\r\n            )}\r\n            {showEditGroup && (\r\n                <div className=\"popupOpacity\">\r\n                    <EditGroup onCloseEditGroup={handleCloseEditGroup} onEditGroup={handleEditGroup} group={group}/>\r\n                </div>\r\n            )}\r\n            {showAddEvent && (\r\n                <div className=\"popupOpacity\">\r\n                    <AddEvent onCloseAddEvent={handleCloseAddEvent} onAddEvent={handleAddEvent}/>\r\n                </div>\r\n            )}\r\n            <FlashMessage trigger={showFlashMessage} messageType={snackbar}>{successMessage}</FlashMessage>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GroupPage","import React, {useContext, useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Typography, CardActions, Card, Grid, CardMedia, CardContent, Container } from '@material-ui/core';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport avatarImg from \"../assets/images/avatar.png\";\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nfunction ProfileInfo(props) {\r\n\r\n    const {isLoggedInUser, onEditProfilePopUp, profile, requested, friends, onFriend, onUnfriend} = props;\r\n    \r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        root: {\r\n          maxWidth: 700,\r\n        },\r\n        media: {\r\n          height: 0,\r\n          paddingTop: '33%', // 16:9\r\n        },\r\n        large: {\r\n            width: theme.spacing(25),\r\n            height: theme.spacing(25),\r\n          },\r\n      }));\r\n  \r\n    const classes = useStyles();\r\n\r\n\r\n    return (\r\n        \r\n      <Card className={classes.root} id=\"user-card\" >\r\n        <Avatar className={classes.large} id=\"user-avatar\" alt=\"User avatar\" src={profile.image_url} />\r\n\r\n        <CardContent>\r\n            <Typography id=\"user-username\" variant=\"subtitle1\">{profile.username}</Typography>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {profile.description}\r\n            </Typography>\r\n        </CardContent>\r\n        <CardActions style={{display: \"flex\", justifyContent: \"space-between\"}}>\r\n            {isLoggedInUser && <Button onClick = {onEditProfilePopUp}>Edit your profile</Button>}\r\n            {!isLoggedInUser && !friends && !requested && <Button onClick={onFriend}>Add friend</Button>}\r\n            {!isLoggedInUser && !friends && requested && <Button><DoneIcon /> Requested</Button>}\r\n            {!isLoggedInUser && friends && !requested && <Button onClick={onUnfriend}> Unfriend </Button>}\r\n        </CardActions>\r\n\r\n      </Card>\r\n\r\n    )\r\n}\r\n\r\nexport default ProfileInfo\r\n","import React, {useContext, useState} from 'react';\r\nimport { Container } from '@material-ui/core'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport UserContext from '../contexts/UserContext';\r\n\r\n\r\nfunction UpdateProfile(props) {\r\n    const {user} = useContext(UserContext);\r\n\r\n\r\n    return (\r\n        <div style={{\r\n        background: 'white',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        border: '1px solid black',\r\n        borderRadius: '5px'\r\n        }}>     \r\n        <ContainermaxWidth=\"xs\"> \r\n        <Typography variant='h4' style={{marginTop: '10%'}}>Update my profile <IconButton onClick={props.onEditProfilePopUp} > <CloseIcon/>\r\n            </IconButton> </Typography>      \r\n            <form encType=\"multipart/form-data\" style={{display: 'flex', flexDirection: 'column'}} onSubmit={props.onEditProfile} noValidate>\r\n<TextFieldvariant=\"filled\"label=\"Username\" type=\"text\" name=\"username\" defaultValue={user.username}></TextField>\r\n<TextFieldplaceholder=\"Email\"variant=\"filled\"label=\"Email\" defaultValue={user.email} type=\"text\" name=\"email\"></TextField>\r\n<TextField\r\nlabel=\"Description\"\r\n// placeholder={user.description}\r\n                    name=\"description\"\r\nmultiline\r\nrows={4}\r\nmaxRows={10}\r\nvariant=\"filled\"\r\n                    style={{marginBottom: '10%'}}\r\n                    defaultValue={user.description}\r\n>\r\n</TextField>\r\n                <input className=\"cloudinary-btn\"  type=\"file\" name=\"imageUrl\" accept=\"image/png, image/jpg\"/>                  \r\n<Buttonstyle={{marginBottom: '10%'}} type=\"submit\" variant=\"contained\"color=\"primary\">Update my profile</Button>\r\n            </form>            \r\n        </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UpdateProfile\r\n","import React, {useContext, useEffect, useState} from 'react';\r\nimport UserContext from '../contexts/UserContext';\r\nimport Navbar from '../components/Navbar';\r\nimport {Container, Grid } from '@material-ui/core';\r\nimport ProfileInfo from '../components/ProfileInfo';\r\nimport UpdateProfile from '../components/UpdateProfile';\r\nimport axios from 'axios';\r\nimport API_URL from \"../config\";\r\nimport PostCard from '../components/PostCard';\r\n\r\nfunction UserPage({match, onError, onSuccess}) {\r\n    const {user, onUpdateUser} = useContext(UserContext);\r\n    const [editProfile, setEditProfile] = useState(false);\r\n    const [profile, setProfile] = useState(null)\r\n    const [requested, setRequested] = useState(false)\r\n    const [friends, setFriends] = useState(false)\r\n\r\n    const urlId = match.params.userId;\r\n    const isLoggedInUser = (user._id === urlId);\r\n\r\n    useEffect(() => {\r\n        let getUser = async() => {\r\n           try {\r\n            let response = await axios.get(`${API_URL}/api/profile/${urlId}`, {withCredentials: true})\r\n            setProfile(response.data)\r\n        }\r\n        catch(error) {\r\n            console.log(error)\r\n        } \r\n        }\r\n        getUser() \r\n\r\n\r\n    }, [urlId, user]);\r\n   \r\n    useEffect(() => {\r\n       if(profile && profile.friends.includes(user._id)){\r\n            setFriends(true)\r\n        } else if (profile && profile.friendRequests.includes(user._id)){\r\n            setRequested(true)\r\n        }  \r\n    }, [user._id, profile])\r\n\r\n\r\n    const handleSendRequest = async () => {\r\n        let userData = {userId: profile._id}\r\n        try {\r\n            let response = await axios.post(`${API_URL}/api/friend/request`, userData,{withCredentials: true})\r\n            onSuccess(response.data.successMessage) \r\n            setRequested(true)  \r\n        }\r\n        catch(error) {\r\n            onError(error.response.data.errorMessage)\r\n        }\r\n    }\r\n\r\n    const handleUnfriendRequest = async () => {\r\n        let userData = {userId: profile._id}\r\n        try {\r\n            let response = await axios.post(`${API_URL}/api/friend/unfriend`, userData, {withCredentials: true})\r\n            console.log(response.data)\r\n            onSuccess(response.data.successMessage) \r\n            onUpdateUser(response.data.user)\r\n            setFriends(false)  \r\n        }\r\n        catch(error) {\r\n            onError(error.response.data.errorMessage)\r\n        }\r\n    }\r\n\r\n    const handleEditProfile = async (event) => {\r\n        event.preventDefault();\r\n        const {username, description, email} = event.target;\r\n        let imgData = {}\r\n        \r\n    \r\n        try{\r\n\r\n            if (event.target.imageUrl.files[0]){\r\n                let formData = new FormData();\r\n                formData.append('imageUrl', event.target.imageUrl.files[0]);\r\n                let imgResponse = await axios.post(`${API_URL}/api/upload`, formData);\r\n                imgData = {\r\n                    image_url: imgResponse.data.image_url\r\n                }\r\n            }\r\n        \r\n            \r\n            let newUserData = {\r\n                username: username.value,\r\n                description: description.value, \r\n                email: email.value,\r\n                ...imgData\r\n            }\r\n\r\n            await onUpdateUser({\r\n                ...user, \r\n                ...newUserData\r\n            })\r\n\r\n\r\n            handleEditProfilePopUp()\r\n\r\n            // let response = await axios.get\r\n        }\r\n        catch(error) {\r\n            console.log(error)\r\n        }\r\n        // onUpdateUser({...user, username:\"Cool\"});\r\n    }\r\n\r\n    const handleEditProfilePopUp = (() => {\r\n        setEditProfile(!editProfile);\r\n    })\r\n\r\n\r\n    return ( \r\n        <div>\r\n\r\n        \r\n        <Navbar user={user} onUpdateUser={onUpdateUser}>\r\n            <Container>    \r\n\r\n                <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justifyContent=\"center\"\r\n                        alignItems=\"center\"\r\n                        alignContent=\"center\"\r\n                        spacing={4}\r\n                    >\r\n\r\n                    <Grid item xs={12} sm={7}>\r\n                        <div>\r\n                            {profile && <ProfileInfo profile={profile} \r\n                            onEditProfilePopUp = {handleEditProfilePopUp} \r\n                            isLoggedInUser={isLoggedInUser} \r\n                            requested={requested} \r\n                            friends={friends} \r\n                            onUnfriend={handleUnfriendRequest} \r\n                            onFriend={handleSendRequest}/>}\r\n                        </div>\r\n                    </Grid> \r\n\r\n                {\r\n                    profile && profile.posts.map((post, index)=> {\r\n                        return (\r\n                            <Grid item xs={12} sm={6} key={index} style={{ display: \"flex\", justifyContent: \"center\"}} >\r\n                                <div className={index % 2 === 0 ? 'fly-left' : 'fly-right'}>\r\n                                    <PostCard user={profile} postData={post} index={index} />\r\n                                </div>  \r\n                            </Grid>\r\n                        )})\r\n                }\r\n\r\n                    \r\n                </Grid>\r\n            </Container>\r\n        </Navbar> {\r\n            editProfile && (\r\n                <div className=\"popupOpacity\">  \r\n                    <UpdateProfile  onEditProfile = {handleEditProfile} onEditProfilePopUp = {handleEditProfilePopUp}/>\r\n                </div>\r\n                )\r\n        }\r\n        \r\n    </div>\r\n    )   \r\n}\r\n\r\nexport default UserPage\r\n","export default __webpack_public_path__ + \"static/media/profile.8973ad91.png\";","import React, {useContext, useEffect,  useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Logo from '../assets/images/profile.png'\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport {Link, useHistory,} from 'react-router-dom';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport UserContext from '../contexts/UserContext';\r\nimport axios from 'axios';\r\nimport API_URL from '../config';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: 400, \r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\n\r\nfunction UserCard({username, description, image_url, id, categories}) {\r\n  let history = useHistory(); \r\n\r\n\r\n  const classes = useStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n  const interests = categories.map(elem => elem[0].toUpperCase() + elem.slice(1,elem.length)).join(', ')\r\n  const {user, onUpdateUser} = useContext(UserContext);\r\n\r\n\r\n  let handleChat = (async () => {\r\n    try{\r\n      let obj = {participants: [id, user._id]}\r\n      let response = await axios.post(`${API_URL}/api/conversation`, obj, {withCredentials: true})\r\n      console.log(response.data)\r\n      history.push(`/chat/${response.data._id}`)\r\n    }\r\n    \r\n    catch(error) {\r\n      console.log(error)\r\n  }\r\n  })\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n    <Link to={`/profile/${id}`} style={{textDecoration: 'none'}}>\r\n      <CardContent>\r\n        <Avatar alt=\"Remy Sharp\" src={Logo} style={{width: '100px', height: '100px'}}/>\r\n        <Typography variant=\"h5\" component=\"h2\" color='textPrimary'>\r\n          {username}\r\n        </Typography>       \r\n         <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n          {description}\r\n        </Typography>\r\n        <Typography variant=\"body2\" component=\"p\" color='textSecondary'>\r\n          Interests: {interests}\r\n        </Typography>\r\n      </CardContent>\r\n      </Link>\r\n      <Button onClick = {handleChat} variant=\"contained\" color=\"secondary\" type=\"submit\" > <ChatIcon /> </Button>\r\n\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default UserCard ","import Navbar from '../components/Navbar';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Container, Typography, Grid, Button, TextField } from '@material-ui/core';\r\nimport API_URL from \"../config\"\r\nimport axios from 'axios';\r\nimport Pagination from '../components/Pagination';\r\nimport UserCard from '../components/UserCard';\r\nimport Animation from '../components/Animation'\r\nimport loading from '../json/loading.json';\r\n\r\n\r\n\r\nfunction PeoplePage({user, onUpdateUser}) {\r\n\r\n    const [users, setUsers] = useState([])\r\n    const [filteredUsers, setFilteredUsers] = useState(users)\r\n\r\n    useEffect(() => {\r\n        let getUsers = async () => {\r\n            let response = await axios.post(`${API_URL}/api/people`, {withCredentials: true})\r\n            setUsers(response.data)\r\n            setFilteredUsers(response.data)\r\n        }\r\n        getUsers()\r\n    }, [])\r\n\r\n    if(!users){\r\n        return  <Animation width={300} height={300} animation={loading} />\r\n    }\r\n\r\n    const handleSearchPeople = (event) => {\r\n        let filter = users.filter(user =>  user.username.toLowerCase().includes(event.target.value.toLowerCase()) )\r\n        setFilteredUsers(filter)\r\n    }\r\n\r\n    return (\r\n        <div>  \r\n            <Navbar user={user} onUpdateUser={onUpdateUser} >               \r\n                <Container style={{ marginTop: \"60px\"}} >\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-start\"}} className=\"fly-top\">\r\n                        <Typography variant=\"h3\" gutterBottom align=\"center\" color=\"primary\" style={{marginBottom: \"30px\"}}>\r\n                            Find new people\r\n                        </Typography>\r\n                        <TextField\r\n                            style={{width: \"200px\", marginBottom: \"30px\"}}\r\n                            variant=\"outlined\"\r\n                            onChange={handleSearchPeople} \r\n                            label=\"Search\" \r\n                            size=\"medium\"\r\n                        />  \r\n                    </div>\r\n                    <Grid   container\r\n                    direction=\"row\"\r\n                    justifyContent=\"center\"\r\n                    alignItems=\"center\"\r\n                    alignContent=\"center\"\r\n                    spacing={4}\r\n                    >\r\n                    {\r\n                       filteredUsers.map((user, i) => {\r\n                           let username = user.username[0].toUpperCase() + user.username.slice(1, user.username.length)\r\n                           return(\r\n                            <Grid item xs={12} sm={6} key={i}>\r\n                            <div className={i % 2 === 0 ? 'fly-left' : 'fly-right'}>\r\n                                    <UserCard key={i} categories={user.categories} id={user._id} username={username} description={user.description}/>\r\n                                </div>\r\n                            </Grid>                            \r\n                           )\r\n                       }) \r\n                    }\r\n                    </Grid>\r\n                    {/* <Pagination data={groups} RenderComponent={GroupCard} dataLimit={10}/> */}\r\n                </Container> \r\n            </Navbar> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PeoplePage\r\n","import React, {useState, useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport image from '../assets/images/profile.png'\r\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n}));\r\n\r\nfunction NotificationBoard({onSendResponse ,loggedusername,username,image_url, description, id, responded}) {\r\n  const classes = useStyles();\r\n\r\n  const [requestComplete, setRequestCompleted] = useState(false)\r\n\r\n  const handleRequestToggle = (response) => {\r\n      setRequestCompleted(!requestComplete)\r\n      onSendResponse(response, id)\r\n  }  \r\n  \r\n  useEffect(() => {\r\n    if(responded.includes(id)){\r\n    setRequestCompleted(true)\r\n    }\r\n  }, [id, responded])\r\n  \r\n\r\n  return (\r\n      <>\r\n      <ListItem alignItems=\"flex-start\">\r\n        <ListItemAvatar>\r\n          <Avatar alt={username} src={image} />\r\n        </ListItemAvatar>\r\n        <ListItemText\r\n          primary={`${username} sent a friend request`}\r\n          secondary={\r\n            <React.Fragment>\r\n              <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={classes.inline}\r\n                color=\"textPrimary\"\r\n              >\r\n                to {loggedusername}\r\n              </Typography>\r\n              {` - ${description.slice(0,45)}...`}\r\n            </React.Fragment>\r\n          }\r\n        />  \r\n      {\r\n     !requestComplete? (<div>\r\n      <IconButton onClick={() => {handleRequestToggle(true)}}>\r\n          <PersonAddIcon style={{color: 'green'}}/>\r\n        </IconButton>\r\n      <IconButton onClick={() => {handleRequestToggle(false)}}>\r\n          <PersonAddDisabledIcon style={{color: 'red'}}/>\r\n        </IconButton>\r\n       </div>) : <Typography><DoneIcon /> Done</Typography>  \r\n    }\r\n    </ListItem> \r\n    <Divider variant='inset' component='li'/> \r\n    </>\r\n  );\r\n}\r\nexport default NotificationBoard","import Navbar from '../components/Navbar';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Container, Typography, Grid, Tooltip } from '@material-ui/core';\r\nimport API_URL from \"../config\"\r\nimport axios from 'axios';\r\nimport Pagination from '../components/Pagination';\r\nimport UserCard from '../components/UserCard';\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport NotificationsPausedIcon from '@material-ui/icons/NotificationsPaused';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport NotificationBoard from '../components/NotificationBoard';\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport Animation from '../components/Animation';\r\nimport loading from '../json/loading.json';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n      maxWidth: '800px',\r\n      height: '525px',\r\n      backgroundColor: theme.palette.background.paper,\r\n      overflowY: 'scroll'\r\n    }\r\n  }));\r\n\r\nfunction FriendsPage({user, onUpdateUser, onSuccess, onError, history}) {\r\n    const classes = useStyles();\r\n    console.log(history)\r\n\r\n    const [users, setUsers] = useState(null)\r\n    const [requests, setRequests] = useState(null)\r\n    const [notificationPopUp, setNotificationsPopup] = useState(false)\r\n    const [updatedUser, setUpdatedUser] = useState(null)\r\n    const [responded, setResponded] = useState([])\r\n\r\n    useEffect(() => {\r\n        let getUsers = async () => {\r\n            let response = await axios.post(`${API_URL}/api/getFriends`,{},{withCredentials: true})\r\n            setUsers(response.data.friends)\r\n            setRequests(response.data.friendRequests)\r\n            setUpdatedUser(response.data)\r\n        }\r\n        getUsers()\r\n    }, [user])\r\n\r\n    const handleNotificationToggle = () => {\r\n       setNotificationsPopup(!notificationPopUp)\r\n    }\r\n\r\n    const handleResponse = async (response, userId) => {\r\n        let request = {response, userId}\r\n        try{\r\n         let res = await axios.post(`${API_URL}/api/friend/response`, request, {withCredentials: true})\r\n         setUpdatedUser(res.data.userData)\r\n         onSuccess(res.data.successMessage) \r\n         setResponded([...responded, userId])  \r\n        } catch(error){\r\n           onError(error.response.data.errorMessage)\r\n        }\r\n    }\r\n\r\n    const handleRefresh = async () => {\r\n        await onUpdateUser(updatedUser)\r\n    }\r\n\r\n    if(!users){\r\n        return <Animation width={300} height={300} animation={loading} />\r\n    }\r\n\r\n    return (\r\n        <div>  \r\n            <Navbar user={user} onUpdateUser={onUpdateUser} > \r\n            <Tooltip title=\"Friend Requests\">\r\n            <IconButton onClick={handleNotificationToggle}>\r\n                <div style={{borderRadius: '50%', width: '100px', height: '100px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', backgroundColor: '#55ABB1'}}>\r\n                <Badge color=\"secondary\" badgeContent={requests ? requests.length : 0}>\r\n                {\r\n                  requests ? <NotificationsActiveIcon style={{color: 'white', width: '40px', height: '40px'}}/> : <NotificationsPausedIcon style={{color: 'white', width: '40px', height: '40px'}}/>\r\n                }\r\n                </Badge>\r\n                </div>\r\n                </IconButton>\r\n                </Tooltip>             \r\n                <Container style={{ marginTop: \"-20px\"}} >\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-start\"}} className=\"fly-top\">\r\n                        <Typography variant=\"h3\" gutterBottom align=\"center\" color=\"primary\" style={{marginBottom: \"50px\"}}>\r\n                            Friends\r\n                            <IconButton onClick={handleRefresh}>\r\n                                <div style={{color: 'white', width: '40px', height: '40px', backgroundColor: '#55ABB1',display: 'flex', alignItems: 'center',justifyContent: 'center', borderRadius: '50%' }}>\r\n                                <RefreshIcon />\r\n                                </div>\r\n                            </IconButton> \r\n                        </Typography>\r\n                    </div>\r\n                    <Grid   container\r\n                    direction=\"row\"\r\n                    justifyContent=\"center\"\r\n                    alignItems=\"center\"\r\n                    alignContent=\"center\"\r\n                    spacing={4}\r\n                    >\r\n                    {\r\n                       users.map((user, i) => {\r\n                           let username = user.username[0].toUpperCase() + user.username.slice(1, user.username.length)\r\n                           return(\r\n                            <Grid item xs={12} sm={6} key={i}>\r\n                            <div className={i % 2 === 0 ? 'fly-left' : 'fly-right'}>\r\n                                    <UserCard history={history} key={i} categories={user.categories} id={user._id} username={username} description={user.description}/>\r\n                                </div>\r\n                            </Grid>                            \r\n                           )\r\n                       }) \r\n                    }\r\n                    </Grid>\r\n                    {/* <Pagination data={groups} RenderComponent={GroupCard} dataLimit={10}/> */}\r\n                </Container> \r\n            </Navbar> \r\n            {\r\n            notificationPopUp && (\r\n                    <div className=\"popupOpacity\"> \r\n                    \r\n                    <ContainermaxWidth=\"md\">\r\n                    <div style={{width: '900px', display: 'flex',justifyContent: 'flex-end'}}>  \r\n                    <IconButton onClick={handleNotificationToggle} style={{marginLeft: '50px'}} >\r\n                       <CloseIcon />\r\n                    </IconButton>\r\n                    </div>\r\n                    <div style={{backgroundColor: 'white', width: '900px', height: '700px', display: 'flex', flexDirection: 'column', justifyContent: 'flex-start', alignItems: 'center', borderRadius: '10%'}}> \r\n                    <Typography variant='h2' color='primary' style={{marginTop: '20px'}}>\r\n                        Friend Requests \r\n                    </Typography>\r\n                    <Divider  component='li' style={{width: '500px'}}/>\r\n                    <List className={classes.root}>\r\n                    {\r\n                        requests.map((person, i) => {\r\n                            return <NotificationBoard\r\n                            key={i} \r\n                            onSendResponse={handleResponse} \r\n                            loggedusername={user.username} \r\n                            username={person.username} \r\n                            image_url={person.image_url} \r\n                            description={person.description} \r\n                            id={person._id}\r\n                            responded={responded}/>\r\n                        })\r\n                    } \r\n                     </List>\r\n                     </div>  \r\n                     </Container>  \r\n                    </div>\r\n                    )\r\n                }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FriendsPage","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport API_URL from '../config';\r\nimport io from \"socket.io-client\";\r\nimport {Container, Grid } from '@material-ui/core';\r\nimport Navbar from '../components/Navbar';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport Box from '@material-ui/core/Box';\r\nimport moment from 'moment';\r\nimport Animation from '../components/Animation'\r\nimport loading from '../json/loading.json';\r\n\r\n\r\nlet socket = ''\r\n\r\nclass ChatPage extends Component {\r\n    \r\n    // Assing a ref to the messages div\r\n    messagesEnd = React.createRef()\r\n    state = {\r\n        loading: true, \r\n        messageList: [],\r\n        currentMessage: '',\r\n    }\r\n\r\n    scrollToBottom = () => {\r\n        this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n\r\n    componentDidMount(){\r\n        //setup your socket connection with the server\r\n        socket = io(`${API_URL}`);\r\n\r\n        let conversationId = this.props.match.params.chatId\r\n        console.log(conversationId)\r\n\r\n        axios.get(`${API_URL}/api/messages/${conversationId}`)\r\n            .then((response) => {\r\n                // console.log(response.data)\r\n                this.setState({\r\n                    loading: false, \r\n                    messageList: response.data\r\n                }, () => {\r\n                    this.scrollToBottom();\r\n                })\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"Line 41\", err)\r\n            })\r\n        // ensure that the user is connected to a specific chat via webSocket    \r\n        console.log(\"Emit socket\")\r\n        socket.emit(\"join_chat\", conversationId);\r\n\r\n        //Handle incoming messages from webSocket\r\n        socket.on(\"receive_message\", (data) => {\r\n            console.log('Got data', data)\r\n            this.setState({\r\n                messageList: [...this.state.messageList, data]\r\n            }, () => {\r\n                this.scrollToBottom();\r\n            })\r\n        });    \r\n    }\r\n\r\n    handleMessageInput = (e) => {\r\n        this.setState({\r\n            currentMessage: e.target.value\r\n        })\r\n    }\r\n\r\n    onSendMessage = (event) => {\r\n        event.preventDefault()\r\n        console.log(event)\r\n    }\r\n\r\n    sendMessage = async () => {\r\n        // Create the object structure\r\n        if (this.state.currentMessage.length === 0){\r\n            return;\r\n        }\r\n        \r\n        let messageContent = {\r\n            chatId: this.props.match.params.chatId,\r\n            content: {\r\n                sender: this.props.user,\r\n                message: this.state.currentMessage,\r\n                \r\n            },\r\n            };\r\n        await socket.emit(\"send_message\", messageContent);\r\n        this.setState({\r\n            messageList: [...this.state.messageList, messageContent.content],\r\n            currentMessage: ''\r\n        }, () => {\r\n            this.scrollToBottom();\r\n        })\r\n        // console.log(this.messageList)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { loading , messageList} = this.state\r\n        const { user } = this.props\r\n\r\n        // messageList.forEach(element => {\r\n        //     console.log(element);\r\n        //     console.log(moment(element.createdAt));\r\n        // });\r\n\r\n        if (loading) {\r\n            return  <Animation width={300} height={300} animation={loading} />\r\n\r\n        }\r\n\r\n        return (\r\n\r\n            \r\n\r\n            <div className=\"ChatPageWrapper\">\r\n                 <Navbar user={user}>\r\n            \r\n                <Container className='room'>\r\n                    <Container  className='heading '>\r\n                         {messageList.length == 0 ? <Typography className='heading-text' variant='h5'> Send your first message  \r\n                         </Typography> : <Typography className='heading-text' variant='h5'> Chat \r\n                         </Typography>}\r\n                    </Container>\r\n                \r\n                    <Container className=\"chatContainer\">\r\n                        <Box className=\"messages\">\r\n                            {\r\n                                messageList.map((val,i) => {\r\n                                    return (\r\n                                        <Box key={i} className={`messageContainer ${val.sender.username == user.username ?\"you\" : \"other\"}`} \r\n                                        >\r\n                                                <span className=\"sender\"> {val.sender.username}</span>\r\n                                                <div className=\"msg\">\r\n                                                    <span>{val.message}</span>\r\n\r\n                                                <p className={\"msg-time\"}>{ moment(val.message.createdAt).format('HH:mm')}</p>\r\n                                                </div>\r\n                                                \r\n\r\n                                        </Box>\r\n                                    );\r\n                                })\r\n                            }\r\n                            <div style={{ float:\"left\", clear: \"both\" }}\r\n                                ref={(el) => { this.messagesEnd = el; }}>\r\n                            </div>\r\n                        </Box>\r\n                        <div className=\"messageInputs\">\r\n                            <form onSubmit = {this.onSendMessage} noValidate>\r\n                                <input value={this.state.currentMessage} type=\"text\" placeholder=\"Message...\"\r\n                                    onChange={this.handleMessageInput}\r\n                                />\r\n                                <Button type=\"submit\" onClick={this.sendMessage}><SendIcon/></Button>\r\n                            </form>\r\n                        </div>\r\n                    </Container>\r\n                \r\n                </Container>\r\n                </Navbar> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ChatPage","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport NavBar from '../components/Navbar'\r\nimport EventCard from '../components/EventCard';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid'; \r\nimport interactionPlugin from '@fullcalendar/interaction'\r\nimport timeGridPlugin from '@fullcalendar/timegrid'\r\nimport API_URL from '../config';\r\nimport axios from 'axios';\r\nimport userContext from '../contexts/UserContext';\r\nimport { Button, ButtonGroup, Container, IconButton, Typography } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport EventAvailableIcon from '@material-ui/icons/EventAvailable';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nfunction EventPage() {\r\n\r\n    const [events, setEvents] = useState(null)\r\n    const [calendarEvents, setCalendarEvents] = useState(null)\r\n    const [filteredCalendarEvents, setFilteredCalendarEvents] = useState(null)\r\n    const [showEvent, setShowEvent] = useState(false)\r\n    const [selectedEvent, setSelectedEvent] = useState(null)\r\n    const {user} = useContext(userContext)\r\n    const theme = useTheme();\r\n\r\n    // Re do the format function after the event is set\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let response = await axios.get(`${API_URL}/api/events/all`, {withCredentials: true})\r\n                setCalendarEvents(formatEvents(response.data))\r\n                setFilteredCalendarEvents(formatEvents(response.data))\r\n                setEvents(response.data)\r\n            }\r\n            catch(error) {\r\n                console.log(error)\r\n            }\r\n        })()\r\n    }, [])\r\n\r\n    const calendarRef = useRef();\r\n\r\n    if (!user) {\r\n        return <Redirect to={{\r\n            pathname: \"/\",\r\n            state: { renderLogin: true }\r\n        }} />\r\n    }\r\n\r\n    const formatEvents = (eventData) => {\r\n        let formattedEventData = eventData.map(event => {\r\n            const { name, start, end, _id, groupOrigin: { name: groupName, _id: eventGroupOriginId  }, users} = event\r\n            \r\n            let eventUserIds = users.map(user => user._id)\r\n            let userGroupIds = user.groups.map(group => group._id)\r\n            let color = '' \r\n\r\n            if (eventUserIds.includes(user._id)) {\r\n                // Events the user participates in\r\n                color = `${theme.palette.primary.main}`;\r\n            }\r\n            else if (userGroupIds.includes(eventGroupOriginId)) {\r\n                // Events from user's groups that user doesn't participate in\r\n                color = `${theme.palette.secondary.main}`;\r\n            }\r\n            else {\r\n                // All other events\r\n                color = `${theme.palette.info.main}`;\r\n            }\r\n\r\n            return {\r\n                title: `${name} (${groupName} group)`,\r\n                start,\r\n                end, \r\n                id: _id,\r\n                color\r\n            }\r\n        })\r\n        return formattedEventData\r\n    }\r\n \r\n    const handleEventClick = (event) => {\r\n        // This is how you access the the title via eventClickd\r\n        // event.event._def.publicId\r\n        let selectedEventId = event.event._def.publicId\r\n\r\n        let newEvent = events.filter(event => event._id === selectedEventId)[0]\r\n\r\n        setSelectedEvent(newEvent)\r\n        setShowEvent(true)\r\n    }\r\n\r\n    const handleMyEvents = (type) => {\r\n        if (type === \"all\") {\r\n            setFilteredCalendarEvents(calendarEvents)\r\n        }\r\n        if (type === \"own\") {\r\n            let eventsFiltered = calendarEvents.filter(calendarEvent => {\r\n                let event = events.filter(event => event._id === calendarEvent.id)[0]\r\n                let eventUserIds = event.users.map(user => user._id)\r\n                return eventUserIds.includes(user._id) \r\n            })\r\n            setFilteredCalendarEvents(eventsFiltered)\r\n        }\r\n        if (type === \"group\") {\r\n            let eventsFiltered = calendarEvents.filter(calendarEvent => {\r\n                let event = events.filter(event => event._id === calendarEvent.id)[0]\r\n                let groupOriginId = event.groupOrigin._id;\r\n                let userGroupIds = user.groups.map(group => group._id)\r\n                return userGroupIds.includes(groupOriginId) \r\n            })\r\n            setFilteredCalendarEvents(eventsFiltered)\r\n        }\r\n    }\r\n\r\n    const handleCloseShowEvent = () => {\r\n        setShowEvent(false)\r\n    }\r\n\r\n    const handleEventStatusChanged = (changedEvent) => {\r\n        let newEvents = [...events.filter(event => event._id !== changedEvent._id), changedEvent];\r\n        setCalendarEvents(formatEvents(newEvents))\r\n        setFilteredCalendarEvents(formatEvents(newEvents))\r\n        setEvents(newEvents)\r\n    }\r\n\r\n    return (\r\n        <NavBar >\r\n            <Container style={{marginTop: \"20px\"}}>\r\n            {\r\n                showEvent &&\r\n                (\r\n                    <div className=\"popupOpacity\" style={{display: \"flex\", flexDirection: \"column\"}}>\r\n                        <div style={{display: \"flex\", width: \"345px\", justifyContent: \"flex-end\"}}>\r\n                            <IconButton onClick={handleCloseShowEvent}>\r\n                                <CloseIcon />\r\n                            </IconButton> \r\n                        </div>\r\n                        <EventCard eventData={selectedEvent} user={user} onEventStatusChanged={handleEventStatusChanged} />\r\n                    </div>\r\n                )\r\n            }\r\n            {\r\n                !showEvent &&\r\n                (\r\n                    <>\r\n                    <div style={{display: \"flex\", flexDirection:\"column\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                        <ButtonGroup variant=\"contained\" color=\"secondary\" style={{marginTop: \"10px\"}}>\r\n                            <Button startIcon={<PersonIcon/>}onClick={() => handleMyEvents('own')}>My Events</Button>\r\n                            <Button startIcon={<PeopleAltIcon/>}onClick={() => handleMyEvents('group')}>Events from my Groups</Button>\r\n                            <Button startIcon={<EventAvailableIcon/>} onClick={() => handleMyEvents('all')}>All Events</Button>\r\n                        </ButtonGroup>\r\n                        <div className=\"event-legend-container\">\r\n                            <div style={{display: \"flex\", alignItems: \"center\", marginRight: \"10px\"}}>\r\n                                <div style={{marginRight: \"5px\", backgroundColor: `${theme.palette.primary.main}`, width: \"20px\", height: \"20px\", borderRadius: \"100%\"}}></div>\r\n                                <Typography>Scheduled events</Typography>\r\n                            </div>\r\n                            <div style={{display: \"flex\", alignItems: \"center\", marginRight: \"10px\"}}>\r\n                                <div style={{marginRight: \"5px\", backgroundColor: `${theme.palette.secondary.main}`, width: \"20px\", height: \"20px\", borderRadius: \"100%\"}}></div>\r\n                                <Typography>My Group events</Typography>\r\n                            </div>\r\n                            <div style={{display: \"flex\", alignItems: \"center\", marginRight: \"10px\"}}>\r\n                                <div style={{marginRight: \"5px\", backgroundColor: `${theme.palette.info.main}`, width: \"20px\", height: \"20px\", borderRadius: \"100%\"}}></div>\r\n                                <Typography>Other events</Typography>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <FullCalendar\r\n                        plugins={[ dayGridPlugin, timeGridPlugin, interactionPlugin ]}\r\n                        // initialView=\"dayGridMonth\"\r\n                        initialView=\"timeGridWeek\"\r\n                        events={filteredCalendarEvents}\r\n                        showNonCurrentDates={false}\r\n                        ref={calendarRef}\r\n                        date\r\n                        headerToolbar={{\r\n                            left: '',\r\n                            center: '',\r\n                            right: 'ChangeViewMonth,ChangeViewWeek,prev,next,today'\r\n                        }}\r\n                        editable={true}    // Allows to be clickable\r\n                        selectable={true}  // Allows to use useRef\r\n                        //   selectMirror={true}\r\n                        eventClick={handleEventClick}\r\n                        customButtons={{\r\n                            ChangeViewMonth: {\r\n                                text: \"Month View\",\r\n                                click() {\r\n\r\n                                    const calendar = calendarRef.current;\r\n                                    if (calendar) {\r\n                                        const calendarApi = calendar.getApi();\r\n                                        calendarApi.changeView(\"dayGridMonth\")\r\n                                    }\r\n                                }\r\n                            },\r\n                            ChangeViewWeek: {\r\n                                text: \"Week View\",\r\n                                click() {\r\n                                    \r\n                                    const calendar = calendarRef.current;\r\n                                    if (calendar) {\r\n                                        const calendarApi = calendar.getApi();\r\n                                        calendarApi.changeView(\"timeGridWeek\")\r\n                                    }\r\n                                }\r\n                            },\r\n                        }}\r\n                    />\r\n                    </>\r\n                )\r\n            }\r\n            </Container>\r\n        </NavBar>\r\n    )\r\n}\r\n\r\nexport default EventPage\r\n","import React from 'react';\r\nimport Animation from '../components/Animation'\r\nimport notFoundAnimation from '../json/notFound.json';\r\nimport {Container, Grid } from '@material-ui/core';\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <div>\r\n        <Container>\r\n        <Animation width={500} height={500} animation={notFoundAnimation} />\r\n\r\n        </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React from 'react';\r\nimport { createTheme, responsiveFontSizes } from '@material-ui/core';\r\n\r\nlet defaultTheme = createTheme({\r\n    // You get the objects from the documentation\r\n    palette: {\r\n      // ~turquoise\r\n        primary: {\r\n            dark: '#006C7A',\r\n            main: '#55ABB1',\r\n            light: '#E0F7FA',\r\n        },\r\n        // brownish\r\n        secondary: {\r\n          dark: '#543327',\r\n          main: \"#6D4031\",\r\n          light: \"F2E7E3\"\r\n        },\r\n    }\r\n})\r\n\r\ndefaultTheme = responsiveFontSizes(defaultTheme)\r\n\r\nexport default defaultTheme;","import React from 'react';\r\nimport { createTheme, responsiveFontSizes } from '@material-ui/core';\r\n\r\nlet darkTheme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n  },\r\n});\r\n\r\ndarkTheme = responsiveFontSizes(darkTheme)\r\n\r\nexport default darkTheme;","import React, {useEffect, useRef, useState} from 'react'\r\nimport {Button, IconButton, TextField} from '@material-ui/core'\r\nimport PhoneIcon from '@material-ui/icons/Phone'\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport Peer from \"simple-peer\"\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport io from \"socket.io-client\"\r\nimport API_URL from '../config'\r\nimport './VideoChat.css'\r\n\r\nconst socket = io.connect(`${API_URL}`)\r\n\r\nfunction VideoChatPage() {\r\n    const [ me, setMe ] = useState(\"\")\r\n\tconst [ stream, setStream ] = useState()\r\n\tconst [ receivingCall, setReceivingCall ] = useState(false)\r\n\tconst [ caller, setCaller ] = useState(\"\")\r\n\tconst [ callerSignal, setCallerSignal ] = useState()\r\n\tconst [ callAccepted, setCallAccepted ] = useState(false)\r\n\tconst [ idToCall, setIdToCall ] = useState(\"\")\r\n\tconst [ callEnded, setCallEnded] = useState(false)\r\n\tconst [ name, setName ] = useState(\"\")\r\n\r\n    //useRef is going to be used as a reference to display the video of the host \r\n    // and the attendee respectfully and the connectionRef is to allow for disconnecting\r\n\tconst myVideo = useRef()\r\n\tconst userVideo = useRef()\r\n\tconst connectionRef= useRef()\r\n\r\n    useEffect(() => {\r\n        let notify = async () => {\r\n            try{\r\n            //Lets the browser prompt the user to allow audio and video access\r\n            let stream = await navigator.mediaDevices.getUserMedia({video: true, audio: true})\r\n            setStream(stream)\r\n            //sets hosts ref video to the stream being broadcast\r\n            myVideo.current.srcObject = stream\r\n            }\r\n            catch (error){\r\n\r\n            }\r\n        }\r\n        notify()\r\n\r\n\r\n       socket.on('me', (id) => {\r\n           setMe(id)\r\n       })\r\n       \r\n\r\n       socket.on('callUser', (data) => {\r\n           setReceivingCall(true)\r\n           setCaller(data.from)\r\n           setName(data.name)\r\n           setCallerSignal(data.signal)\r\n       })\r\n    }, [])\r\n    \r\n    //This allows the connection between to systems(peers)\r\n    const callUser = (id) => {\r\n        const peer = new Peer({\r\n\t\t\tinitiator: true,\r\n\t\t\ttrickle: false,\r\n\t\t\tstream: stream\r\n        })\r\n        \r\n        //This allows for users to be able to call another user to the call\r\n        peer.on(\"signal\", (data) => {\r\n\t\t\tsocket.emit(\"callUser\", {\r\n\t\t\t\tuserToCall: id,\r\n\t\t\t\tsignalData: data,\r\n\t\t\t\tfrom: me,\r\n\t\t\t\tname: name\r\n\t\t\t})\r\n\t\t})\r\n\r\n        //Sets the reference of the attendee's video to the streem after the peer connection\r\n        peer.on('stream' , (stream) => {\r\n            userVideo.current.srcObject = stream\r\n        })\r\n        \r\n        //once the call is accepted the signal connection is then handled here\r\n        socket.on('callAccepted', (signal) => {\r\n            setCallAccepted(true)\r\n            peer.signal(signal)\r\n        })\r\n        \r\n        //sets the connection reference to the peer the host has connected to\r\n        connectionRef.current = peer\r\n    } \r\n\r\n    // WARNING: LOTS OF REPEATED CODE for more on peers \r\n\r\n    //sets the user who answers as a new Peer to the call\r\n    const answerCall = () => {\r\n        setCallAccepted(true)\r\n        const peer = new Peer({\r\n           initiator: false,\r\n           trickle: false,\r\n           stream: stream\r\n        })\r\n\r\n        peer.on('signal', (data) => {\r\n            socket.emit('answerCall', {signal: data, to: caller})\r\n        })\r\n\r\n        peer.on(\"stream\", (stream) => {\r\n\t\t\tuserVideo.current.srcObject = stream\r\n\t\t})\r\n\r\n\t\tpeer.signal(callerSignal)\r\n\t\tconnectionRef.current = peer\r\n    }\r\n    \r\n    //This will end the call and destroy the connection reference \r\n    const leaveCall = () => {\r\n        setCallEnded(true)\r\n        connectionRef.current.destroy()\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n\t\t<h1 style={{ textAlign: \"center\", color: '#fff' }}>Kolab Face-lab</h1>\r\n\t\t<div className=\"container\">\r\n\t\t\t<div className=\"video-container\">\r\n\t\t\t\t<div className=\"video\">\r\n\t\t\t\t\t{stream &&  <video playsInline muted ref={myVideo} autoPlay style={{ width: \"500px\" }} />}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"video\">\r\n\t\t\t\t\t{callAccepted && !callEnded ?\r\n\t\t\t\t\t<video playsInline ref={userVideo} autoPlay style={{ width: \"500px\"}} />:\r\n\t\t\t\t\tnull}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"myId\">\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"filled-basic\"\r\n\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\tstyle={{ marginBottom: \"20px\" }}\r\n\t\t\t\t/>\r\n\t\t\t\t<CopyToClipboard text={me} style={{ marginBottom: \"2rem\" }}>\r\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" startIcon={<AssignmentIcon fontSize=\"large\" />}>\r\n\t\t\t\t\t\tCopy ID\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</CopyToClipboard>\r\n\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"filled-basic\"\r\n\t\t\t\t\tlabel=\"ID to call\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tvalue={idToCall}\r\n\t\t\t\t\tonChange={(e) => setIdToCall(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"call-button\">\r\n\t\t\t\t\t{callAccepted && !callEnded ? (\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={leaveCall}>\r\n\t\t\t\t\t\t\tEnd Call\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<IconButton color=\"primary\" aria-label=\"call\" onClick={() => callUser(idToCall)}>\r\n\t\t\t\t\t\t\t<PhoneIcon fontSize=\"large\" />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{idToCall}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{receivingCall && !callAccepted ? (\r\n\t\t\t\t\t\t<div className=\"caller\">\r\n\t\t\t\t\t\t<h1 >{name} is calling...</h1>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={answerCall}>\r\n\t\t\t\t\t\t\tAnswer\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t</>\r\n    )\r\n}\r\n\r\nexport default VideoChatPage\r\n","import React, {useEffect, useState} from \"react\";\r\nimport { Switch, Route, useHistory } from \"react-router-dom\";\r\nimport LandingPage from './pages/LandingPage';\r\nimport { createTheme, Paper, ThemeProvider } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport API_URL from './config';\r\nimport SignupCategoryPage from \"./pages/SignupCategoryPage\";\r\nimport SignupGroupPage from \"./pages/SignupGroupPage\";\r\nimport ExploreGroupPage from \"./pages/ExploreGroupPage\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport GroupPage from \"./pages/GroupPage\";\r\nimport FlashMessage from \"./components/FlashMessage\";\r\nimport UserPage from './pages/UserPage';\r\nimport UserContext from './contexts/UserContext';\r\nimport PeoplePage from \"./pages/PeoplePage\";\r\nimport FriendsPage from \"./pages/FriendsPage\";\r\nimport ChatPage from './pages/ChatPage'\r\nimport EventPage from \"./pages/EventPage\";\r\nimport NotFound from './pages/NotFound';\r\nimport Animation from './components/Animation'\r\nimport loading from './json/loading.json';\r\nimport defaultTheme from \"./contexts/DefaultTheme\";\r\nimport darkTheme from \"./contexts/DarkTheme\";\r\nimport VideoChatPage from \"./pages/VideoChatPage\";\r\n\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null)\r\n  const[fetchingUser,setFetchingUser]=useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [successMessage, setSuccessMessage] = useState(null)\r\n  const [snackbar, setSnackbar] = useState('success')\r\n  const [randomNumber, setRandomNumber] = useState(0)\r\n  const [showDarkTheme, setShowDarkTheme] = useState(false)\r\n\r\n  let history = useHistory(); \r\n\r\n  useEffect(() => {\r\n       (async () => {\r\n          try {\r\n            let response = await axios.get(`${API_URL}/api/user`, {withCredentials: true})\r\n            setUser(response.data)\r\n            setFetchingUser(false);\r\n          }\r\n          catch(error) {\r\n            setFetchingUser(false);\r\n          }\r\n       })()\r\n    }, [])\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    const { username, password} = event.target;\r\n    let myUser = {\r\n      username: username.value,\r\n      password: password.value\r\n    }\r\n\r\n    try {\r\n      let response = await axios.post(`${API_URL}/api/auth/login`, myUser, {withCredentials: true});\r\n      setSnackbar('success')\r\n      setRandomNumber(Math.random()*100)  \r\n      setSuccessMessage(response.data.successMessage)\r\n      await setUser(response.data.userData);\r\n      history.push('/home')\r\n    }\r\n    catch(err){\r\n      setSnackbar('error') \r\n      setRandomNumber(Math.random()*100)\r\n      setErrorMessage(err.response.data.errorMessage)\r\n    }\r\n  }\r\n \r\n  const handleSignUp = async (event) => {\r\n    event.preventDefault()\r\n    try{\r\n      const {username, email, password} = event.target\r\n      let newUser = {\r\n          username: username.value,\r\n          email: email.value,\r\n          password: password.value\r\n      } \r\n\r\n      let response = await axios.post(`${API_URL}/api/auth/signup`, newUser, {withCredentials: true})\r\n      console.log(response)\r\n        setSnackbar('success')\r\n        setRandomNumber(Math.random()*100)  \r\n        setSuccessMessage(response.data.successMessage)\r\n        await setUser(response.data.userData)      \r\n        history.push('/signup/category')\r\n    }\r\n    catch (error) {\r\n        setSnackbar('error') \r\n        setRandomNumber(Math.random()*100)\r\n        setErrorMessage(error.response.data.errorMessage)\r\n    }\r\n  }\r\n\r\n  const handleUpdateUser = async (userData) => {\r\n    try {\r\n      let response = await axios.post(`${API_URL}/api/user`, userData,  {withCredentials: true});\r\n      setUser(response.data.newUser)\r\n    }\r\n    catch(error) {\r\n      setSnackbar('error') \r\n      setRandomNumber(Math.random()*100)\r\n      setErrorMessage(error.response.data.errorMessage) \r\n    }\r\n  }\r\n\r\n  const handleSuccessMessage = (success) => {\r\n    setSnackbar('success')\r\n    setRandomNumber(Math.random()*100)  \r\n    setSuccessMessage(success)\r\n  }\r\n\r\n  const handleErrorMessage = (error) => {\r\n    setSnackbar('error') \r\n    setRandomNumber(Math.random()*100)\r\n    setErrorMessage(error)\r\n  }\r\n\r\n  const handleLogout = async () => {\r\n    try{\r\n      history.push('/')\r\n      await axios.post(`${API_URL}/api/auth/logout`, {}, {withCredentials: true})\r\n      setUser(null) \r\n    } catch (error) {\r\n      handleErrorMessage(`Oops, looks like you're stuck here buddy!`)\r\n    }\r\n  }\r\n\r\n  const handleChangeThemeColor = () => {\r\n    setShowDarkTheme(prevShowDarkThem => !prevShowDarkThem)\r\n    console.log(showDarkTheme)\r\n  }\r\n\r\nif(fetchingUser){\r\n    return  <Animation width={300} height={300} animation={loading} />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <ThemeProvider theme={showDarkTheme ? darkTheme : defaultTheme}>\r\n        <UserContext.Provider value={{user, onUpdateUser: handleUpdateUser, onLogout: handleLogout, onChangeThemeColor: handleChangeThemeColor}}>\r\n          <Switch>\r\n            <Route exact path={'/'} render={(routeProps) => {\r\n              return <LandingPage {...routeProps} trigger={randomNumber} messageType={snackbar} success={successMessage} error={errorMessage} onLogin={handleLogin} onSignUp={handleSignUp}/>\r\n            }}/>\r\n            <Route path={'/signup/category'} render={(routeProps) => {\r\n              return <SignupCategoryPage {...routeProps}/>\r\n            }}/>\r\n            <Route path={'/signup/group'} render={(routeProps) => {\r\n              return <SignupGroupPage {...routeProps}/>\r\n            }}/>\r\n            <Route path={'/home'} render={(routeProps) => {\r\n              return <HomePage {...routeProps} />\r\n            }}/>\r\n            <Route path={'/explore'} render={(routeProps) => {\r\n              return <ExploreGroupPage {...routeProps} onError={handleErrorMessage} onSuccess={handleSuccessMessage}/>\r\n            }}/>\r\n            <Route exactpath={'/profile/:userId'}render={(routeProps)=>{\r\nreturn<UserPage {...routeProps} onError={handleErrorMessage} onSuccess={handleSuccessMessage}/>\r\n            }}/>\r\n            <Route exactpath={'/events'}render={(routeProps)=>{\r\nreturn<EventPage {...routeProps}/>\r\n            }}/>\r\n            <Route path={'/people'} render={(routeProps) => {\r\n              return <PeoplePage {...routeProps} onUpdateUser={handleUpdateUser} onError={handleErrorMessage} onSuccess={handleSuccessMessage} user={user}/>\r\n            }}/>\r\n            <Routepath={'/friends'}render={(routeProps)=>{\r\nreturn<FriendsPage{...routeProps} onUpdateUser={handleUpdateUser} onError={handleErrorMessage} onSuccess={handleSuccessMessage} user={user}/>\r\n}}/>\r\n            <Routepath={'/group/:group'}render={(routeProps)=>{\r\nreturn<GroupPage{...routeProps}/>\r\n}}/>\r\n            <Route exactpath={'/chat/:chatId'}render={(routeProps)=>{\r\nreturn<ChatPage user={user} {...routeProps}/>\r\n}}/>\r\n            <Routepath={'/face-lab'}render={(routeProps)=>{\r\nreturn<VideoChatPage{...routeProps}/>\r\n}}/>\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n          {\r\n           snackbar === 'success' ? <FlashMessage trigger={randomNumber} messageType={snackbar}>{successMessage}</FlashMessage> : <FlashMessage trigger={randomNumber} messageType={snackbar}>{errorMessage}</FlashMessage> \r\n          }\r\n        </UserContext.Provider>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}